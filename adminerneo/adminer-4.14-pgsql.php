<?php
/**
 * AdminerNeo - Database management in a single PHP file
 *
 * @link https://github.com/adminerneo/adminerneo
 * @author Jakub Vrana (https://www.vrana.cz/)
 * @author Peter Knut
 * @copyright 2007-2021 Jakub Vrana, 2024 Peter Knut
 * @license Apache License, Version 2.0 (https://www.apache.org/licenses/LICENSE-2.0)
 * @license GNU General Public License, version 2 (https://www.gnu.org/licenses/gpl-2.0.html)
 * @version 4.14
*/
function adminer_errors($wc,$yc){return(bool)preg_match('~^(Trying to access array offset on( value of type)? null|Undefined array key)~',$yc);}error_reporting(6135);set_error_handler('adminer_errors',E_WARNING);$Oc=!preg_match('~^(unsafe_raw)?$~',ini_get("filter.default"));if($Oc||ini_get("filter.default_flags")){foreach(array('_GET','_POST','_COOKIE','_SERVER')as$X){$gi=filter_input_array(constant("INPUT$X"),FILTER_UNSAFE_RAW);if($gi)$$X=$gi;}}if(function_exists("mb_internal_encoding"))mb_internal_encoding("8bit");
function connection(){global$f;return$f;}
function adminer(){global$c;return$c;}
function version(){global$ha;return$ha;}
function idf_unescape($xd){if(!preg_match('~^[`\'"[]~',$xd))return$xd;$ae=substr($xd,-1);return str_replace($ae.$ae,$ae,substr($xd,1,-1));}
function escape_string($X){return substr(q($X),1,-1);}
function number($X){return preg_replace('~[^0-9]+~','',$X);}
function number_type(){return'((?<!o)int(?!er)|numeric|real|float|double|decimal|money)';}
function remove_slashes($Zf,$Oc=false){if(function_exists("get_magic_quotes_gpc")&&get_magic_quotes_gpc()){while(list($x,$X)=each($Zf)){foreach($X as$Rd=>$W){unset($Zf[$x][$Rd]);if(is_array($W)){$Zf[$x][stripslashes($Rd)]=$W;$Zf[]=&$Zf[$x][stripslashes($Rd)];}else$Zf[$x][stripslashes($Rd)]=($Oc?$W:stripslashes($W));}}}}
function bracket_escape($xd,$Ha=false){static$Sh=array(':'=>':1',']'=>':2','['=>':3','"'=>':4');return strtr($xd,($Ha?array_flip($Sh):$Sh));}
function min_version($yi,$ne="",$g=null){global$f;if(!$g)$g=$f;$Ng=$g->server_info;if($ne&&preg_match('~([\d.]+)-MariaDB~',$Ng,$A)){$Ng=$A[1];$yi=$ne;}if($yi=="")return false;return(version_compare($Ng,$yi)>=0);}
function charset($f){return(min_version("5.5.3",0,$f)?"utf8mb4":"utf8");}
function script($Zg,$Rh="\n"){return"<script".nonce().">$Zg</script>$Rh";}
function script_src($li){return"<script src='".h($li)."'".nonce()."></script>\n";}
function nonce(){return' nonce="'.get_nonce().'"';}
function target_blank(){return' target="_blank" rel="noreferrer noopener"';}
function h($ih){return str_replace("\0","&#0;",htmlspecialchars($ih,ENT_QUOTES,'utf-8'));}
function checkbox($D,$Y,$Ya,$Vd="",$af="",$cb="",$Wd=""){$J="<input type='checkbox' name='$D' value='".h($Y)."'".($Ya?" checked":"").($Wd?" aria-labelledby='$Wd'":"").">".($af?script("qsl('input').onclick = function () { $af };",""):"");return($Vd!=""||$cb?"<label".($cb?" class='$cb'":"").">$J".h($Vd)."</label>":$J);}
function optionlist($hf,$Gg=null,$pi=false){$J="";foreach($hf as$Rd=>$W){$if=array($Rd=>$W);if(is_array($W)){$J.='<optgroup label="'.h($Rd).'">';$if=$W;}foreach($if as$x=>$X)$J.='<option'.($pi||is_string($x)?' value="'.h($x).'"':'').(($pi||is_string($x)?(string)$x:$X)===$Gg?' selected':'').'>'.h($X);if(is_array($W))$J.='</optgroup>';}return$J;}
function html_select($D,$hf,$Y="",$Ze=true,$Wd=""){if($Ze)return"<select name='".h($D)."'".($Wd?" aria-labelledby='$Wd'":"").">".optionlist($hf,$Y)."</select>".(is_string($Ze)?script("qsl('select').onchange = function () { $Ze };",""):"");$J="";foreach($hf as$x=>$X)$J.="<label><input type='radio' name='".h($D)."' value='".h($x)."'".($x==$Y?" checked":"").">".h($X)."</label>";return$J;}
function select_input($Da,$hf,$Y="",$Ze="",$Mf=""){$zh=($hf?"select":"input");return"<$zh $Da".($hf?"><option value=''>$Mf".optionlist($hf,$Y,true)."</select>":" size='10' value='".h($Y)."' placeholder='$Mf'>").($Ze?script("qsl('$zh').onchange = $Ze;",""):"");}
function confirm($C="",$Hg="qsl('input')"){return script("$Hg.onclick = function () { return confirm('".($C?js_escape($C):lang(0))."'); };","");}
function print_fieldset($t,$fe,$Ai=false,$Yg=false){echo"<fieldset><legend>","<a href='#fieldset-$t'>$fe</a>",script("qsl('a').onclick = partial(toggle, 'fieldset-$t');",""),"</legend>","<div id='fieldset-$t' class='".($Ai?"":"hidden").($Yg?" sortable":"")."'>\n";}
function bold($Oa,$cb=""){return($Oa?" class='active $cb'":($cb?" class='$cb'":""));}
function odd($J=' class="odd"'){static$s=0;if(!$J)$s=-1;return($s++%2?$J:'');}
function js_escape($ih){return addcslashes($ih,"\r\n'\\/");}
function json_row($x,$X=null){static$Pc=true;if($Pc)echo"{";if($x!=""){echo($Pc?"":",")."\n\t\"".addcslashes($x,"\r\n\t\"\\/").'": '.($X!==null?'"'.addcslashes($X,"\r\n\"\\/").'"':'null');$Pc=false;}else{echo"\n}\n";$Pc=true;}}
function ini_bool($Fd){$X=ini_get($Fd);return(preg_match('~^(on|true|yes)$~i',$X)||(int)$X);}
function sid(){static$J;if($J===null)$J=(SID&&!($_COOKIE&&ini_bool("session.use_cookies")));return$J;}
function set_password($xi,$N,$V,$Hf){$_SESSION["pwds"][$xi][$N][$V]=($_COOKIE["adminer_key"]&&is_string($Hf)?array(encrypt_string($Hf,$_COOKIE["adminer_key"])):$Hf);}
function get_password(){$J=get_session("pwds");if(is_array($J))$J=($_COOKIE["adminer_key"]?decrypt_string($J[0],$_COOKIE["adminer_key"]):false);return$J;}
function q($ih){global$f;return$f->quote($ih);}
function get_vals($H,$d=0){global$f;$J=array();$I=$f->query($H);if(is_object($I)){while($K=$I->fetch_row())$J[]=$K[$d];}return$J;}
function get_key_vals($H,$g=null,$Sg=true){global$f;if(!is_object($g))$g=$f;$J=array();$I=$g->query($H);if(is_object($I)){while($K=$I->fetch_row()){if($Sg)$J[$K[0]]=$K[1];else$J[]=$K[0];}}return$J;}
function get_rows($H,$g=null,$l="<p class='error'>"){global$f;$vb=(is_object($g)?$g:$f);$J=array();$I=$vb->query($H);if(is_object($I)){while($K=$I->fetch_assoc())$J[]=$K;}elseif(!$I&&!is_object($g)&&$l&&defined("PAGE_HEADER"))echo$l.error()."\n";return$J;}
function unique_array($K,$v){foreach($v as$u){if(preg_match("~PRIMARY|UNIQUE~",$u["type"])){$J=array();foreach($u["columns"]as$x){if(!isset($K[$x]))continue 2;$J[$x]=$K[$x];}return$J;}}}
function escape_key($x){if(preg_match('(^([\w(]+)('.str_replace("_",".*",preg_quote(idf_escape("_"))).')([ \w)]+)$)',$x,$A))return$A[1].idf_escape(idf_unescape($A[2])).$A[3];return idf_escape($x);}
function where($Z,$n=array()){global$f,$w;$tb=[];foreach((array)$Z["where"]as$x=>$X){$x=bracket_escape($x,1);$d=escape_key($x);if($w=="sql"&&$n[$x]["type"]=="json")$tb[]="$d = CAST(".q($X)." AS JSON)";elseif($w=="sql"&&is_numeric($X)&&strpos($X,".")!==false)$tb[]="$d LIKE ".q($X);elseif($w=="mssql")$tb[]="$d LIKE ".q(preg_replace('~[_%[]~','[\0]',$X));else$tb[]="$d = ".unconvert_field($n[$x],q($X));if($w=="sql"&&preg_match('~char|text~',$n[$x]["type"])&&preg_match("~[^ -@]~",$X))$tb[]="$d = ".q($X)." COLLATE ".charset($f)."_bin";}foreach((array)$Z["null"]as$x)$tb[]=escape_key($x)." IS NULL";return implode(" AND ",$tb);}
function where_check($X,$n=array()){parse_str($X,$Wa);remove_slashes(array(&$Wa));return where($Wa,$n);}
function where_link($s,$d,$Y,$cf="="){return"&where%5B$s%5D%5Bcol%5D=".urlencode($d)."&where%5B$s%5D%5Bop%5D=".urlencode(($Y!==null?$cf:"IS NULL"))."&where%5B$s%5D%5Bval%5D=".urlencode($Y);}
function convert_fields($e,$n,$M=array()){$J="";foreach($e as$x=>$X){if($M&&!in_array(idf_escape($x),$M))continue;$Ca=convert_field($n[$x]);if($Ca)$J.=", $Ca AS ".idf_escape($x);}return$J;}
function cookie($D,$Y,$ie=2592000){global$ba;return header("Set-Cookie: $D=".urlencode($Y).($ie?"; expires=".gmdate("D, d M Y H:i:s",time()+$ie)." GMT":"")."; path=".preg_replace('~\?.*~','',$_SERVER["REQUEST_URI"]).($ba?"; secure":"")."; HttpOnly; SameSite=lax",false);}
function restart_session(){if(!ini_bool("session.use_cookies"))session_start();}
function stop_session($Uc=false){$oi=ini_bool("session.use_cookies");if(!$oi||$Uc){session_write_close();if($oi&&@ini_set("session.use_cookies",false)===false)session_start();}}
function&get_session($x){return$_SESSION[$x][DRIVER][SERVER][$_GET["username"]];}
function set_session($x,$X){$_SESSION[$x][DRIVER][SERVER][$_GET["username"]]=$X;}
function auth_url($xi,$N,$V,$j=null){global$cc;preg_match('~([^?]*)\??(.*)~',remove_from_uri(implode("|",array_keys($cc))."|username|".($j!==null?"db|":"").session_name()),$A);return"$A[1]?".(sid()?SID."&":"").urlencode($xi)."=".urlencode($N)."&"."username=".urlencode($V).($j!=""?"&db=".urlencode($j):"").($A[2]?"&$A[2]":"");}
function is_ajax(){return($_SERVER["HTTP_X_REQUESTED_WITH"]=="XMLHttpRequest");}
function redirect($_,$C=null){if($C!==null){restart_session();$_SESSION["messages"][preg_replace('~^[^?]*~','',($_!==null?$_:$_SERVER["REQUEST_URI"]))][]=$C;}if($_!==null){if($_=="")$_=".";header("Location: $_");exit;}}
function query_redirect($H,$_,$C,$ig=true,$Bc=true,$Ic=false,$Gh=""){global$f,$l,$c;if($Bc){$fh=microtime(true);$Ic=!$f->query($H);$Gh=format_time($fh);}$ch="";if($H)$ch=$c->messageQuery($H,$Gh,$Ic);if($Ic){$l=error().$ch.script("messagesPrint();");return false;}if($ig)redirect($_,$C.$ch);return true;}
function queries($H){global$f;static$cg=array();static$fh;if(!$fh)$fh=microtime(true);if($H===null)return array(implode("\n",$cg),format_time($fh));$cg[]=(preg_match('~;$~',$H)?"DELIMITER ;;\n$H;\nDELIMITER ":$H).";";return$f->query($H);}
function apply_queries($H,$S,$zc='table'){foreach($S as$Q){if(!queries("$H ".$zc($Q)))return false;}return true;}
function queries_redirect($_,$C,$ig){list($cg,$Gh)=queries(null);return query_redirect($cg,$_,$C,$ig,false,!$ig,$Gh);}
function format_time($fh){return lang(1,max(0,microtime(true)-$fh));}
function relative_uri(){return str_replace(":","%3a",preg_replace('~^[^?]*/([^?]*)~','\1',$_SERVER["REQUEST_URI"]));}
function remove_from_uri($xf=""){return substr(preg_replace("~(?<=[?&])($xf".(SID?"":"|".session_name()).")=[^&]*&~",'',relative_uri()."&"),0,-1);}
function pagination($E,$Hb){return" ".($E==$Hb?$E+1:'<a href="'.h(remove_from_uri("page").($E?"&page=$E".($_GET["next"]?"&next=".urlencode($_GET["next"]):""):"")).'">'.($E+1)."</a>");}
function get_file($x,$Ob=false){$o=$_FILES[$x];if(!$o)return null;foreach($o as$x=>$X)$o[$x]=(array)$X;$J='';foreach($o["error"]as$x=>$l){if($l)return$l;$D=$o["name"][$x];$Oh=$o["tmp_name"][$x];$zb=file_get_contents($Ob&&preg_match('~\.gz$~',$D)?"compress.zlib://$Oh":$Oh);if($Ob){$fh=substr($zb,0,3);if(function_exists("iconv")&&preg_match("~^\xFE\xFF|^\xFF\xFE~",$fh,$og))$zb=iconv("utf-16","utf-8",$zb);elseif($fh=="\xEF\xBB\xBF")$zb=substr($zb,3);$J.=$zb."\n\n";}else$J.=$zb;}return$J;}
function upload_error($l){$ue=($l==UPLOAD_ERR_INI_SIZE?ini_get("upload_max_filesize"):0);return($l?lang(2).($ue?" ".lang(3,$ue):""):lang(4));}
function repeat_pattern($Jf,$ge){return str_repeat("$Jf{0,65535}",$ge/65535)."$Jf{0,".($ge%65535)."}";}
function is_utf8($X){return(preg_match('~~u',$X)&&!preg_match('~[\0-\x8\xB\xC\xE-\x1F]~',$X));}
function shorten_utf8($ih,$ge=80,$mh=""){if($ih=="")return$mh;if(!preg_match("(^(".repeat_pattern("[\t\r\n -\x{10FFFF}]",$ge).")($)?)u",$ih,$A))preg_match("(^(".repeat_pattern("[\t\r\n -~]",$ge).")($)?)",$ih,$A);return h($A[1]).$mh.(isset($A[2])?"":"<i>â€¦</i>");}
function format_number($X){return strtr(number_format($X,0,".",lang(5)),preg_split('~~u',lang(6),-1,PREG_SPLIT_NO_EMPTY));}
function friendly_url($X){return preg_replace('~[^a-z0-9_]~i','-',$X);}
function hidden_fields($Zf,$yd=array(),$Sf=''){$J=false;foreach($Zf as$x=>$X){if(!in_array($x,$yd)){if(is_array($X))hidden_fields($X,array(),$x);else{$J=true;echo'<input type="hidden" name="'.h($Sf?$Sf."[$x]":$x).'" value="'.h($X).'">';}}}return$J;}
function hidden_fields_get(){echo(sid()?'<input type="hidden" name="'.session_name().'" value="'.h(session_id()).'">':''),(SERVER!==null?'<input type="hidden" name="'.DRIVER.'" value="'.h(SERVER).'">':""),'<input type="hidden" name="username" value="'.h($_GET["username"]).'">';}
function table_status1($Q,$Jc=false){$J=table_status($Q,$Jc);return($J?:array("Name"=>$Q));}
function column_foreign_keys($Q){global$c;$J=array();foreach($c->foreignKeys($Q)as$p){foreach($p["source"]as$X)$J[$X][]=$p;}return$J;}
function enum_input($U,$Da,$m,$Y,$qc=null){global$c;$J=($qc!==null&&!is_strict_mode()?"<label><input type='$U'$Da value='$qc'".((is_array($Y)?in_array($qc,$Y):$Y===0)?" checked":"")."><i>".lang(7)."</i></label>":"");preg_match_all("~'((?:[^']|'')*)'~",$m["length"],$B);foreach($B[1]as$s=>$X){$X=stripcslashes(str_replace("''","'",$X));$Ya=(is_int($Y)?$Y==$s+1:(is_array($Y)?in_array($s+1,$Y):$Y===$X));$J.=" <label><input type='$U'$Da value='".($s+1)."'".($Ya?' checked':'').'>'.h($c->editVal($X,$m)).'</label>';}return$J;}
function input($m,$Y,$q){global$bi,$c,$w;$D=h(bracket_escape($m["field"]));if(is_array($Y)&&!$q){$Aa=array($Y);if(version_compare(PHP_VERSION,5.4)>=0)$Aa[]=JSON_PRETTY_PRINT;$Y=call_user_func_array('json_encode',$Aa);$q="json";}$qg=($w=="mssql"&&$m["auto_increment"]);if($qg&&!$_POST["save"])$q=null;$dd=(isset($_GET["select"])||$qg?array("orig"=>lang(8)):array())+$c->editFunctions($m);$Yb=stripos($m["default"],"GENERATED ALWAYS AS ")===0?" disabled=''":"";$Da=" name='fields[$D]' $Yb";echo"<td class='function'>";if($m["type"]=="enum")echo h($dd[""])."<td>".$c->editInput($_GET["edit"],$m,$Da,$Y,$q);else{$od=(in_array($q,$dd)||isset($dd[$q]));echo(count($dd)>1?"<select name='function[$D]' $Yb>".optionlist($dd,$q===null||$od?$q:"")."</select>".help_script_command("value.replace(/^SQL\$/, '')",true).script("qsl('select').onchange = functionChange;",""):h(reset($dd))).'<td>';$Hd=$c->editInput($_GET["edit"],$m,$Da,$Y,$q);if($Hd!="")echo$Hd;elseif(preg_match('~bool~',$m["type"]))echo"<input type='hidden'$Da value='0'>"."<input type='checkbox'".(preg_match('~^(1|t|true|y|yes|on)$~i',$Y)?" checked='checked'":"")."$Da value='1'>";elseif($m["type"]=="set"){preg_match_all("~'((?:[^']|'')*)'~",$m["length"],$B);foreach($B[1]as$s=>$X){$X=stripcslashes(str_replace("''","'",$X));$Ya=(is_int($Y)?($Y>>$s)&1:in_array($X,explode(",",$Y),true));echo" <label><input type='checkbox' name='fields[$D][$s]' value='".(1<<$s)."'".($Ya?' checked':'').">".h($c->editVal($X,$m)).'</label>';}}elseif(preg_match('~blob|bytea|raw|file~',$m["type"])&&ini_bool("file_uploads"))echo"<input type='file' name='fields-$D'>";elseif(($Dh=preg_match('~text|lob|memo~i',$m["type"]))||preg_match("~\n~",$Y)){if($Dh&&$w!="sqlite")$Da.=" cols='50' rows='12'";else{$L=min(12,substr_count($Y,"\n")+1);$Da.=" cols='30' rows='$L'";}echo"<textarea$Da>".h($Y).'</textarea>';}elseif($q=="json"||preg_match('~^jsonb?$~',$m["type"]))echo"<textarea$Da cols='50' rows='12' class='jush-js'>".h($Y).'</textarea>';else{$we=(!preg_match('~int~',$m["type"])&&preg_match('~^(\d+)(,(\d+))?$~',$m["length"],$A)?((preg_match("~binary~",$m["type"])?2:1)*$A[1]+($A[3]?1:0)+($A[2]&&!$m["unsigned"]?1:0)):($bi[$m["type"]]?$bi[$m["type"]]+($m["unsigned"]?0:1):0));if($w=='sql'&&min_version(5.6)&&preg_match('~time~',$m["type"]))$we+=7;echo"<input".((!$od||$q==="")&&preg_match('~(?<!o)int(?!er)~',$m["type"])&&!preg_match('~\[\]~',$m["full_type"])?" type='number'":"").($q!="now"?" value='".h($Y)."'":" data-last-value='".h($Y)."'").($we?" data-maxlength='$we'":"").(preg_match('~char|binary~',$m["type"])&&$we>20?" size='40'":"")."$Da>";}echo$c->editHint($_GET["edit"],$m,$Y);$Pc=0;foreach($dd as$x=>$X){if($x===""||!$X)break;$Pc++;}echo script("mixin(qsl('td'), {onchange: partial(skipOriginal, $Pc), oninput: function () { this.onchange(); }});");}}
function process_input($m){global$c,$k;if(stripos($m["default"],"GENERATED ALWAYS AS ")===0)return null;$xd=bracket_escape($m["field"]);$q=$_POST["function"][$xd];$Y=$_POST["fields"][$xd];if($m["type"]=="enum"){if($Y==-1)return false;if($Y=="")return"NULL";return+$Y;}if($m["auto_increment"]&&$Y=="")return null;if($q=="orig")return(preg_match('~^CURRENT_TIMESTAMP~i',$m["on_update"])?idf_escape($m["field"]):false);if($q=="NULL")return"NULL";if($m["type"]=="set")return array_sum((array)$Y);if($q=="json"){$q="";$Y=json_decode($Y,true);if(!is_array($Y))return false;return$Y;}if(preg_match('~blob|bytea|raw|file~',$m["type"])&&ini_bool("file_uploads")){$o=get_file("fields-$xd");if(!is_string($o))return false;return$k->quoteBinary($o);}return$c->processInput($m,$Y,$q);}
function fields_from_edit(){global$k;$J=array();foreach((array)$_POST["field_keys"]as$x=>$X){if($X!=""){$X=bracket_escape($X);$_POST["function"][$X]=$_POST["field_funs"][$x];$_POST["fields"][$X]=$_POST["field_vals"][$x];}}foreach((array)$_POST["fields"]as$x=>$X){$D=bracket_escape($x,1);$J[$D]=array("field"=>$D,"privileges"=>array("insert"=>1,"update"=>1,"where"=>1,"order"=>1),"null"=>1,"auto_increment"=>($x==$k->primary),);}return$J;}
function search_tables(){global$c,$f;$_GET["where"][0]["val"]=$_POST["query"];$Jg="<ul>\n";foreach(table_status('',true)as$Q=>$R){$D=$c->tableName($R);if(isset($R["Engine"])&&$D!=""&&(!$_POST["tables"]||in_array($Q,$_POST["tables"]))){$I=$f->query("SELECT".limit("1 FROM ".table($Q)," WHERE ".implode(" AND ",$c->selectSearchProcess(fields($Q),array())),1));if(!$I||$I->fetch_row()){$Vf="<a href='".h(ME."select=".urlencode($Q)."&where[0][op]=".urlencode($_GET["where"][0]["op"])."&where[0][val]=".urlencode($_GET["where"][0]["val"]))."'>$D</a>";echo"$Jg<li>".($I?$Vf:"<p class='error'>$Vf: ".error())."\n";$Jg="";}}}echo($Jg?"<p class='message'>".lang(9):"</ul>")."\n";}
function get_partitions_info($Q){global$f;$cd="FROM information_schema.PARTITIONS WHERE TABLE_SCHEMA = ".q(DB)." AND TABLE_NAME = ".q($Q);$I=$f->query("SELECT PARTITION_METHOD, PARTITION_EXPRESSION, PARTITION_ORDINAL_POSITION $cd ORDER BY PARTITION_ORDINAL_POSITION DESC LIMIT 1");$Ed=[];list($Ed["partition_by"],$Ed["partition"],$Ed["partitions"])=$I->fetch_row();$Df=get_key_vals("SELECT PARTITION_NAME, PARTITION_DESCRIPTION $cd AND PARTITION_NAME != '' ORDER BY PARTITION_ORDINAL_POSITION");$Ed["partition_names"]=array_keys($Df);$Ed["partition_values"]=array_values($Df);return$Ed;}
function dump_headers($wd,$De=false){global$c;$J=$c->dumpHeaders($wd,$De);$uf=$_POST["output"];if($uf!="text")header("Content-Disposition: attachment; filename=".$c->dumpFilename($wd).".$J".($uf!="file"&&preg_match('~^[0-9a-z]+$~',$uf)?".$uf":""));session_write_close();ob_flush();flush();return$J;}
function dump_csv($K){foreach($K as$x=>$X){if(preg_match('~["\n,;\t]|^0|\.\d*0$~',$X)||$X==="")$K[$x]='"'.str_replace('"','""',$X).'"';}echo implode(($_POST["format"]=="csv"?",":($_POST["format"]=="tsv"?"\t":";")),$K)."\r\n";}
function apply_sql_function($q,$d){return($q?($q=="unixepoch"?"DATETIME($d, '$q')":($q=="count distinct"?"COUNT(DISTINCT ":strtoupper("$q("))."$d)"):$d);}
function get_temp_dir(){$J=ini_get("upload_tmp_dir");if(!$J){if(function_exists('sys_get_temp_dir'))$J=sys_get_temp_dir();else{$Nc=@tempnam("","");if(!$Nc)return false;$J=dirname($Nc);unlink($Nc);}}return$J;}
function open_file_with_lock($Nc){$o=fopen($Nc,"c+");if(!$o)return null;chmod($Nc,0660);if(!flock($o,LOCK_EX)){fclose($o);return null;}return$o;}
function write_and_unlock_file($o,$Jb){rewind($o);fwrite($o,$Jb);ftruncate($o,strlen($Jb));unlock_file($o);}
function unlock_file($o){flock($o,LOCK_UN);fclose($o);}
function get_private_key($h){$Nc=get_temp_dir()."/adminer.key";if(!$h&&!file_exists($Nc))return false;$o=open_file_with_lock($Nc);if(!$o)return false;$x=stream_get_contents($o);if(!$x){$x=get_random_string();write_and_unlock_file($o,$x);}else unlock_file($o);return$x;}
function get_random_string($La=false){$Ra=function_exists('random_bytes')?random_bytes(32):uniqid(mt_rand(),true);return$La?$Ra:md5($Ra);}
function select_value($X,$z,$m,$Fh){global$c;if(is_array($X)){$J="";foreach($X as$Rd=>$W)$J.="<tr>".($X!=array_values($X)?"<th>".h($Rd):"")."<td>".select_value($W,$z,$m,$Fh);return"<table>$J</table>";}if(!$z)$z=$c->selectLink($X,$m);if($z===null){if(is_mail($X))$z="mailto:$X";if(is_web_url($X))$z=$X;}$J=$c->editVal($X,$m);if($J!==null){if(!is_utf8($J))$J="\0";elseif($Fh!=""&&is_shortable($m))$J=shorten_utf8($J,max(0,+$Fh));else$J=h($J);}return$c->selectVal($J,$z,$m,$X);}
function is_mail($Y){return is_string($Y)&&filter_var($Y,FILTER_VALIDATE_EMAIL);}
function is_web_url($Y){if(!is_string($Y)||!preg_match('~^https?://~i',$Y))return false;$qb=parse_url($Y);if(!$qb)return false;$sc=array_map('urlencode',explode('/',$qb['path']));$li=str_replace($qb['path'],implode('/',$sc),$Y);parse_str($qb['query'],$F);$li=str_replace($qb['query'],http_build_query($F),$li);return(bool)filter_var($li,FILTER_VALIDATE_URL);}
function is_shortable($m){return preg_match('~char|text|json|lob|geometry|point|linestring|polygon|string|bytea~',$m["type"]);}
function count_rows($Q,$Z,$Nd,$r){global$w;$H=" FROM ".table($Q).($Z?" WHERE ".implode(" AND ",$Z):"");return($Nd&&($w=="sql"||count($r)==1)?"SELECT COUNT(DISTINCT ".implode(", ",$r).")$H":"SELECT COUNT(*)".($Nd?" FROM (SELECT 1$H GROUP BY ".implode(", ",$r).") x":$H));}
function slow_query($H){global$c,$T,$k;$j=$c->database();$Hh=$c->queryTimeout();$Xg=$k->slowQuery($H,$Hh);if(!$Xg&&support("kill")&&is_object($g=connect())&&($j==""||$g->select_db($j))){$Td=$g->result(connection_id());echo'<script',nonce(),'>
var timeout = setTimeout(function () {
	ajax(\'',js_escape(ME),'script=kill\', function () {
	}, \'kill=',$Td,'&token=',$T,'\');
}, ',1000*$Hh,');
</script>
';}else$g=null;ob_flush();flush();$J=@get_key_vals(($Xg?$Xg:$H),$g,false);if($g){echo script("clearTimeout(timeout);");ob_flush();flush();}return$J;}
function get_token(){$gg=rand(1,1e6);return($gg^$_SESSION["token"]).":$gg";}
function verify_token(){list($T,$gg)=explode(":",$_POST["token"]);return($gg^$_SESSION["token"])==$T;}
function lzw_decompress($La){$Xb=256;$Ma=8;$eb=array();$rg=0;$sg=0;for($s=0;$s<strlen($La);$s++){$rg=($rg<<8)+ord($La[$s]);$sg+=8;if($sg>=$Ma){$sg-=$Ma;$eb[]=$rg>>$sg;$rg&=(1<<$sg)-1;$Xb++;if($Xb>>$Ma)$Ma++;}}$Wb=range("\0","\xFF");$J="";foreach($eb as$s=>$db){$nc=$Wb[$db];if(!isset($nc))$nc=$Gi.$Gi[0];$J.=$nc;if($s)$Wb[]=$Gi.$nc[0];$Gi=$nc;}return$J;}
function help_script($Dh,$Vg=false){return script("initHelpFor(qsl('select, input'), '".h($Dh)."', $Vg);","");}
function help_script_command($kb,$Vg=false){return script("initHelpFor(qsl('select, input'), (value) => { return $kb; }, $Vg);","");}
function edit_form($Q,$n,$K,$ji){global$c,$w,$T,$l;$sh=$c->tableName(table_status1($Q,true));page_header(($ji?lang(10):lang(11)),$l,array("select"=>array($Q,$sh)),$sh);$c->editRowPrint($Q,$n,$K,$ji);if($K===false){echo"<p class='error'>".lang(12)."\n";return;}echo'<form action="" method="post" enctype="multipart/form-data" id="form">
';if(!$n)echo"<p class='error'>".lang(13)."\n";else{echo"<table cellspacing='0' class='layout'>".script("qsl('table').onkeydown = editingKeydown;");foreach($n as$D=>$m){echo"<tr><th>".$c->fieldName($m);$Pb=$_GET["set"][bracket_escape($D)];if($Pb===null){$Pb=$m["default"];if($m["type"]=="bit"&&preg_match("~^b'([01]*)'\$~",$Pb,$og))$Pb=$og[1];}$Y=($K!==null?($K[$D]!=""&&$w=="sql"&&preg_match("~enum|set~",$m["type"])?(is_array($K[$D])?array_sum($K[$D]):+$K[$D]):(is_bool($K[$D])?+$K[$D]:$K[$D])):(!$ji&&$m["auto_increment"]?"":(isset($_GET["select"])?false:$Pb)));if(!$_POST["save"]&&is_string($Y))$Y=$c->editVal($Y,$m);$q=($_POST["save"]?(string)$_POST["function"][$D]:($ji&&preg_match('~^CURRENT_TIMESTAMP~i',$m["on_update"])?"now":($Y===false?null:($Y!==null?'':'NULL'))));if(!$_POST&&!$ji&&$Y==$m["default"]&&preg_match('~^[\w.]+\(~',$Y))$q="SQL";if(preg_match("~time~",$m["type"])&&preg_match('~^CURRENT_TIMESTAMP~i',$Y)){$Y="";$q="now";}if($m["type"]=="uuid"&&$Y=="uuid()"){$Y="";$q="uuid";}input($m,$Y,$q);echo"\n";}if(!support("table"))echo"<tr>"."<th><input name='field_keys[]'>".script("qsl('input').oninput = fieldChange;")."<td class='function'>".html_select("field_funs[]",$c->editFunctions(array("null"=>isset($_GET["select"]))))."<td><input name='field_vals[]'>"."\n";echo"</table>\n";}echo"<p>\n";if($n){echo"<input type='submit' value='".lang(14)."'>\n";if(!isset($_GET["select"])){echo"<input type='submit' name='insert' value='".($ji?lang(15):lang(16))."' title='Ctrl+Shift+Enter'>\n",($ji?script("qsl('input').onclick = function () { return !ajaxForm(this.form, '".lang(17)."â€¦', this); };"):"");}}echo($ji?"<input type='submit' name='delete' value='".lang(18)."'>".confirm()."\n":($_POST||!$n?"":script("qsa('td', gid('form'))[1].firstChild.focus();")));if(isset($_GET["select"]))hidden_fields(array("check"=>(array)$_POST["check"],"clone"=>$_POST["clone"],"all"=>$_POST["all"]));echo'<input type="hidden" name="referer" value="',h(isset($_POST["referer"])?$_POST["referer"]:$_SERVER["HTTP_REFERER"]),'">
<input type="hidden" name="save" value="1">
<input type="hidden" name="token" value="',$T,'">
</form>
';}if(isset($_GET["file"])){if($_SERVER["HTTP_IF_MODIFIED_SINCE"]){header("HTTP/1.1 304 Not Modified");exit;}header("Expires: ".gmdate("D, d M Y H:i:s",time()+365*24*60*60)." GMT");header("Last-Modified: ".gmdate("D, d M Y H:i:s")." GMT");header("Cache-Control: immutable");if($_GET["file"]=="favicon.ico"){header("Content-Type: image/x-icon");echo lzw_decompress("\0\0\0` \0„\0\n @\0´C„è\"\0`EãQ¸àÿ‡?ÀtvM'”JdÁd\\Œb0\0Ä\"™ÀfÓˆ¤îs5›ÏçÑAXPaJ“0„¥‘8„#RŠT©‘z`ˆ#.©ÇcíXÃşÈ€?À-\0¡Im? .«M¶€\0È¯(Ì‰ıÀ/(%Œ\0");}elseif($_GET["file"]=="default.css"){header("Content-Type: text/css; charset=utf-8");echo lzw_decompress("\ræCÉìÆo6ÎC¡Â;1Lf³9ÈŞu7!†hàìÌo7C‘€”^1†¢±”äd0›Œ\"Â	ÈÒa6	SaØÊt4˜æg9‰ÌZs—LÃ³i„äg4›‡CÙÜÒd:BÓi¼ô-3N‚Ø<„Ë!ªÕë#«\rÊt³gÓ\n‡S(îàx±™°s‘† ¤Û èÙQ5ùñÊí	…œŒ¦Kñ—\0-Áa0ÆœDcrÇ›±†uşE“ÊõÚ+GˆÅj®zÃQÔæhš'‡–R]—¼TxSk‘ôĞ1=Çä4sIèÊ:d´ÊuB¥T8L†J‰œt.M¢ª!\nÓ‹`GC¡¼ÛØ88E\\@‡0\n<,c¸Ê4ŒãBDÅJhØ ìÂÂˆ‚\$Š\"Í22Ã‹˜Ğ:0#¨ë;ĞJî)êŠ¦\0d?!\0Z‡Èvğ¼o+Îô½ohÚ÷¥ésä7¾³ğı?ŒxÈÿ¡Ê¤\"¼!¨{¥ÀğL…AĞ²&Š¢èÊñ©npgºp412Âqºc›ªë†!›¶¦Å*”}E‹š?s£¼©®c¤–:+ĞÊ=ªÊÂ´¡Ñ<ı*ƒí	CO®ìU;ÅñŒZª Rä²!`Â8)Ô#QT‹ì§ºé\$OIb²= CÄGS¯k 4ò;öşÉp<ƒsÌ”½A\0\\½ÔÑZBòä4Ã‹ëfœA\nØ2ŒÎj²2¼Agk±ã:¤1®)tnñX¶8ed…Á­›oÜ4dá^¶z#-Ã2ğG0OCJx2) öòc…D<‡J‹R¾²ª„6¶ÅÌ>£…×ØÏ=äõ½u©d9?<S‚]_I/õ„®c…+:ÇvM2ıSk˜Ò6ŒãŞ\" §­Ê©\rª¸Ém×™]#AŞz¦ÖÔJ×ÆÃ¹[8S:EªFÔ’‚\\H[`—\\Uˆé¯;ŠÊÜWÕ£~£V¤:> ìÈ±ÍÑ cFDö\$tÆ!”m}Ãîãjæ,Ög?ÎùÈú83AëCáPÃ†/Cz'6o{±Fñ#-dÏPŒÒë)»âN”¥jë„¢Lg 2…Íëh_œ26ñìĞ\\ƒ£jãD\rÊ£¼7@uÙ…£»³ÛÖ„Ÿ~ûxI¨…¸ÈuwÇãê¢8£§FÀ)×\0X¤[c\rZÖøís!Wİò‚Øè<(z™Øaá”Ö|K˜“AbÍ£4†F÷CyÄ Í®¾7ÊşŸãşA¸:†ĞÄK ({+…yŠ‡úS‰‹Ê5Å…³§îùAÑ[@Áˆ5– ZTMRŸa/p1>Sê¡3†¥QÂs\nQ¹1X:ãƒu\r¼7«c~xƒxwWÎ\0ıEÃş…¼.\0¸ÍêLĞdV‘T£†ˆ±¢ôqF1¦1>P\\ÔÚÆVoÂ+†H³ÑŒ^Ú1‡w.Èà{[kt­¨Âƒ€oMÆ©(T’ùb\\/\$O-Q.ƒ&\r9È!iDªA\$X˜`0ÀĞ¹»õÒe—\"ÙTÒ¾V¹’&ÁÃK	aeä„¹°úŒªn\$‰	¡UVŞN¸6J½Ú‡5”ñOg€¸Å©3I\0l ®V]Ä©[5–Rƒ±HÉ3I%C—.	iÂ­6\0ß˜é)ë\$öŸ¥–²J¤{À¶y,Ù©^{ÄxÏ!Ø¦—œ¨ÙŒÿ ìÈ;¼RáAS³•´-²Ğ*ì\"JjAòü—c,“ÌÉ›‹Ifæ¨é\n‰ÜNÚJGUZfJÉ¥¦¹~ğƒ™D€sŠ¡ÀİHÛ‚¤Ò¶œS Ê¸”*Û˜’’ ; FG\r(TziÔX¡ç‚Çdì•8ÆlÕYD­qº—yFC¸F!òü˜\n—Zk@F•¥ÔºãZe©Q)Ä©ˆƒN’7Œ\rl=‡›ó^±˜0×Rj;¿8DLÍ¶Y§8,•²†É†»+Û}N`ü <)ˆ›‰êê˜îx¹~ˆÃîœæÉÒ4)dM’´­ƒxãË/nT­­¤ı¨{|T®Í5°eD¥¼š³R+QDú…Æa/àŒ”™Ï°Á°k¤÷Á-*(]@ßu¥hv`Aİ»”wö¶Øj„1áV‘\"€O¯m2M\nPJĞæU¦¹·ƒ‰˜PfßFˆÙ¬Ó<Õ¬#pTH™`ó+pARlf[¸l&^+üÈÀe¬^)~pƒc2aÔ9ÆÄpåiH‡r–)Îƒ›\rx\\ùŸSï>T°n·\$­³v’§Şó7Wé(ò\"\n	P5™G)ƒ\\¤¸)ÈğÜ¦À3TWŸ\"§‰Q“ƒPÊÙW)eBR\nAeO#€¤ö(ÔókÃ~3@€È©m…we.¬¢´Z¼gö2.îJ\nöòŞR ¸Ô†¹œ]hm£\\ÅPºº÷2&F—ä\$3‘vÈØõ_SIçÉKË:HD˜/ĞE@dM&BO]qP>E’)ë+TšÛ(Å†)ãEØ™)ìŸ¶7š•ŠñixÌaˆ³ö'm˜»E<m#“uàú{På¼¸ƒ DÿÁÜÜrì470óå/C]ã-x<àÔÑ½0rÄ&-MOí[zNHãË2ÌŞîŞÚø#iLåAS%%ÍØà]³vü¸—[­‡f\rŞæ·\nF­[…FÆ×nCkGf>³ÅöõğÜ\$)CíhĞÁÖÚÛöè7”r&1Üx³¨ŸbŸ<çÁË s\r¸ç4.Å˜îaÄ \"sŠ±ÏÚà\\å¤ñ”<?ˆé0ÈaC9Şgº·Émc:õBœ´+N¨\\.ÑÚ\0* İiPÄ*²;»]P[‘Œod:‡¾Øb;q{îÏê³Á±Øê›	ÉMk3ˆø8JÜ\$ES•›âë£ÕÎ:¨‡<ã°C(sñŞac£Í”û[Ç©/2Õ‚şs~°7Lãëì‡Æ\r2*\\·‹ß§_Â“¤=ï÷÷ñgø_×?aì´Íy?CO}mødš7Ú¿7í/ò7ïûß\$ı‡{£¼{‘íj‡Àe\\GÎPoêÀÉL”R/†&.Ö’Llò\r`òE¬Ö‚¨×¥\0áDªŞê¸Ğ©îG¯NGL€ÆH:¥Âxí6 ÇFğÕÏ\"ÖM\$ô)PÿüqJô,åbPGó/nÓã¿\0fäïÖ9êŞB£f4#lÕÉ¼˜ï¾%°¾Ö˜+f¯©`æ±¢šÒ\0[€lj°TœÃ3ED¾âú„b¾7Ä„»‡ÜM#ty Ê†ˆm\rHt'‹»\rÏ#„)¥”öÖSÆXXö\r+Rá\r\nE§jÍ è¢º'ĞÃ©ĞPó@ÂYC4¤Ã4‰bñĞVí°ÖOÖûâÁÎ*ÚP Â)ÇÜÎ0ô=PM‹¼¹ÎºUàFÅdññ\"íâú~b÷±eêšZgĞ jFÅVŠŠ›Nr\$	\$ü`v+â¢0@ğ;„Ñ¦'ñV}®€Ïã\"Üx©@Ï‘,=CŒÎ1°`±V)ÊÆÏÀÒÑ¾Ç\"ÉD–Ï¨ÉÂ}ÑÑ´ÅÑ»ñã1	±Ë§(—',a‰¼—î˜\r€@Cí Ep†p*ÀÒrõHÈ’ö	§\"ê¤ª’3!Èîö*\"'O\rE\$%”ÔL‘ODÖ®V¼É[\"ïö@‡†ÿÆm\$ï.cƒÌQW\0ĞÁ!’4?ğ<\\AH=%É&MC\0NâFL¬2…\$CÂ€oe’˜åpdŸÒ.‰€\\Àò‘\0Í)BE+*fFdšk²U%#²†õ9,‹Ê| Şmm&r†vrİ!Ç&—4¶CŠn €xCÉ¢q!Í¼\0Pj›€pª öëê¯*ò_&OÖñ‘9B¤Ç#F¾‹¿3RjêNÈ0»%ò|jÏÖTE3± ÇbL¶{Ñ€É‘„ırŠ<PCrå3RU2Ò¬l‰8hÿ“NN®TÁÒƒ-sw(ó}8²è.s	0Ânz¢l{RØìã3Õ!O¢ıs‘)\0Suó{)3ÊŸÍ:yë,¡SÜ+%d“àTj-ÏÆ¦„² ú");}elseif($_GET["file"]=="functions.js"){header("Content-Type: text/javascript; charset=utf-8");echo lzw_decompress("\rÅB¨\0€T )N‡S‘¸æ :¢)°Êm2›‚1¼ên2G‘œÒvŒˆ\r&HÉĞÒf4™NBè,‘„Ú =œÎ‡#I¸Î}•&³™Üö~{’\n„Òa-RføÑ”ñ\"LÆ©°é:ÄCyŒëX:M&ğrÊ7P*5:­^Z}š‹àhù]\\’ÊÅ±`‚·]¯ˆ¢u”Ø) @7h\\4@(Ç+Ñ³áò×m·ËE\"ã<*­–\$“&,È)À0\0¨\nG…G\r'*Rı‘IqS.Şr€])³á\n‰FèÓ'BİJ©¯¸mv+%šÑj¶[®›­ß=Ş¾ì#]+nÃq˜£–‹9Ã“Ğ´l“(Ë3Û4Î/üÈ´­;ÔÕÃˆê™\"›™\0¿ĞÚÒ97\rÒ\0Ş a€ƒŠæ.K«9ïc¦ŸºÊ(Ï;iûº¾<	kÄ–,k*Îˆ=\rCÖ.cß8ã£èÁ°¬:òş\rìÀjãDÈ²l¨ØË³ P;'2É¿ƒ¬æËt´ÑÄ3”¼¢£˜·:…È²Œˆ„h@‹­ÈİÄû‚0Ëî3å!¤q|¯ÉÒœê¨q´qIÇnü›¼’Ï	5/\"ö³«Èœ7¥‚`Ò¡Iï´¢ıJcœÔÿÍ|²È#rì0³oròĞMğƒLôÔ#£WCÕ92ü×\0Î4\"¡5(@0£•{1Ñdl/#¸Ó>\"(˜İ§ƒ=Š9Òî£îü«—j~^dçl¿AqOƒ‚ìåIBBˆÕumß})©uÃtÍLƒ•®9ó8@ Ièò#€à6!D¼61·MÖÕvğÆ2…Œã^ÚØ=`Ïáóaá¸æ= ç’âƒ^>ĞV“|„WÖ½ñx/6ä¿oá·İÆ4\"“„â#qš™Zéª”Ü¬¥ÑŠ]w–—)l×¢å\$é9“~j—ğË€`Z®\$>»ró„4F03á˜uyˆâx¬\rŒcYÖ?äzÔ¸hTnÏoLıÓš MÓ;'tò\\šóœã¼^z4U|w\"Íh‘yi âæ9#:ó2\rº3C|hY\\ˆˆ](VÌ'ŒCTÙãù>^ñ(_9˜Ú4\n.{âŒhçàe|Â;‰ Ö2¤Š+«î¼À:{ßÆ<óß:•ıß%ÖuÔ*–*\rã8ÎEˆxvUa¤1•¼	 oÊ)·\0@B!r Å,#’€J1H%pQ{‡°ÄÃy!¸¤,ĞîCË»Q.	¦ò¶‹ÉiÄXÛ9‚LmIY«h¥Ùª¢„¡“ÿe€‰ÔBXqAm¶†VŠˆİ€ CMd™ØFKSpo\rdÅ³A„n¨Ñš\r¡ˆ™EÕ*Q\0o	ID0habÛ,ENÑÛĞÉ\nƒL±ÜÑ eÎÁ\0D&ˆ2øøAqË’\nBHsXB¤c,3\0¬µÇ‰‘‰h.+qh˜ hæíKÌ”àìŠ€àpÛ˜=à‚JHxëÍñK\nÄÈ—“[˜ÌX!‘é®v\$J\"°…°R0†\$TB¨r\rŠPëÅòqT™i|eæ/ ÓÀ%áæYÌ¸\n&1Ë™,‘\"M70Á|-á´’;„.ğÛ‘(9Ø8YIÚ&q)ğÂ!( …‚8`1‘jMÇP	Ã¼(¤È/ÌhWè0æ5—(#4CPa<4@è˜:t4šÆ¦CšwÀ¾zğæèŒ½&Kœ7ÓŠ%/©å49“›¢“DP¨ÙŸ.Ë ¡€z•à	1ç‡¸rĞ0J\na<'âšrÁEKwEÆªÕpÊ…fÕLÑffdë)‘°3…ğÜO¤DôE,¬ğ¼\$.1 œ²ğKÌø!­ÅpÌ':Ôæhi1¡ôæ‰‡**L¨¸n•R²lÙ…aG\"Ukªän>-ƒ&	ì]š•rRÔÙÀN	¦‘³rRØ†çCH)à˜ó×0ÆQ#X=µ5%ÆÉWØĞÌmÅ¸¥\r­ ÑÑ<ÙQ¾(çœt ±ğG§ +C\rTx …8Pè—³Iš¯=W=wƒ Vºl²ø9‹\n\rğ‘(z|’@WŸR÷¿Sº'?„Äá/„ø@×ê5OĞ·~°Hd¿Ä°<?täÒABÏ4A‘Rbˆ¯3sØ!öYDõr×û¬a§Æ#¾`€bü7+KùŠ3vm’¨‹\"ÀhEM(9â¬XÀÃg2•á³]¤›¦h .Ë©±\"¼Üš°½+ZÂì£uî/*¬*dPELmts»GàË Hg²š‡…êg+¥® ’¤‚pÓa\\’÷\" €l¥\\Û˜tÌá² d^.t°D·D¦Å€ÜªœÈ§7#¼L•]ÈÆMIŠ/(-ü¦YS.W_ög- Ü©/c•Ò¤k2¸Ñ§œÀwuXÏè=\ndÌÚß5>­dÈ­^'„µS’Ç\$nİÆ•ê)ÆDƒã\$0î9ê\"©¯(t»i;XÆò†öÀkÑy­2”4\r¬Ã¦µÑv¡è4PäÔ<pø¸Äh	ö¹ÍÛU'dğ³>}÷Ù/|ŸëşsÃh[¢	|.£8g[¼TÈvvÊ	 ùêOHvnïˆ1ÅÖ!påÁ°Í\0¸\rœs2­ÔĞñÓGĞe™XÆ×.®%Fˆ6®ÈÁ¯]ØR}Dœ‡S–ZAVD€9¡£¦‡óØ¾£l–HúÆW’(\$@Ú•LbìªäÚyW‹¬&4\0Ÿ;ÉEÚmu…Õè0×À^(àôÀÈÁ(`‚ğÏšzÏV„a“®†^¾säŸ{6—¸MbaÁ·r\\)0 ¦lá/%æbÉ¦‡ûéÁ4fğÙ²#İi‹÷Ìÿ°@ÀÂR›ÄJƒváiäŒ†r#ñAX+}I2ûd\rí“°iÂÎfÃÀ³òo4@3ÔÉw^öéƒÓöÿNÃşâXaDX™>şr;­§£VíúÀÆŒD­ĞàE®Q,€#BŠÀèÚå¾\$ÉäÉmBéå&Î,æØgÀ@>\rÀ¼ÍÆì%ôáÛ&DÒôÊÂ®bÆ|ÎĞ,ç\$øÂúª2ø¯E–OOœ\r úJ¢¾í@Ñ„Ñb.û ºĞ~/§À¶ûI4İ,2pRàÍ´t'ÖPBİP”ûKÚw\0\"\nğ\n™gzâ|Àx}æ\"m¸v`zP¤şB,KĞÜ¬ÄxÓ\né¯ùDö€O\r-	®&€ÈB`k\0[€Ø\$/lŞÄÅabTøï°ù„÷BTú'ÔÜíÒûï•	`ºè¹â)`ª?\rÒ:¤l×Z…¨_®0¤†¥yqTàEšJ D`D³ˆrÚgarÛ(%°n\$%¾Ÿ	¯î!Ól4ôn¼%€!Â7¨ÒoiÄ@ØÄ›Nşª\rƒ–t1<àP„.IÄL8.ŒŒ†\$º°¤ÁP[0uÑÂSí¼	6ÜLŸC©‰LÕ£=¨Ë‰±œ6­oğõ1Ğø† Õ0N@În\r°XI çñµo‰ xnù¯ŸpxõÇ3ÊğÇƒ0‹\"Î/qEÍ´úr0ú'Cˆ–ZÒ1FYDØ1Î|ÁPÆlÀšë@Ê©äÜ¤;Œº„@Ü<G¾xN>Û0<fq\0 †çÌÏ*dçÍØbQİí–Ö‡*mb‚Ş€É©-CFõo½-m~g¤\n85 è,<€ŒB¡ëJ¤¶ıp‘¯¼ìn|“Eºg È1 Ë,ÉY1lÓ0\"0…*Ä	ó„âFÏHúkæ²„LRº\rd4|Ä£L%Ä\$\0Şé’›#0SvJI\nÅVì„¾c£–õR7Ò=.Ù.@èrMt€Â&¿\r„ÖÉÉàäô“3óªŞn÷, ø øöÀù1m–3µ&bûÍ’È/Ìà\rÒƒàğ°ª¢s3RfÏÿ?P¥>’Æä\0×2EœÖó.5P©5¤,qÔÀ¦lÿÏNÙ/zÙÎj¾àB\"®Dä€†(`Øt18B*ó€@ˆ¦ækñTO¹?'35nl™mã†(MĞ€Ì94d×`É/D-\n¢à²&@Ô*Ñ’Šæ­’ç´\0Ğ\rH£ñ,‘Hû­zÑ~ü«O\n@¶³í=R>ãN)²1A(št1q®t¢v5²ìÚî¯Ç¯\r æˆÍæ„€¶€º€_&Ù0}TÃóäà@Zãt›°EBÑ„pˆx®Ÿ\nÕ(çP 6%·>`Ş8¼ ÚH@Òcâ&¾	…)Ò¡*B[çP!ğ4ıĞ;\"õ?µ+?õ*kìûÀC2-=TUMÙ.\0çQàè	gÉIQ5\$\$#XR'ÊñJFìùtöª'	K¯íXÎÅ AZQÏ'ŒÆ«˜}'BöÜöedö¯Ü©-àŞF|Ş‘ô•ºL°¤[ã&5­\nnkPe\$ï%1/Z\r19>õ¼Ü/¯[ñE\n‹îöÕ#•VI=SÖAÍÒFÏØı­Ã[ÑHsôs5İOlÿ“öû”Ía5K6P÷d/óZ¤UQR'b+ï]¢b NT\rp©Enjû–\\ÉP D/f¯ıc¶:)ê\"sÕ^0ŸYmè\$JŠp2/„Ü%‘¾k´O*…\$:¨š¬Œì”#ä€¢f-I#¢Ô\"èÖ9Vµ+ëŞ!NÚíîÏDnÜõ³’8Ğú? O	`É\r«V)/óÊöe€_N`¸@ºòË€¸€M>ÉEp\0äiÒ´©Â\\Õ’U`@êÌÈh 3OX}Kî¤®Şü¤Kğ’÷2Úw8@Ü—Ãà@Ë	(\$Íh–nÙ\"‹u–œ2w@\r’ƒ\0L î†kÍ/j\n¬v†Ñ!~÷r/2:Tfw‚  ¦ÅÆV\r×W†øs ×s¦Ñr<÷\"ì€N´\nh[Ö^}W‡(Ú7‡(Í&-BÓDÍ6Åb`ÁTÊ­J;Œ™…-y£~µ\\İ@Ğ.ÀÌ1·ëV+Um	ÀQ€µ–Š-©˜X,D\r‚hï×êØÌ @ï\0M~«f3ø2OÆ\\ïK	( \"Â7, æèbÌ&@¨\r\"0#Åstwt UÈ…Ê¾Gr\"nì­G*(¥ÆÌ´Ù‡‚d\0ÈM#C¬²+€¦Cì’}*¢æ)2¢ ÉTB4ß‚3‰ N€	®È+¸º\rê\"Ÿ\n’r°óa‹ï‰x›ˆÌêë3ŠcŸŠ³r	.˜²j~¢˜Xâa…ë-‰sì×øèVì'£[8ö¢ú²Øÿ*=6n(n¡øX¹\$&OÄƒ'ø¥Š™0Xô\"øø§Y!€ç\r’v9“`åˆÈ\0°©hT>à”\0İ‘8ğ.ÀÚ\râQ” Û”ë*ù#•¹8ÿ…¤û™u—™‘Y…˜‰}˜ÙU•™ùØ˜ÒƒŠ´c…R\n@Ù/ùU“Y‘;&_–\ncˆ‹€é‹É}\\MÃhß®k6¢Ù7vÙc†@Ë†”×‡yÓ†8f¼Ë\r…˜‘Ÿú†¹õ6ëöŞ: Ya–Fæ1 d\0`hkB8°#@\\ƒàÈcxµåŒßŸ`İÌÅ,£U;ct2™Z\\#C0áÕuW•|\$šp“'Şˆ\0Ş\n¦<&@†˜ğódàNÔ¯fùØıĞT5úÿš›bká–ˆ û”¤	â%¢ÂH\"ÍªÔu#&g¢¹UŸYœ<õ1œùa“«ç¨\0™6ú‰¨ÎûÙ<üÚ8|¹ª£Víï•Z¯¸€ºX~±ørÊw9¯g>ì}JÙ°Ä/³^\0Hl À5oğ×ÀV@NJÿN©\nÄàz xÀøW\nòî÷q.Å{gFÄÎ\0ÊÎLè\0Q²ì	¬P\$ÔÏªëï™¹EŠÓÕ¹ï™âš9•©M™­’cÀ™½­1¹‡TJMÂàG…•ªÏù×XrøÃ'^Ï…‘10v}Xr´À@?‹&sŠÂ‹\rµ·p‡´'`İ¾É [¿4[÷JÌÓ•QE£ ‡2Ã\$\r…’v´©Ñ°Ó'B¾üY/Ìdo§Ãvs÷UvÂ¨ˆ‰˜|}|	œ(!\\,\"Ü!\n	ÃUªö?¯#&H“>ü%	ÖßeV¬‚/˜XèŠˆûhs\\F&W[Æ\\.¯ahl|3ü@®`ß®`ï®ªÀ5bŠÂ€Ğc‡ã0ÛÓÃüWKôß–û—âP¤‚WÉø<–\\›»˜ão¦>ğ¦XÊk»¢†+€ÎÀH xã­Ğ\0}¶™l«Ç¼Ğ|Õ‹\\ÜˆÂ3ÑWxÒB…WÏ'ÊéÊ/\"°µAsáT—,Õä…ÚÈ1B	é¦®Õ&	¾Z²ß§±GZbŞ@Â°sÄÈ¨G­\rÎHÉ	‚Ä#i)Ø@ÍØ‚\nâVOŠ¡ÎVÆã½–‘]œ„ù„€kBéÒ jO£Œ[ÊPnö1T©È€äÀÙ6÷\\€Gi\r)GÒí¨	V\"eÇoCÔÕLÔ}S)±Õ«Í­×ÜÂ„=Ò˜ÙİËOÈı+Wz)iwDPÇßkáDÂ¢j˜ˆ,yáhR¦‚0>U\"\ràEô¾*\nSoÖ1²7ç¼#T§%²>.2hv+€Ê÷f&1ÙBì#Ow£¾fÃ<ÈB°«àètBİF5°_è‘^¢ek£»\"¾ÀM@N¾\n“{Ê|¶CÖ£ë‡Ô¿T£“ä=`êóoÜô¯ ·À@ô´äñÀVëq@c¶Œ ¿Œ\$¿õ-½6’uê¥œ±n¾½ãìRIìŸıÖ¢ûÔä€¦‹`à\$KÌ-\".Vd\rúüxä´øeŠº—?„´(¶{Æ¿\rbOÃívJ.0Ïÿî^éîÔæóï`Mï«\r`ÜÆ.÷Şfm`º=ßFïuY>¯§ø~2tsUv3ï`Ú×uÿY?y¿»sAó–ê¡ü×ÈÃ6æ_û¢¸ã´—HşØJâÍ€ËåÀî±û\"Şê„Ù1şşˆÓpŞ\ròé ”È#Ep\n\0D=°9%„‰+p¸À¦ô°¿Áçê!ÒA…İ¿øt¡\"ŒÑVò/°&Á8k‘	üe'w™ã/Gxà\\ŞH²5S›…ål±ˆ@•‚°„ä)GI	¬^Ó±z¡(€“ÌYÀó•eÀT÷eCŸòËç\"@x6¯j¸½ß¢ ÄyA{äX+0O\r®¢3Í„Yáy(WW˜•PŸ´ìƒá<bÛÈÅFòP¾\$U.ª‚ÊÄ<!¨/¡§m*y€¯—÷‘j'ˆÖHëPBÓ\nÊ‹FÊ¢‚˜.jĞg¸ú‡Z&\$.®ô	cgğ›‡rÕå+\$Ÿå49\"‚\\F€åÁåßËM6úªAÊ—Â’…™µŞ¡D·bîævš–T£Bı‰\\¿¯‚^Ã½N˜À\$FÁraÃ—<Œ¬ë(	“üübä†Âºù™€Šœâ_“B„Äİü„ lÈö“šHv»ğ(°ñ\"°!â¨•è…  Y,y,DÄ‚ÿ/LQ\0iÒ‰`–ñ‡º DH–¦|°ÍNğh ºÖ‚oßŠ@/)ÓCÓpÄDİ@AŠ	†tF`\"¨¿Ítïß‰0²ß~«#x4WÅ\0Jpîâê¿ù€dzóUe×¹¨40è.ØƒÀ-— †L^_DıùıE<DÈ\0Ñ…z ¡yä\n	\0t˜‘!¥lK§|ôD¢7@=º /ñ^ˆŒ\0åÕ@:,!†ØÙ×¨ö&¿´B(0‚ƒ›bŒø¤@@‰14l‹Ò€ÈkÆï@Ñ†C‹ã`BsXÆ!¤©Si8 ËõÌ4¨AƒéSÂ€)HtE4FĞ ºe•`†2,îƒhKc+\0`´ÔÚğç€LfÍ{xÏî4	Q£If—Æ¤u…‹€ªãzÛf6i1<2L8\0Ù&Ç0ØÙå…Œ;ãğŠFK	pjØFšºSE81ş`o‡ĞL€²Î@…CæÀYy„aÀÿB¸4Alc¡¤:Gz%øó†N.¾¼;#éøü­Š<‘ëw`œ¾ìÃx‘ª4…†%ì€díP…ğ]<ƒ\nE –qÿÎÃ;`GjRWpA6C‹lğÊKHh–a,”]b€îÑs¼ù[e†‘LŠá«§4ÀÒ@\"‘©dY3š¿ø(£\0 ‚Äñ–Hö’-M¼c€îàÁs…~EÍ’Œ‚à¾#ùˆÚ&#Q»ä·pGÖ‡5aÈEŠ€:HØ®ÇXèXr.'lBN+É¹ÙOàdÿ„´!!†NœãbûÁ4®1?0€¨'¬1æJ1…ûÍ#â›ˆ_\nJgÀå\"Çk‰ğşĞ¾‚“µ\$)‘ª	úSŠ87ÈLB5*\0Ì¤R”~àsäY	°ÕçãX”ìˆÀé+	nTRŒ”éÇÂ[+‚’Ê¤«q°d2ĞÉÊZUò%‘:ÍáëydŠUÎL–bsÖn—ÌËFYRÔ•Š\$Í+©dËLR B¤Ÿ†¨°É€È'Û—³Ğu,X›3‚'kQŠ\"zËˆ»áDˆ—0¥ò˜):­pFÒyÔãÂé~’RG€x-e‹À3Ç:A“hø\\K~O`Ñ6„’~¦!1 ™*R“kôÜ¤°ÉÃ„k’]ÛëfSù¼%2Ø3e€÷-€>À\0`ËÎO/¤@Ë~f­—–üÎfw3ØoÌ¨&s2—ä»¦†¹sMg‡5™ôÈböCùÌ@\$ÁF˜èæf*ÒT4‘¨a ™\$ÕDAH¸FN5ÎAbüe€E€å¿º6Àu!ãXi´³¾2“lg›‚<my¹6n“v€‚ÄC7˜Ö±voŒI€<:„¿79º“ŞnóhrëD&Õ8 ¡M¶2éP›¤m‚a\0Õ]ÎMŸ3•MÄåÙã8¹·FÄà! œó'C8U—Ît‘¬i4ê#a7ğ4p?lè\0Ñ:(L5\\r³ƒœ”ì\rm£šÇ< rtzd¿höÏ%œü‡X¦\02`3HÑh›¶i²|,Dû•3\r@qC’\$sp™U§–¨®DÓ4 ú×'²=©Ç-ƒ-*|óƒC‚sÎîKÓË–€ugó=i;OeÃ'Ş \0û(’+?sù9T!°Ê	Çô6@(œ‚B1á¦||øÎA>Sş(©ûC6ŸLúÒ¡ )÷®Ykƒ\\	ÊL;éiOØ@yŸÄbÆÕËÂ´\r¡agİ A?GurÜ•Ég'¨4ğ£O\\ô; Xgè‰@*PJvtO‡ag(”ºÉjŸkó7\"gó,X¬Şƒ0ë İB×AúPˆ³á¡+²èN e›Ğ©™`	9\"SÂP¢9¥Exxca¢<)†½7óÉ834˜I€ô\$KsHXóI†@^¢İ)5\n6A )¥…Ë\r6i 9Yó!“™´Î&u57Öœ‘wá!Áä¼F²—†‹‘°Lç¤İ¸ø-Š—’>‘ºn#çH Èø	ĞÚxpØ¤¤›tvIu\n]ô†I)!¹H\$[¤Y¢DmY%H±ş=S’÷%Ò¨àg„§‰!#<Sx(Ôí•µG,2Î0•a‹•iÛ5y‹	j(Š<RSO±õÓÊ”Í§õ4*\0š†’\0K´ÌMÄ•MÇ%…ògÏÔ¨BÌ‰ì³FJ¬ıÑnø§;æKiPªzSfÉ)§U7Ú!+jxTœ(U.MÅ=hÃ*§pSé’µpJ)›RÚyÇÉ{áú:µE×Ç%¥›Ô—\rH\"¢ı4èšğdUpe\\ˆ¢jpĞĞ-Tµ3}-ééş ú¢Œ2ª¨ıSïTDı’B+”dŒ=ù\$ÓIoğ†Í3äËZ2VSc€êW*qF>©íaá‡+9ñUÎşxÏhôÒf`:€?†/ÓZ´×kÙ¥R¥¨«”Õ+3ù¦2LğÜa¸Í©QZ~Ö’E€¦,‚Xº©\"U¾IJ¬üÈeáÉBP B\nª/Ì]J‰Q¨ĞïSf`%k\$™Wy ×±}\$•jÜõKØºÔòb•µ•jœm\næNÖs3}Ÿdàhƒ8HeNÆti¶MÅvf÷]¹ÆN¨\rŞ h§€9šì9%Ú\rßh¹9\nğS­Á•ñu}'56ùÎÂwµ‰¯|[çg^iµ×¢u3¸€å€ç_^3ÍâÀõòJyëë^™ÜNèe`l°ub¬!Ê¦\n=Pûƒêz şI—ä.¨‡`u	dQkÕ©E3‚½IË±Eƒ8!Â ÚïW ÿ#d+Ëye6#¤Í4ì*P–ÉA¯Ô±;H%|¨óÇF†sŸ8B}áñ<ùæXÒÉÂŞ²LËNj/{+Ğğ¦(k!4?Â¨”+pŸh°B6ïÕü˜=kAâ\rÊ~ûA¾\0Uÿ,ÛfÄ§®a6scŠZCªßç®”=×Í+<ÀªŞÆ|z Ñ%6‹IZ&[ŞÓ\0Ù¬-ànS½:ƒıh„¿ÒÓ´¥¨Môü#€†Ók{´ìÜ !Ìµ?bÒ„Ó‰—i¨P<aŸĞ_z:ıÈ¿A¥\\Ëğ=³Ì,ß+]¡lNCÑéÙËÀ…E\"Ù)v8-©Ü8ü1Éş\0v´Jh‚N{‹G Äb@iD¢½èßmÆö«í_©ê¶ĞIÄ\rm´\"+­9Q‰[ºÀH†Ğ-Ù¬« ğ¢^¤õ`Á°‹ÕY:­VoTÊ§,Ú°«oAù­án4ªÛh*•ä©Öƒù„â’´•#Ò^®Ö·ÒŞ¥x·¸€¶;‹}¸\"Üá«è[š¢h&(-âDQCbfL±÷†|ì€m\"°×®rŠGŒ3'y–6h51¢Rìğå C–êQQ‹ŞØD#[Q˜Úd¡«¥A®°\$Ò†šwt¸`};i¹¡”*—D*ô|„¤9\"®Â_v ’u®JE+¦\rª5ã†ºæà+ƒ,)]Ñ;DkÈg\ryĞçK¤Á²ê³‘3@º¼™izê–~–“Hàö›p7:À1¯æLjÇi	½fÛ&íÅ–lœç\\'50@.QÕ€ĞV€¯§·¥q’s¯YzëØ'4Ï…¸eÕÚhõ•`]rPƒ`Ü!¬sòB	ù0»,üÌ=‚Á—Á<·…9RxÕÇPuÈ	ü`|„k¸.úõŒa¤#¹Œµ¿ÉÀù²Æ8òüG¼ãšrşÕå?N¿YËJ®~‘qŸ²õN.A]ıÀÄ~«ø-ÅW¶AYú/ş.;øúÿaq¹iÕ¯áe/¯¤^êÛÉIê:3ˆ«„€ˆñBówµŒH\nj¼PáÏGtø7[­\"Êÿî²`{Ò':ôÉqL®csx>ß“7n(Ù€³ñ‘©?Q*Í~Ü–\rõ9®W€µ×|şd#[ñ3Nö‰¼9)÷9\"Áo|%W¬œ‹·/@iÆæÒ°Ü9àk–½ıNqƒ@à±5Ahİ˜ìÍwg¨=-R÷.»Ò†€VÔ\"4ŒJï`D¼ÅÒÉ»¥à¤'7R¹—îªCøS®òàw¼Íğ`_{á_&k'¥ptÒá¿\$`8¾jpî±†Ïœ“®àÄ&%Š7p5æ£„Â²˜ë|Y‰•Ş5M|\"1B¬¬UâJµM3	‰ãTC®Õ(Í´=2‹‡‰{gi­ŒÁøÊ9öÖ>kãC:äØi×7¨f\"½ÅãNK!FE)@æo#[§aØ\0QzTh{±;/=z4¸&şÆ”QßAêBQÆ<\0·%é'xøÂb~rìÙ~æ/Ò¸]“BãƒË¸+\08,Ä%S0gê¶¦1¯ùPbÇp&³È,<L.d?Š›øR%}\rPøz'ğ×®zÅR\0˜ÍŞ 0¸Æ6ñÜ‘Ty:Aâ9V²Ã!­x3dO¬…seaA}£ÜJü7§½î……>ÛdZ×p\"ùÑĞı'J*Vº.p8l+a-(DDùå\n,o#b¥|+bí æ&˜,9ãµ£è••e5¯?5©Ùs>]p„û äu&9{\n é‡c\"e`+LgŒ>˜tÑ8Ày(I`,úÕƒW31É†M}ó(‰–Ú,ù®L^ª”üe‰åó/ÍÊP›ñòì<¹f5tU}Çs˜|Ä ädÖn°bEfm4EÌğ2RTœØ×7•BÙƒ4rG{-@úÆ\$,@¸Æ¤(’2P\ráŒÈ‹”7¬´61‡êÊ€ªÀ&\"üB.8_Àï(•	ŸyúÍ”.|/æÔç…ÅQ-„ÌYøL°F§5­ÇV²Í>|³ğà\nçì¾pX›ZÖ\rŸ‘<¬¥°™mWl‰›`Æ§¶İGõ’4T­„ù|\n(¢ûlô¬óg{4¸ÉW’Á}„H†'ã†^N	F_‰Ğ/u8_,0Š²o*˜ß0üÂè”J°¾‚3vÆ›÷šŠ¬«ÕC_5.6£u<İ­F3X›.¤ñ4t¾ú`¼0DÙ3\nG9ëÒä¡tQ•’g³=ÙöÎ™Ù¦c>M/Ğ”f®ìñVÛ¼iÄÔ8	€Z@\0‡“à\\p«Š!_¤@Ä=(d’CÔw#LHQèfñ32¹Ó¾Î£ÒŸU[ïŠg¡yŸÇ\\„H¤”ú«ØICìm*Şä—h0öI;~¾i³N‘ñy²NøÍà®Uf™ˆ!šW.§UJ®‡y®sd«ôT¥->Jˆuclj.g¡ğœhëƒ(!AŠÄh’aääŒ!Aˆ²åÉ”ñáIìo@|R¥!•Ì3àX\n¡ÛJN’¦]Ô×!3uØ`¤e”\n\0O˜Œç-}…<‹ÚÿüEÇzsU4nb²\rnÂBu2€ËâĞ@AÁ¤ëĞ	šö†¾\nÇˆb;ì[…X.©Â(1‘H=s\\vZù\0Ë±!Ù±Vã•-ÁHÂNMw^#..YkHÀM‡ìGblU‡9Ç±´éhd\n^P^“C‹³Ö)’êÌäQD\nBˆs„,hËsö“±=œlS5ƒ6ÚÀû6Äç7:€œ–ÛJQĞÚœ†µK{ğÿv•·‰’‰Ğ¶ÛtImö¿µ·ÖF¹x‡!Ìí·kGË¬Œ÷5Öe¼àºù3q 6E²M“&äß!ù‚2aœ²ã`{%Y@Np\"P°³‚&PË÷Iğ…n„(PàcLe€N€îèÃ`-vpDLû¹ò“l—secK³Ü­|´Gx[¼‘aCØË_P:\0·5f}(Ê˜\"Àà wß#& İŸ„d+a,K¬7nşƒ•4l!ÍzUìTâ¨X˜ûÛïßˆ†vÜüDø©[Ë×Øv·›ÆŒĞD×ûïà0CÒS=Ìß,\\¾ûAÚÄx)±2°ğ©«>ªM“½´ğ6lp%£ ?aTÌ¼‚Í˜F[›nÚÙ‹·ø72«Ê÷'zÏ(Z§–.p†<\\ãL¬µüfNÉ]Ém½v®L]¿\0÷£ÀÖšz%q_÷]·;w8ı\r¡2è¶öYÇaìÛm;LÜ÷ä‘Ín…›”‘É÷DG7„g‡±Rx5»€1+yğLNíğ*R¬±n ({uô©q‰h«¥áˆrí}y\rŒl¤øèÚÄñµ…¶qïgã˜¸vzŸ†5›·U¶œ h¸r	ÜIåĞŠÁÂó\"•š÷!˜1ªeÆwÅ½ò£¥g)(F{ıUJç#æ--©9\"¶î>ì~£ğÎl&ÆE)†÷y\"ª;Ğ:È›[…H!5ªˆÑm6qÔl•„}ÈŒFŞODØÙï5p0ÃˆR‹ia­¼İú/:·=£\0J·£A0ÅV·ÇÚBÜz¬·02Si{v\$q{¶ñÏŠ“Şİ‘#dĞ·«@gò%;¶ÓÉí}óM“ª}àBæUIÍú¬”Ôü°>ôş\0oæÆÆ@§¢*x4^`q¼e+MX0Qqù¯8~ÂÒ•zõÆgÁ¦\0ª \$Üï†!-éjE‰DÂõtû¨ByáÙ“»—°`ÅÙXaúõyZhÆì3)û&ĞçN@Õ 2‡®-££„Ùú‚NZxQ):à /^\0_Ñ-Ñ ®ìGY\r¸úºÊ=Ÿå4ğÀ\\ø‹ü3Ğ€œë{-,Ïy?‡+…‹ß’ü™‹°b83¯—´òüJ»^)^ÃÆõ¾ò§†F9~)÷¢ázÕ]ŸO´D‰…½+–jÛë)RYË³ŞË!#œÅÎŞ6Ô8-Cè¯ÚÿlK‘°~un˜ğštÑ‘DRMEn×«ùºu…lûEåÑ¿¸Ä(…õ	ì|‰Ì”EògîhÃ¸Ûİ©)1cf¼hƒÄšH‘¡}ô\0tç8/\$f=hôSF°ç„¯‚çZ™¤4aïBÄô–¼¤\n¯˜ÏLğÖ¬S^ş4âÂBn*£L%ºúw±9R}¼}Nß@ïièÈ*~\"f¾’û÷õeåQ@Lâ+‡#ï«¸Xá4HW|g\"n|’‡Ğ  QÓ,ñx¢5Cn=i\n€æS'¼Æ”>w„óxU„ØK=^^ÀÜÒ›ÌD“Z˜–è)~<©d©ò‚vnµµ–5ï‘‚ÜMŸ˜@7èCNnßuó_İ‹!fóEÙ¼†X;rX~dğK}›ó÷\nüƒŠâÆĞ©ã.!¹Óˆ¾=­-ÂúØ€à¯_Ä™	ëÒäÔ¨r‡­i”Ò¼£BBkÿWè7iéxD8˜½ë‘`B>€¢[,Ròı°â¢ŠrûòÕysÔ#“Õd4D1rDXüà;¢i²q5%)!_JY<’ wWÀÊnïš+Õ^º6Q„lìb€`OŞÆöC=•ë/fïÙÔó•)%‡âQLéø›eL_'DÊ†1‹\0Å]l?ëÒà\0¹iÆØamaè_Bƒ_~Ôïtİ¼/ºŒş™°Õä§ÎEã*€Ÿ´ß‹œñö!c¬o\$ÃH=~€ŒKÑ»öòÄ<L/\"ˆ\nW,7ÄÉşáşXëÂÄp,·>P,–ÍW—Q\\®à2MÓ{Ä„øïË)\"äAş÷)”ù«ÒÀdÑ2“ä@'úÎB@ö«ÈĞ¦Şúù²bî!{ÏR8	‹®Â·Œµ—WÕ>€eäŠ› ïñ+yöœ¤¿<òjÄğÇr\r%ÿÌ^rïuB¿¡kr]İ¤ü`“\0‹\\¸²Îu\$%?êïº†vo@t3¨í,&ÇcÊÇÀ/Ãkƒ‰œ´\nùû3çğ%³<³½ÊÍVûÀÌ;ŞŞüĞ—5wöW×Û_ó+œjwÃÙwù/\$ôTø¸W>ƒú—\\MôŞæø“ÕíßğİÜ	_ã*ø×Ç<UòúşñÅ>AÛ1‚vCßÇˆ^â)·Ï[œ%{CÅy!|&šçİ­÷³¸ôÎÎÓ T!á³//÷QO\"`¯È\0êëÃ‘İñwøUUäø9ê@š‚ş¸`xıAîüì\"CÑ¾AŸ<	scÆÂœäô>˜,\$ò1f%\0;Ô§:¿úª@LEÏ˜QÎLÍ\nÎ¤†hä«’æ94g»“…\rÚÁcöá	¬œıá*!&™0ÁaÉ :0Xñ˜*};0ü[ò¥›™ÊKğO«¦I’l#ş5š'g¡¿–IKÿKü™pv‘tåÔ«˜™ &e7 >áÎP—p`İ¢¾ğS´mj¨x^à˜2\$£İJ–9\0ƒêG…Æ³óE˜PşªîËĞ#²\"Ão¥2·¾ï‚\"‹Å¿å˜#KĞ0^òóil ´#PÉ0;ŒUÔAŞÀìNqî†l±Òˆ 6\0„)‚,E¼Xµ›ãj¦›¡Do°¥bøº¡ #ÀÿK\0à¯8Àó\0ŸÃØêÄ¿âu[ş`…€àúô§{;L•‹SF—’`W£—E_‡ÌĞöÃ€bĞCĞa;ôğ Ğa#Pı£UÍR9‚‰‰L\\‘*|#U¥|³*èfï®AfúüÀ4>Ä¡ §ĞˆÖ°L@â¹ó.“6í,ĞOˆĞäY ‰[sQğX_”ƒõA»ü,µ1.U“4L³…±ĞÏ¯“Æ\"°5®”¤{Ã¡Í&ôê öÂÁ°ÆÎ@ıÎk.\\,2tÇĞ?˜!Š\rÂóĞ!ˆ3P?4e“ úûN‡Ã§¾úùş #¾,<üò¬EeAüY¼#0ˆ²¤j„#ÂóB,:±Î0‡ºœîàïp?Œ}Œ\$	³º¶ZP ğ}¥b«ÀÂj¼ãQˆ8¡\\ï¤cÛB~jˆW‡­ÂXÓä%ÁN‚Í	‹ÙERšîüG´¾¾ø‡¨\0üÎ\$,CÛŒÒÉ\rãjSdğ¨AG\n›Ğª¡Z”¬ =´),¢§§\nø8P°Â£#+AÕÀ*L{ëğµAKaÈÂŞLD.&5ˆ›©l‘©f|/Š‚òÎèQ«ï©|s\\G¢Ô\nÈ8Í jæèÜ`İ²~¬9Ë°—ÂÆúùz°ºí÷+ÙzÆpÙ0Ş;¬ß…Y>PZÁ‘´)	P8§Ä›¼|Y\\dË08‚Ü,£\$.©òŒ¸³\\Â>0u0Œóq©ÊÈ¢†’\0È†qÛÍ/\\¥öpC	Œ\0O¸^ãÛ41ÒM@jˆJÂè3¹²…`>'TÃö\"ğj@ˆ˜h;Ø+€†ÌÓ‘ğ¡ò'#­Ï À	F'’22¤r'h°²sQ‚¸j2!-‰i–å,\r\$}ƒk™à(|@¢ÎD4tCˆ0‚eàÚ„±¢º^xk Áµ ıPNÁn•ÉhŠCVZ TƒW,ø¾¡™µ.yëS%-šcå ã\ròyâFPº<GuĞÀğ/€«-G:O’”yäKMRD¸0Kp’L´“!ÚÄ´ú{V%gËËÑ8:´€9vÌNÄ\nüß¥÷¯›ƒ˜l|©÷<KDQE4P÷±¬ZEmBÉ\nrW#EÄÊ¹€ZÀŠ¥ˆĞô0@¼¤BBDwÁtÑ‡\$úºZN‰;&²â`¡6,Ê0¸Ë…J«6¤ãÕÊ.,”’Ä …=gŠM„‡1	R±Qd˜TÉ<EP¢`ÑU¢O¢´Gd¥Š ,„Ö‰`\ri¿\nò¼9†¯iâôì½P³x¤LÜ¥4ğ!ÅÌÆÀ6Ìƒ8¬ãš:9\"±o¨\nØ,¤f&°+Û+#¸èz³pJöÃ\rK2¦\rlÁúüC?–*„_„L…¢ä‚]™P´8Ó‚}»súÆ4DlÊ\0eKBñr×ğÿ–´»Õ&	Ô2'¯â¶hØ9r`êˆR:`³¢o@ñØmŒ/¼£ú‡Â,ôCl“‚‰ŠÎÏ'fí}NÑ‰5`åò\0Ö°•lÚÂE/'‘~°\r„6.`Š®\r.İ0—À0¬q¼fw“õ¬NàF|Ùø*}¼\\H@Ñ¯‰”ıS‚D½ŸD.¨\ráäÅO€üå­NXğ1¶€ÕDmÑEj\0Jç'Â*/¸ŠÑ›–a©½?ÄÑ´M…~^¨xs1»EÀ\rDQGÌ £[ˆÏ ‹˜1Ê“})ŠØO¨°`“~ClprFè>ä Œ% `¸ädsâz†„ÊˆçA€ZmœuQÕÇ:lép½A¸£…`œvB+'2‚Šî¡ÛPáş€RàÁÇ„û +…@‚@lyÉìÇ¢<t)Ì€Úhb!¾”ÙÔw±ÕÇ* &Qâˆ×<sKè‚d&|#¦GÈ	ä|Â\0GÑär¥Ú…PL†¶\$~#½Çüb\\~ ‹Çï¼|ñÍ–.Xôu ƒüÛpb.’ˆS ¬xÀ®\0¾'``8‘Hà:ü<¨°`€H”ÑßG~{€ğÀ€ç ¸'’ÈGÄ„ÇßG'Û\0OC¸£Üq±¼‡ìM|p!¾¸“tQQÊ‚X²’\"È<)\r®/Ú|ƒ’\0^Ì€±zÇğ(ˆ¦ ­ÈšXR)­8O°Æ²\"ì•H*GFn J‡Ç+\"pr(H”dŠ²6\n„2ç±Í8-h”Qô/²hC (€™#Tx‡ÈØ)¸—\rMÈâH¦å½‹S# y€èØ€ )Èüd¬\r¥ <CÚõÏ÷Æ†íõÂM¬H\r± ‚‹l²LÉGD‡QŸF.í@®‚‡»X*K¬\\’Ô2JÛ¯\$‰ìm¤p~×%¤q+uº:èp\0/\0øàhNÑ€Z´ëtBº‰¢Ğ£ö””¥]Œq@MReü°ûÁ¹#tO%s›N+ô2+»¢1\$1Š}Kà’>20Rï.åÄ|ãœÀ6¹°ZÃ›Bf¯!ûã†œ€øá‚ä–Õ»ò\"T5 x£ã€päĞå¤}±ş+ÀGê€æÃ@_l5ƒ5\"Ü­5ZçüM­ı>8É	‡µœ;(?H+ X)qL¢‡aá¬vÃĞúÌÑ—Ş	Øvl5%.ÙA}îñ—ó\r‚ğı¶0Äyù\0(ç)±\"‚r:CHs\0¡‚I0\$×Ê5ãÉ\0Ñ·Z;Ü¦€9ÊˆS81Äe¨38sr¨/òáDÂßz0ä‡¯üeñ\"XçXnnÜÍQÖD-ºjÍ+p9ò·lŞÄĞçôò”ˆGQ'e#Œ˜o…Âß”™qq>Ì‚ÃÁ0°e¤\$4üÃºÀœ3¢Q(¼%]“o\r\0wÀ‰ÚšÚ+Ã–\$:R'€“¦BÑ²-“=\rˆ-`¢	€Mûgb7Ë>\n(’×“-,µí0Âº±8„¶567”·\0™~Ö@\"ÃÁ=÷ÛºN…„t4ƒÇ|ÉBª«i-0DßË\$j¸ä†üx¸ÓQù¯À\nNÁ@C(sT^ÆŠ“*xáƒˆÜ¼DÁ\rÆ˜6CZ˜âÕ(ı`-‡:ùƒ\$£ú-ß/ÉQú^¶ĞK›…0DË±0ÄåFEX±É	¨ó'š3³ ÁE÷°7YŸl» ',€˜Éì+{–îk¬‹E>–BT:ÀÆ©öGLòŒ>à¶J4»‡*Ìº0ÁQ;»ı\0'€  	\"®<PÁ€2ÎÌZJ„ÅìJE°ƒÓà‰ˆ0ÜNĞ_\0İ1ÙáŞ‚~˜ ª€†¤ÈhdÔrÈ%AÛ\$Q4>ãàL}2e÷ÊlMsØ‚¶%È0Í©”\n¡Ø×@™\nz6ë/Ä­¹Ä)BÌÏ2	Ç“òÑ‰k›®Âúz3<”À¥ğ¬Û)`2‡<?3/°.%4cJ“GÍ\"Š\"ùË&\"‹ş±’L…k…OĞÔ[ışL@xÄS\0·êÔ¤7SE®nDë)#–±j;Üi*5l,Ãp|×³[E®~ÄÑSB”4V‰sF±‘4ÜÄƒÄ²¿ë*:OTÓ¯ÈM“4ÈNÓM¦{4ÄÀÃ­M˜Ò”ÙÁM+/ê°«Z0ğE\\Î¡r’Ô°Y–…ÄÎÄ@<šõŒ@!ªº\nô/Ğş»ŸÙé§ª5&x0p‹¼¼>Xá‘,\\”Ú±7<€Cä9òú×¤!ğDÏ©[ò^Ç¿›@ÄP™ĞĞÌ§ƒ,L\\¹ãE°IÙY®Œ†’À££r’î#LàğT„òa\\c%ÆËnÁ(`ç•ÊØ€#ÊÎ ®·’ËM†-0I^pi-ÈoRÒa5^·Tâãî{3K ÃDç:q]‚Œòàbú¨\$ i9Õ3¨.ÆĞ\0R·ÑNà¯š0ÑíĞ!½:ì™Ñ7«9.ˆeƒŒÎ»/`<BQÔR±eš‡Ã¬Ãœ\0·;˜P×.P8ã?æJ–[:°|Ó{€ğN\$èKàºÖH 	`\"€ø­Ø\0°„ä ÔôìóJU“ã<€°ï›Bh'„Â(8Â: €JM9—hÎPX»@£¹	–ÓanRˆ´Ú£!…*E%øÃ3®Ë–3²×Î¤¹p¤Mäí=¿>ñMNe\0Îä]€O ;›ºHSƒäç‰º\0¾xŸ€>!ë>ğ(®’‚Ş3Üó+5Â>äû*ÎO_=Ñ’³½…:¸Jí/ÊO<î§åC;Ác‚û‡pXŒø!;,ÖVÿóÔÏ¢=»‰#¼Œj¹@@Ğ2Ïa9Hû“Ã‰–5üOiK‚e<ÉíKQ¢–UXeÏ|ñˆP„à´å³ŸªBdªáJü/¼ı#éÄë?ø|ÓşÏ–,M'}Ï@è!ÓóÇA4ÉÆZ\0^â-\rJä=Ü8ÒóÅ\n“<Ñ5Ã¼J¦8%uKüÖgJÑ³Tã²Ó0Qó;árÍåÏß0´tÀŠÎ`({Ìì	(R,8ã>‰V/€£%T(ühŠ®#	jìF;ŞÄx%”4‚d(BÁ…‡p*ónJ1;ádál	ECh³€14ã?}4FÑé¨sôFÏH`ÑFš€jäæ¢œ·D´±à¡Ë\"æ8hï;¸?\$@÷—0¹¢#‚\\_œ?R|ô_ÂØ\0Ï£\nÈ€3QLè¾”C¬>\\ €ÁÀ\0000!74@àÁ9¼C²Ñ1 •…š¢\\näÉş<äà¹5H¹#’€¶z:å\$»Is£Ÿ¤uN,G\$™qhMxf„û»’±-I”¨gÓµALA!?eà£Z‹Ñ2tzĞL_HN´mÊFêß”ÑÃ3UtrkG4£‘ÅÔ˜z¬JË\0>Ğ1 =‚¸Ã•¬H½Ì¬+`ÆÑÔ¥#¥é‚SRm–;H,á´n\0ËFñù…Êî>!Ä”Êø´´¯Á›R(°N¤QR2Y½#f¨jj;&J•Í\\ş\r/2³H© R€z±ét’©ÖÍ[Rt§?6”+	‰9Ì4YˆÎ!tÈĞák3şD.bæÍ>8	”P+Ñ¨ÔM#ÔZCöîjñlE¿Êçtb&Ê]ˆZá¦1Gèîü'Á‚Şql0à–´ÑC`¼0N³Â&zÂ=;X´ÆöHŒƒ‹ÇÙX‘1I¥ÎÎ³Á{§·3h+ñ‹E9O39)vt¸€ÏGùŸ„Én(êdÆ[”Òò'‚5O¶!\r4Î–SPÈ55H!ŸßH@dë X\\H4o¨R±p)–?)´à²Òø(©‹‚áM½2Æ\\Nz¥4#Œ€N`âO¼º°1˜”@.ÓŒQïlz<æF¿*OAúà•Æ®>å=‘°Àgê=>àÅ0sëKPúÍHÒßFza³ äÁM´ÕAÃ£¯1q4PğæûBâS¬ó%=P,OTIÌc´ªÇåŠ\"É,á‚Â\r0Î@\$JÈ}ó| år´ÀQã5}!‰?16i&tP£,£tÒ/å„ü¼KĞ’ÁSF¼1¦§q(aQM }9,ÖAC,ò‚ğwCø	\\¾È-’Š2!!‚Ğ p'Ô8€ê:Ó\$ä~ƒ>ğ|s ­r\0%fÍ–çDB	3ÂµS8•!¢4ÔH ‰Id÷ÀÉ€_!úFŞNÅ;,øóÎ‚ÎÕ£AlÚ\0C;c\"tÈ´eûFbzÏyRh%b{•€¸j¬µ7²Rw]C_Ñ?0Á³ÿ7Th4D\"ÆF	´a‹Ç]9Œ©Rß;¡Jëì‡h\n0×Œ(Âÿä”r—-T…“IF5ö(w¢cæ	%L€2\0Àdª…LPJ~Ìåh„'?¤èà„\r;˜Lk1heP@À-›¸pI\r1Ö€çã°jFnulNÑ:€ÔD¤nê–U`\rR_õV1»;\0Õ\\ÿTHÍVTö…„¢F´1ĞÿDJ´AÕ§SpU|PÄ?U_`:Ñ@K+6U´MàĞU6\$9b5`ÈsT`ãë–kVe[XxäN²Î0Œ=ÇÁÊ²	SŒÁ,R¸ñéoèÂ˜¸ˆÆî)>J­A;És½Ä¬-‰Q4*óVE3P\0FÔÖ9Ñ¹U:F<i÷T \0¸qï\0€SäìóHÄ½YîaÎ‹8EY€ñ\\bĞÆ5V©*Ğuf® å`Zô);{ëÀh\$S#hŞ†uVÊM¼I±#|ÖuYáÃR[9º+ÕÉiiÕºÇœ¢ó£J3W0b´s¡[¼äÑIi\\+)”`Ëìh \0º}Ø\0<\\!	•!ˆqb¤×,0£êZQ·LÛYÒeVğnıt¶D¼Ê8ÓÀ9€e/°P+ì€“(Iİ¢›[¸Zâ€¸’ÄÊÙ?ñT£¤WS\\£Áë×3)\n·æ‹Ì}:\0ü|	m:‘¹¯Â­us¿<ÃÏõÊ¸~zØ.×E\\A°²kW‰\\L……À\0Q\\]qµÇÈI\\ŠüÕÏ4Ì,!EÏ¦¹à% >Qò0ò®–W¼I½Bl6×¡TòbHtSIN@„e]~acO3_¼í'3Wöqõ{AÊ6„šÒûÒFHõ5U®õÂ+¦‘€•omÛ#åiÿ5Ü*Ü’;ÿ½¤œB04lb+Ä|3Lf¨5d‚cdX*+ÃRgšœû9Iµ¬B—@ïb\rM½\nÀ=ê6ÄyS}Yqâì•¨µğĞã*\rR%0Õa™ÇôH Ï?Ì\"mgÀLCYİ0ß \$¸50•[Ÿ 8…G“`Ô~‚IöuÅ\nşR¨u<WÎSÙêh\n§z¯Ç£†_[;SÌuPöcûNêN4¸\\ì+:4È`ZEDSJC±ˆD•Rm”H„ğ¨Á™‹ÂøŒ°Mó5\\ßp{SJ¥E‹CTu\0noÌ2Î}kUYFIRa?\0mQÉ/ã.~E!‹qÖşË0µ@GİxšN±Kä‘JPìë ÕR”£R!Uç)øA’¢¾ƒAy­¨w?#¥”£º*VNëÇ™í™å;Wì„} ±¿S¸# ·ºJUšOY¤'ªù¶pgXÖm-<÷,}4:.üõÒZA`Íî†BT5X‚ûÙÎ~Iæ€!ÎhÑT%3í4!XfÅAóÑ\0^	soöZë{¥’¨ë,ò€Ú;İAĞ¨Ó‘OMa”w1øé”÷ÁPNOaJâÚ6[ºÍvH‚¹NE¤RñÂÜèˆGIœk­ve‚xğ˜€>YÂm–rÉ“fãË£Ö:¸)Y5!Y(%\0Ÿ˜¶ª\0ËZh7ü¼ÖœTï&`/\0ŞE·@”*_àŒˆ¤\"{\0ØéCÙ5ù<CM~CN­k=QòXj%Ÿ¶”Z)H6H4¯lÒVc(û#ëêcô<€€!âCÚ Tí: ‰€jpÀ[]™HN2ûj™È¶ªh} V‰\0á_öÃÚæük¶ŒkÚS3èK¶¤Úôu¡†Zú]-¦V©,Ói±Ò¶«Q‡fİ´ùÊT,ŒÄ×Yx¬RƒX²Ôu‹uÓUIE“¡^£l”®–š€Omè.ÄºÚq6«ùUIĞ §VkÙœÍ¨RèN±JZ–+_P°êÖT2ôÓ®´RJ+ ŠŒÙ@‘Vß¹½%@´“\0ÏT+u½<ÒˆùjcÔéåœBE[²4TîJ[ÀÆMCJ ¤BDä¶¸\r¨öŸ€ZîI¶äÚ@HğèÆÂûn[Œ&Œ9ò¯ÎäšxE‡M¿·cùç‘«Ü\$­\r©íHsf×1\"j{!Î \r§í]C³›tZ‰©ØÀĞ<ÜÊFˆşÙµÆôjÜ*/˜?±°–æ3mNÒ`€ødz`9€T;å|b¿€¸8¬˜u£€øa8CÑÉˆ!r£W%†æZ#í¼\\¦Ê¶0Îº^É:@ÏÖ…;ìÓäP>i‚VÊ²Tº6¹uC\n§XÄ‡A„„éÑWu­‘ûZé´`¹`MË2*m„w ÈOBpf×:ØyZ‰®°\$0ÅÎ¥“Î–£…×1‚Ì½c¬\0½ß#\0:¶ó|pj”À£q¬³!ãMR‚÷!Œ	í}‹–á³+*ĞĞUÎ­p‘ò<SEÃ8‚ô˜¯Å»ŠşJÈqÜÏ3?Û‰3¾P?x×ñ«~-`QÖ½Ş<œwãWÂ+èåÃ3Ú, ‰7kG©taqÄ]´‘LOx°€œv˜UİÆuŸíqEÄV?\\WqkÆ·C×qIuÖ@;ZÀ«hœ%dxéH„O‚4§åü¿Ä¼¤ø7€€ïf[¦U„­7dô·´–êiœ®ä™ÑF•ÒšÖı]ô¼\\†lCñÂ¤ËÀpZß5Y’³mm²v×œŒãJÑƒ`1q•C×z‚Hà_U%\\o0êÏlKWQ@÷œ`\r”ßëC^„\ná¢Òå€¤	ÍØ\0øH#`´\n[¶ê­¦ØÌ9Íèà‡9²–Ø^czÍé!•fxAğ†^g-ë\$ÅÒ!Õ¹òŞ`*H7°	u5e€ÖczÊ-—WÂ­bÕgCY!Ğªı‚Õ”­Ô²F\$YÉ-ÁÀXòÆíƒÉH<z\r¼—	¾cÃXäïŞÖ™Y¬×Bw5†4vÚ„¹W‡6Qd}Pâ, XHDîúFYuÓu†ÃaßZ,A#¿ÓT¹Ørü6aq\"÷Ù°Çm;WÜZ8«KK6^éi#\0ÆÙVÒÕ~-Ú£ym¹VË‚X¤,õŸ¶¶8½úˆ”ß|i‡O¡4F¡\0ƒ	V~\\ÃTº²uyè	†‹]h«æ6‚S1<åtÈNÇCäçL \"­æÚPG!ûìŒëìè¡Tï;NUO;= ÷ÙtÚäŸ)<Y2!§0À'\"ôF¦¦F(İE?²iosú;i*ô£µbH¼*¸	A2ˆ6KŞnømYõğjfÖÜÔÍòÔµ?xê¨>(÷“ZÅ¹¹FİoJÁ^=Se–Uß¹y\nó¥W¹JLêUî]¬}Ñp¢Áİë>˜%W+{-rò½Ó¨g÷Ë5“|Ãë¢¡F@Š8Ü>ñA¹àT½ıb7àÒ\rJàe|)çØ.VÓÅó˜âó•à[˜CÍSÙb	U–x#Ò#WV	!+É–}ë˜'QƒƒyîçİGp{áïØ+‹\\Ø+×4–:WøöUÏÃ£[­&kHÎ(>V	×Tÿ^ù°³‘áQnÜ×!É÷¬Ğ–^•³] 3›XØÍ‚ıÃ—Í+G“Ru€Pd|‰…(†ä	€5„Ùƒi¸7µ'A£lÀ±¨´1á‹9ç[îƒOöÑëø@ÁqY°eQLüÿ­R\nè`&Å_*Cû}®\\a³:<MşáJXıA³şÏŠ´ôÿµîPm?sò\0áòBÕ<Ç0ÓÔ¨~·@-”nÄœRÊRÖ|à’“ÔkF	®¿+H=µuO?=†8z‚Îb\nêøzÔ6Q­eµe`Ñ†!1\0aŒ`z˜e\r†`›7+††#ÉõuÑiN Ô–ÔñƒcMÛ`â#Å<T˜²¨ëQïèa4õy=J¨“§p¾·;\0DH	À\"\0ŠÁæCÛ„ÁRÓ¤´ËyÕkäûâŠÓ>(à<X†Z\0Á˜=VUc\rYG`èÔÍ={Ä§:V@Ş\$…qÂà:V§ŒÎ£…;Ô\nœB1±íÑÖŸp{ÆxX‹\rŠûO5á46…>8=K|ŠÈûã\nç†}åM¤a¥\\“Àpçç]&óàâë%Ñ_Šá:låuÔaTÆ³òëkãS_İŸa#…~‹óBOy>'åÙŒşI°¶z”Y[9èäº@z«âd˜Ï]„z¬¥ì¢;†»±¨BC°šï1¹ªæ¼§´YQo´ƒ®ÃqhĞw¬íÄ\$éëïn¥¾üêhÑTíMÚÌğÀ– ”øë8›ø³¶Y¸”@cªêF;‚dc½h&<tNü><xòœÅ„£ò“€OCN?Âw˜=CI„ Óµ&\"Ìñ·]!Hs#¿S´â 9à/‚„#SluëÚH`öB‚Ëd.)@§¾˜M€9	d\nàd\0/ä;ÍCFdPÎEN€ç‘\r	y_¼»µ-1F>zˆ[áJ‡ü¡¡ \r”j1!DbKqÌ?`øIë‰`_YZBµEˆ€ËX\\ç\0006İræ»Ë8½ÏåÙŠß«’•¢¹JX®IùÚBOU;Y1ä~NÎA¢wœœ5åkV\\“Læe‘GD¼ôÏpARg†OLk‘®„+ì½å;G/Ş·{më·—)y‹­c’€<Èá†xK¯ÀŠZ„Ír Æ€ò»` ‹Äjnãp¨¼xÃP°\0Æ*ğ\r#\r¨.Š}Š¯Šˆ¥.ŒE_Îï”ßVøc©•+¹¨>E¨ÄÂè ¾1vW¡Ô ¾åi.›¡5 vüCYÇQaŠò\nl½¡L@s7ešùAÜhÅ8#UC ƒ¨üœnÂëÒæU\r@™[‚\$\"³¹§÷@şpÖR÷;MÇ6œæ‰¡í–¸%¹g×Ğ§¸\"ó )3Ëäë\$ÁnÆ_\0006Î€·…kmŞM”¼çVF\n&Z`2hİ`û‚ŸXBW|¸~4oÄ-àµ2Ğ–•[–ÎÉİÇSN°`“×F(yo½V¦+ñ€B›ºY˜¹	‚Ğ\n`.¦fR\\bÜòe‚V\$H¦È8-qqÅØ` şÄ°±æo°\$òeÀµjÙP\nmš\"Û„æ4ïUi-¶ùùÚj˜\$»”è\r¬:UÁ™ğL©o˜8˜´<=–‹™½ /@±cp¦Ğa&}ö 9³]ys¶jw^#šó×ªG©\"²ÆNèîñØïiG¨~nJĞåäV©Øæ	D½=é¯fŠIŞ<hŒ·}˜5põ«RîoÅ€ÛœlåioÄšõöokÌ¨Üš»`±NéœlEfëœ1Øág<-vq‘½æëœŠ\$äÄ-¿œ©9Ëµv:]YÍgYúŸ›¦[ÄPJ‡•(ÿ¹’Æ¬,ænY´bzğm@fØm[Æ\0Øtf—wT‹0İ¢5f¾\"¤ÙšË¦Ê¬FöÅ Q&¦h%ndJw\$#š¸\"™Fş fqä&Ç›¦}¬{ÏZ^}\"V\ná5jYhe¹cfÁ\n„.¡ŞrYÛ\0í,sÙ€‰B¤noCù\\/ö[9ô»Š¡ùà(š³YÃ¿óh’™¯h/œÜoz«C—Şt\nI%±|2ça¡\"¡ùá%CpKâXË	¹Kè;h2i¡g|Gf‡Z©¥Ÿ…ó]‘ä]ú±'~‰.VT<\\s7æW\0¯4XF'‚#–LÚ¯¬«6¡™¡è®Àeñï.8†ò\"Ò‡ãV“äqa¨˜kÎeèÖ^Ø™f±Wˆdºñ6‰kÓ F‰¼k“)f•rQ?@‡Øyˆğ³‹œ‰DÑoyĞ9 ãhY¥Å]`'Fš4„qÛºI¨\"%>¢Îi“± eèi¶oàƒé\$hÒXZQ§»!ĞbÏ½cìûî?sÌ>]kA—foÉ÷­•+PòQ›i¹ ihP	‚ÑÖÚ²íqõofi%AğâNŠ,¡šbßeÎp°”G?¢sì:— aƒÏßf±Óú*!Œ\rè)‰!˜ÒààÆ¨h1 4uÃ•\0ÚÇv¸šÂÉ†ºu„ÄaÈ\"Hç€¬ µìš®¢P\\i‰¢/,çÓ„“ÔŒ*:[ˆ‡\nc¨È!ÃºÁ0ü§6\\À% ™#mJ!>æ~‚y§A GéŞhhÿš\nÏ§ƒi¦n¢i§ªˆQ\n'l°sP±D‰‰†Š &È³Ãö‹LH`:l5†¦TY5ú³¥´yE\r>ØÀ)Ú î)Ó”¶ç“>¨Äé³·2p\\M–c<Ú,¨·iø•º.s<¤dSÀnŞÀ{G{ÚJlœ¸Šø˜ÒÁÙhhnfèqÈoI†œlE~¤Ëj^¢.+hÜÅ(º@²ºbK®0“7®¬à6jÓBHMÆ3óªõh]k«v¬ –GzĞì¯ñRjë¨v¥Z9”.¥‡{ê\\®‘#^(ÚÎ‚Y¬úP#¬.°åÒë-­¤øâë9æ³Èpà?©‚-¬’;¦æ¤‰j]ªl\0çkx™t>ˆQª®·:D©¸HúœµÆ\"ğ)kª/¢êÅwà1	¡jšş©à™j£—ª`8GTÉú&«cêÿ¬	°cå1ªisÅY=ÊO¾¥¨p°O³3ùº¬[Ó¤ÚI0í>«M‘zŒ§>Ãlhn¤;\0ı°ÑZl,6ÁÚ+¬}n ˆçê\r©\"²Ú’@hú›Æà¯‡C%T›Â’»S_¤“¼œl9&©íëzY&'vH_xiÀ·\nŒŸk !™Àê	d	şì4ÜRÂÆ^a¨J{Âª’Q|T‘`&|±bì ‚8„¨ÆıÀÜz‘ê¢³ˆ3¶£2?ª˜4Uá?ı«ÅÖj©´)á?_³\"W)a%Ô1®Ã[4%‚ìÜHÕl¦öfƒØì²ŸÎZbÎí²æt´lÀ¤9ù÷=†šu({6©²ö&ÌÄr¥l•Bñ2ìàOª&…Ï¡Ã§»mµ”S¯òáZ…mÜ¨ˆÛe²q¬ì:¹¢F†Œ2ßÁ>æKê}Ü;eÔãFÓçêI´¡|uîÔ9JÔ[	+:PmùZRC–‡ö¦Q®Q6·¢«k5 bZák‰CF¸è¶ƒë¯)ºø£¬c‚{\\ê9¨®À:xO:ÎÁä*l§N Ë©¯¦ÀÙmF{fÔ»pmN–¯³ôµZÀW¶_fÓÂ#í@ÎÖz|#§Ñ?šwj?°FÂeš1µñ\0 â");}elseif($_GET["file"]=="jush.js"){header("Content-Type: text/javascript; charset=utf-8");echo lzw_decompress("");}else{header("Content-Type: image/gif");switch($_GET["file"]){case"plus.gif":echo"GIF89a\0\0\0001îîî\0\0€™™™\0\0\0!ù\0\0\0,\0\0\0\0\0\0!„©ËíMñÌ*)¾oú¯) q•¡eˆµî#ÄòLË\0;";break;case"cross.gif":echo"GIF89a\0\0\0001îîî\0\0€™™™\0\0\0!ù\0\0\0,\0\0\0\0\0\0#„©Ëí#\naÖFo~yÃ._wa”á1ç±JîGÂL×6]\0\0;";break;case"up.gif":echo"GIF89a\0\0\0001îîî\0\0€™™™\0\0\0!ù\0\0\0,\0\0\0\0\0\0 „©ËíMQN\nï}ôa8ŠyšaÅ¶®\0Çò\0;";break;case"down.gif":echo"GIF89a\0\0\0001îîî\0\0€™™™\0\0\0!ù\0\0\0,\0\0\0\0\0\0 „©ËíMñÌ*)¾[Wş\\¢ÇL&ÙœÆ¶•\0Çò\0;";break;case"arrow.gif":echo"GIF89a\0\n\0€\0\0€€€ÿÿÿ!ù\0\0\0,\0\0\0\0\0\n\0\0‚i–±‹”ªÓ²Ş»\0\0;";break;}}exit;}if($_GET["script"]=="version"){$o=open_file_with_lock(get_temp_dir()."/adminer.version");if($o)write_and_unlock_file($o,serialize(["version"=>$_POST["version"]]));exit;}global$c,$f,$k,$cc,$kc,$vc,$l,$dd,$kd,$ba,$Gd,$w,$a,$Zd,$Ye,$Lf,$jh,$pd,$T,$Uh,$bi,$ii,$ha;if(!$_SERVER["REQUEST_URI"])$_SERVER["REQUEST_URI"]=$_SERVER["ORIG_PATH_INFO"];if(!strpos($_SERVER["REQUEST_URI"],'?')&&$_SERVER["QUERY_STRING"]!="")$_SERVER["REQUEST_URI"].="?$_SERVER[QUERY_STRING]";if($_SERVER["HTTP_X_FORWARDED_PREFIX"])$_SERVER["REQUEST_URI"]=$_SERVER["HTTP_X_FORWARDED_PREFIX"].$_SERVER["REQUEST_URI"];$ba=($_SERVER["HTTPS"]&&strcasecmp($_SERVER["HTTPS"],"off"))||ini_bool("session.cookie_secure");@ini_set("session.use_trans_sid",false);if(!defined("SID")){session_cache_limiter("");session_name("adminer_sid");$F=array(0,preg_replace('~\?.*~','',$_SERVER["REQUEST_URI"]),"",$ba);if(version_compare(PHP_VERSION,'5.2.0')>=0)$F[]=true;call_user_func_array('session_set_cookie_params',$F);session_start();}remove_slashes(array(&$_GET,&$_POST,&$_COOKIE),$Oc);if(function_exists("get_magic_quotes_runtime")&&get_magic_quotes_runtime())set_magic_quotes_runtime(false);@set_time_limit(0);@ini_set("zend.ze1_compatibility_mode",false);@ini_set("precision",15);if(isset($_GET["username"])){if(isset($_GET["server"])){$_GET["mysql"]=$_GET["server"];unset($_GET["server"]);}$bc=array_filter(["mysql","pgsql","sqlite","sqlite2","oracle","mssql","mongo","clickhouse","elastic","elastic5","firebird","simpledb"],
function($k){return isset($_GET[$k]);});if(!$bc)$_GET["mysql"]="";if(isset($_SESSION["pwds"]["server"])){foreach(["pwds","db","dbs","queries"]as$x){if(isset($_SESSION[$x]["server"])){$_SESSION[$x]["mysql"]=$_SESSION[$x]["server"];unset($_SESSION[$x]["server"]);}}}}$Zd=['en'=>'English','ar'=>'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©','bg'=>'Ğ‘ÑŠĞ»Ğ³Ğ°Ñ€ÑĞºĞ¸','bn'=>'à¦¬à¦¾à¦‚à¦²à¦¾','bs'=>'Bosanski','ca'=>'CatalÃ ','cs'=>'ÄŒeÅ¡tina','da'=>'Dansk','de'=>'Deutsch','el'=>'Î•Î»Î»Î·Î½Î¹ÎºÎ¬','es'=>'EspaÃ±ol','et'=>'Eesti','fa'=>'ÙØ§Ø±Ø³ÛŒ','fi'=>'Suomi','fr'=>'FranÃ§ais','gl'=>'Galego','he'=>'×¢×‘×¨×™×ª','hu'=>'Magyar','id'=>'Bahasa Indonesia','it'=>'Italiano','ja'=>'æ—¥æœ¬èª','ka'=>'áƒ¥áƒáƒ áƒ—áƒ£áƒšáƒ˜','ko'=>'í•œêµ­ì–´','lv'=>'LatvieÅ¡u','lt'=>'LietuviÅ³','ms'=>'Bahasa Melayu','nl'=>'Nederlands','no'=>'Norsk','pl'=>'Polski','pt'=>'PortuguÃªs','pt-br'=>'PortuguÃªs (Brazil)','ro'=>'Limba RomÃ¢nÄƒ','ru'=>'Ğ ÑƒÑÑĞºĞ¸Ğ¹','sk'=>'SlovenÄina','sl'=>'Slovenski','sr'=>'Ğ¡Ñ€Ğ¿ÑĞºĞ¸','sv'=>'Svenska','ta'=>'à®¤â€Œà®®à®¿à®´à¯','th'=>'à¸ à¸²à¸©à¸²à¹„à¸—à¸¢','tr'=>'TÃ¼rkÃ§e','uk'=>'Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°','vi'=>'Tiáº¿ng Viá»‡t','zh'=>'ç®€ä½“ä¸­æ–‡','zh-tw'=>'ç¹é«”ä¸­æ–‡',];
function get_available_languages(){global$Zd;return array('en'=>true,'ru'=>true,);}
function convert_translation_key($x){static$rc=null;if(is_string($x)){if(!$rc)$rc=get_translations("en");if(($u=array_search($x,$rc))!==false)$x=$u;elseif(($u=get_plural_translation_id($x))!==null)$x=$u;}return$x;}
function get_lang(){global$a;return$a;}
function lang($x,$Pe=null){global$a,$Uh;$x=convert_translation_key($x);$Th=$Uh[$x]?:$x;if(is_array($Th)){$Of=($Pe==1?0:($a=='cs'||$a=='sk'?($Pe&&$Pe<5?1:2):($a=='fr'?(!$Pe?0:1):($a=='pl'?($Pe%10>1&&$Pe%10<5&&$Pe/10%10!=1?1:2):($a=='sl'?($Pe%100==1?0:($Pe%100==2?1:($Pe%100==3||$Pe%100==4?2:3))):($a=='lt'?($Pe%10==1&&$Pe%100!=11?0:($Pe%10>1&&$Pe/10%10!=1?1:2)):($a=='bs'||$a=='ru'||$a=='sr'||$a=='uk'?($Pe%10==1&&$Pe%100!=11?0:($Pe%10>1&&$Pe%10<5&&$Pe/10%10!=1?1:2)):1)))))));$Th=$Th[$Of];}$Aa=func_get_args();array_shift($Aa);$Yc=str_replace("%d","%s",$Th);if($Yc!=$Th)$Aa[0]=format_number($Pe);return vsprintf($Yc,$Aa);}
function language_select(){global$a,$Zd;$Ga=get_available_languages();if(count($Ga)==1)return;$hf=[];foreach($Zd as$Yd=>$Jh){if(isset($Ga[$Yd]))$hf[$Yd]=$Jh;}echo"<div id='lang'><form action='' method='post'>\n",lang(19).": ".html_select("lang",$hf,$a,"this.form.submit();")," <input type='submit' value='".lang(20)."' class='hidden'>\n","<input type='hidden' name='token' value='".get_token()."'>\n";echo"</form></div>\n";}if(isset($_POST["lang"])&&verify_token()){cookie("adminer_lang",$_POST["lang"]);$_SESSION["lang"]=$_POST["lang"];$_SESSION["translations"]=[];redirect(remove_from_uri());}$Ga=get_available_languages();$a=array_keys($Ga)[0];if(isset($_COOKIE["adminer_lang"])&&isset($Ga[$_COOKIE["adminer_lang"]])){cookie("adminer_lang",$_COOKIE["adminer_lang"]);$a=$_COOKIE["adminer_lang"];}elseif(isset($Ga[$_SESSION["lang"]]))$a=$_SESSION["lang"];elseif(isset($_SERVER["HTTP_ACCEPT_LANGUAGE"])){$oa=[];preg_match_all('~([-a-z]+)(;q=([0-9.]+))?~',str_replace("_","-",strtolower($_SERVER["HTTP_ACCEPT_LANGUAGE"])),$B,PREG_SET_ORDER);foreach($B as$A)$oa[$A[1]]=(isset($A[3])?$A[3]:1);arsort($oa);foreach($oa as$x=>$G){if(isset($Ga[$x])){$a=$x;break;}$x=preg_replace('~-.*~','',$x);if(!isset($oa[$x])&&isset($Ga[$x])){$a=$x;break;}}}
function get_translations($Xd){switch($Xd){case"en":$rb="{C¡äeMçQÌëˆ…‚!ŒD%ÌĞØˆe*›Œ&#d èoNÃy„È 0ˆÆ™(º:3‹L'ƒI´êm˜%‡s,¾g%†šOPƒIÌ@%9¦Ñ1¤X4„\ræZq¸Ştg‡3¥LD5‹Dâch°Àb2£a¸àsÅŒ¦ÓĞóEç#IœÓ\"6GnğBt é#’œìÃŠd4#£¬’n9™NY¨¾-ç|–nq,ÂÄƒ	Ú^0‡jÁ¸ “ÊNC	ÒLh¦ğ2\\VSÚ™svF`n—˜Íæã¦ë¢æsvÎ®Û¯/Ãètbu‹I¼ùpæ|ŞD2ÉxÙ¼Xˆ˜0Ã8ê0·ÈèdÊ„B«C3°HÜ5«Ã¸Ü°MPä³Hû:0ç5ğKÔà#‚¹9ÁœŸŒM>‰†N D\"8¨D\0—»£k¥<„ÃŒ#’ÿ>1PÊ:ì×>Á2ñÔ9!£Ïè¦<¬‹Úo\nml9&ğlÑ\$QÒo\rB€Â9rHä2&ñhÇŒS\\v.(°˜7°Ãro\n\rÛ\0®à@–O©¼z ŒƒkÑ\nÓ~¯,pà80k\0Â1Œjàæù¦‹Š‘ÎÁ\0îÌ]4ÜÍsk2\0x˜8Ì‹Ğ:ƒ€æ}‚;Ør]G=°»3Ø4-‚8U³pÉ`×*€|6°j`Ü30tºí‡–Â,Áœ‹.¤£Àâ1é¼š)Õ#º·R;†oè‚68Ã@Ş£º:Aİúå\$“¸i‰Ø@ÌËJ¤Ğ+È#sç„A£^-¢éxÄ<¿h˜Kd8ºªE\"Ş6'óò©\n‘.åCltî`r(‚:¸,øÆƒæïxi&¿0Â:ß—øÃ–aOìÔÑ³#K·Œ°FîÛùrÏŠÚ[¿ªMVX6ÂaBK\0ƒ@R†±\rĞ2İ[dR#£uÕ©4dd Œã:3¸»ÆÙŠKØŞÛm—8Ë ŒcFÙ&ÀÈî44S¸k+S(èmŠå:ì>|Ô&'¯×4\nuBŒûO5ˆ;»·Ínz@Ù„)˜Ç\0sQ¦(‰µ›FüÔz9º<ÔŠ7ÄÚĞm&àÔ…ÙRAk]õ~R×)A¯@†ƒÆ¨o½Œ+Ä9úˆGµò/@ İ·±:&Ä\"JùÌşqHŠ<S\rğŒû‹8Îá;ƒtzßÜ~i*²ğ“M\né=àÜş¯ÄÀDÁÂ6\$1 €Şƒ0lQå˜ Ğ”S¸8M	ì3ª£\0ıCpvia¤—¤¾Â îtî––k`Ã);gµ» €J\rĞi7„”ß÷ú\nqÉR…¡”XHuàT\rä¡A†àòJMõS©°34…ŸJ±JdÁÀv„Ù YğæØµŒ`!ÊqOFWn¢#IÀHQ°0Æèİc™Æ5¬œ„{Q\rŒQõ¤BG›Áa¦«VâÍgO²ÃÂDšN’ÊşZ	±iI á'\"²²VŠÙ\\+¥x¯–Âë;¬e£ÖPrY€½gL@ğqxZ„\\9ƒçí'Ú\náëŒ§”ä¤ªQÄx\re0°\"`åT)e0	YOI•-ãu,€–DÂC!f( *9B`ìš§(S°„Må¹7Ê)0Ì=Æ0ç¥nTí¤àOg¡ÑEœ0ø6D\0DXa(†ìÑ¤Ğú¬¡£q)HE5¸İg‰ŠD& ÷(U>ìÈ˜9E&4öÃ‚6Ú_Q*‰ô(€¡&¦E/4\0€\0RL90†DĞåÏ&`å*IÉ&!Íh)ØßCVĞpgŠ²V*õLrlr0ªî~U‡„ÑÍòG¦~B\"^Â˜RÑm†à\\éØ¬Óü  I]ŒRE'DğŸ\0Ü‹„Š†®€“3ò\nqbS´Jx‚\0 IU)‡gò€„	ä“BI!D0Ìø¦hkÓi9\$8µòÀQ@Q‹!HS„&Éd¡µE9héäc¼ì0¶X'…0¨¨Œ}wp¡‘zœr²¨áÂş³O‚İOb ğÙ3@AÉÀµ#,¹¶2`Â\r'v„ÉQ,%Ê„1\\7~ğJ97„Ä#J~Ø{÷=fd™[—ãA¡l˜T'6ÒÁ›	 í+ºÖŒ¢!	á8P T¸)á0@(L¸k@VËO`aLÆ”#ÖŸŠ’=%Æ)\"„ÇXë±bM	åõ¼1ƒ(¾ƒ%¦=ÆlÊ—B	VDA¡7#©W„\r1†0Ì—½:CM(1NJ+”ãhy‘j…R&©KÅlˆŠ[zê¹§\"@Á\0ò²vÈ˜¸ÕPeSOyœH­tÂ¼|Wy“«\"Û®—ê:š´4ÕPÎ,µ>¨ºL•6ÓÒ|‰¤Á_Í].ƒ\\-°+8Ò¡’,ØƒfÒè†°œ|³AJNå¿Èé¥à9ùn8jTŠ3&—´N·>'¶L˜2?¤é~ÑMdKØ4 Í`ÒÀMr\rjíFï1ó\\šûÈŠ7`ö.‘Ø,[“-f‚”é®f	ßgf¢÷A®gY™`PÏÃ*TËI4*Fú‹v@GßAr(Á²›êCB\$fØYV[§Œ&€¤ª”~>cDX\"›c¹È‘KèãÈ'³ÊµA£4Íù õq†t Aa ZÓEµÊt=…~I)u3™+CäˆVÆî|¸Æ†%ë3*Ç#‰ªÚLtÔš´?#ˆ53¬p(ùºÃt%á<%«²jèf×} vSEûGj³·şµĞas¥=€¦ƒPğâíˆòi¸GC&ÛHX%ı?¼n>Ó¯;ØK,ÑÇ§ôåèl&ŞıymniAª2tŠ8°wó¦J¹H½\$·^‘@j‘}H%~Ó Ô“0ò'‡I¡ÿCj;êèW¡‹ã/ëã§+›\"ÁIº“\"°xĞhS\$áÂ!3D…h^Àí†ÎñÓ–>È„\$gƒÀ³)³8ƒddeïãK1?Fµœb€6‚œÌ\$&s£ôîêH ’ÿÃfMiøÌBT]yâ-\"öºğ¤&=#D×ƒ&Ë€9p\0 ÊÌJ6y„L¥#Jéé/\0B‚_°äÕ¢‘°F¶îgàu@L­f~‚ô@%3`nå,Èš¢#%\0H&°“0}ŠÖİMÆËÃ­Æ—t o¤bDĞˆI œÆpR?ª@T°mŒÉã&ƒ\"-éC\r\$& ğ}(K\rì¹\rË6F°ì£ğó0÷ğ^r°ìmÈV‘\rPM\0ÀpÍ00¢0ı\r§}0å¨w\r¦hÿCê>&8ãæxQñ%ô(®úë¥ä/]NéCº¦±2wb…ïÎ¼î/ôcJ†ßÎ\0‹ñ3¬ËÃúÀ‚ÀÀ@ÁK¯Ã&n5-ÿn¬Å°8?²İê¬¿˜D»Æ¨b|l¾¹ÂÆÖD„LJ !Î,	Ú@ŞÜOº¬ÑÂŞ±Èe®‚¯Elr¦ì '¦)Ö,Lñ\$Ñ\0ËL?XŞ‘ÆN‚J?RCø€h@-f%ßŒe£øÏm®^Q3ñ6?„šÚÆp×\0Àr?²Y\$Ñî„{Îf_òJ@ÂÜäL,]°t@äĞä©Ã'%pC)\rprC\0`E'¢_ÀË(2|ÍÒn,2´FZ\"Ïµ	’|H Š;|I²êÀ? ¶ä¢“æ²7\"øÄAa’‡¤03¦äe&±5'¢Ró00E2¦AÎ`èÊnÆ²A’¬İè\rå:¹‚A’¸|3ŸæRº7S,(¥îA„Šp­D&/ĞÀF\r,@ÊçÒ)LÇ(’úœ“dªÒ¥&òŠÓŸ6#¿6rNİpD*ëÿ7\$îC&Ã'cC9D.-â/pÙ:\$S:“iSŠos)5“–S@|3Á:(á…!:ÓŠà“Ğ_Ó‡0ÙS§=³·1d`Ú‚-980®D€3É=¤@u{9mÍ(	ÂDRLsİ0Q‰:óîFT6’™(­î\$G7q*DŠ	Örj.›0ô? »†pF  ‡\nÀŞ›dPìn¹4Lí Ö&‚KHãF…<7ñÓto¯EFÂ%ƒÚEB(Ü\$ãÿb<„R	tpE°ë† ÿóåÔt=ı\nŒÁÑ[iÖhC€Økp\r Æ\rqò&*Ú;ï[0È¾3\$0p+\r…´Â ¨ÀZ	Ü;C0@4ò>Ï%Sh'ªwK±ULÕèô‡Iãú\$0@8(\"×qôÄ`j¬N¤¨F-@?,cbMÂ=äbD\$Æ,#0,-MÃƒN€ÓNÊ94âË<¤ROkÖ[|Tdõ-2%ÇCT,\\@“–öâ,Õ\"ÉXäš\nåR)êi\\ró¦ÏĞL,Ä^†íCdym][õ'…°6ÒŠĞg[Ô‡˜ÚõÛ•Ï^1	Aòpıu»^ğ«‡˜G-Cã,QUOì4âP}e¢ÓÄ€åâØÇØGˆ[ËğÚ6]çŞ\r! ´–ÏÄ\rÂ-‚boæH)].ª„@ĞTä…Häˆ|ë ÆÆĞÔ‚<íÁ¶hu¶lP€>ë øGe„RããYe„dk®Ò'öXG¬w`B—e†t1\0ój\$ˆI †r”Ûeƒúp¥ “„˜€än§vd\"=âÉƒÌ8\"¾ªÖÊä˜MÕ9`pD&TKãKàî0–Ì@pwÓ€P¨Æ#¯\"ë€Ê¥&“hµ	ÄdB_q7¢µÑwô`ú";break;case"ru":$rb="{C¡A\$ÑEˆ(6‚É µh !íì ~\"†01”\\33qÊ8ĞNÃáPÅ£A`Ğ]´ÍE h-åÍœF9h.()´)	;\\Ì'Ùt)ˆÃjtg'NN×SJAy;]Í¢†‚æ—­ê1CE#±¢ì¶yÜê¿@Q©\nk‰\0”	Nd*¬di'QV¦SÉ•ê_I˜¬)r©¤-¢‰¨MPPÙüA…\rc‚	 Ú80Œ†cA¨Øn8Éòuş[52’\$ô)ª-ŠÜ—2MŒ\r8XİeM	l¾™Áh¡ryèVn_É˜ĞÚŒŒ ‰óZ¼İ\n\$¾©,(si Æ7Æƒíåğêí“q¥=J½~ «…ªÊî*î1Fœ!ÏQé¨iÃj´!¬›\$Å¹*cĞ‡&0˜\\2„j†Å¬Ğû®¾;HC¸Ã¸Å\ndèª.t\0û=­S±jàú¨ª¨½	kĞ˜–ÑzŠµ¹ŠÔ>ó1pLn‡½­4f™Æ°„6õ¦ñÓ8ù*QÄªˆ+sÚÙÉñd¤‰Ãrb2·QL>¼*„Îâ ¥zr²I dï ¨:äXÅ²¤ì÷ ¯Úº!Èƒn¦=Dzp™‘\në’]%Í\0dü ¥Öó¼jí ¬L8Ú¡&ƒÿ¬IÔ.—Mkäá£!”P‚”ğÈÎÑ’\nJU²p\\A!xh‘ó´[ªOB„C®+œQNÓ+6½•lÒ‚’h›Ğ»ÒğƒVÎ…púÑ:£!œğhESe\nˆªÔ L+ÖÅ¬\$bS½LÜ°ÛagJıQL^ªµ8h-ëJ›\"ÅÎ\n«Uè4A#ªÕ± O2®³Ó*2´T\"®7•Jî«XbÈ6#pÊ9:wœ{\"Í’9%?‘ö2Ÿ—éÁtä9Eªpñ9èC£@E½æõ`–\0Xƒ@4C(Ì‹Ğ:ƒ€æ~º;ìpÃ“å9X\\7C>º2Úèà0c˜ï´šîªÁÆƒ“R†Ÿ+¨ª™¢JûÔC+¥Ày®Œ!ó@ÙÈ2É>-õËià,]!…_24Ÿ!#,@!jµ»x.Ó\$…*Áï2ÃT8Z¤¥ÏÔ+İ”¨ê§nÄ\0Ct¬5Ü”ß“ûQVVˆD`üˆZg\$‚–ÃV×k‹hèÉ1êHû{Ò‘{ÿ“î³p¸D.°ØGUv¸µ=f0Ö M1júî±ºÊŒ8«[‘qô»•ò€B†S'¡À:ÔzŒÃÕvnÕÌ	ràz JK¦4Ÿ•õH²qBÎÕnõ	\$€Õ<\0Âƒ i†!¼7BµÜÀšA;[Ò¸VóW¡*	ìÁpS\nØ:zoIõ7\")	ùL+n!ˆVÅ =\"HYªˆ¨°![öl19cBäXÆ+‹Ğ¹dN|K\\œ-ƒníÈ5[¨©Â\$txÆâh6\\êŒ•Ä²ä’’œ## Ùw	²ºWÏ©¥`\nâ\"¨‡x€ŠÙò4¬\\*·^¸#À\"ÌF¨„HNYq|BË);äK¤Z¶\naD&×ëI˜4«®%l”ä‘&fl­ÃØÌ\rœÃ¸s¾tæ Ùù;h\",èšWNP&[«)ÇD‰«ñl—;Äcj(Ê›äá’îRÓš=Äæ¨Zqš¤dÄ~\\º+Y	~ƒv¼\nú£'ÂÙ1ZxÊåt”z1høPk»DOˆì7ç£öst—'\"bQqÀÙFç'P7N°:#r¹ÓÓ-3…É÷“ÊvUé¾G¦€(\0Ãhe7,%–(FAÂœ	!¸;Ø^ØseaÙ•‚ĞQ²ÔàçOŒiHªB82™\\;TOù,ª£’Áp8%y—P8uL‘õkq¬™æ;O“Ù]•F©èîe\\]È0–*…Ã¥J Cëœ›õ\"N+¸‰d2£/¢>I\n)£>êàL±Df‚ÁÑ[\nşm=‰1¥ÀˆXØ1<“È=JÖ¡e7x°Ö`ÅÙ¤ùg]Ÿ•h&Ñ2'i_,uì¢»XŠ­t®– ÅØ«Ã+5¸²-\nŞÙ[ƒpÜÍ»÷²Ü’¹rÊmáMÀİQu\n«ì@áûSlòdø•*ARN¯œä.9,¦+T(¨ÆÜú/\$eJ|UWlÜ·‹¦—t×½é%…ãÑgR´oÁ1İxÚ³ræ\nÊ\nMdF[ørß0ÛŸÃ·\r¦´ö¢ÔÚ«Wk-m»öÀÛdeAÉ³¶–ÖÛAxeÑ¶0Ó\r±mäğ \"_KUÈ_N,¸ÛNgùm.³Y9\rgáA‘wdNï[§^LÄ}r,‚òG³2ÈµyHÄä^DrC« Ñ×È¸š\0r¹äííÂ…uÀ^Ç¨ƒiº•NªÅçefe+ÙO?øÙiÛN˜b³ì…}bÒ%İÊ¼Ä,øËZ37\\ä„Ña¹ì èå\0ƒx È4ÕJ\\FAÊ”„:ÄÜ.ÂØ›àŞ\0f\ráÔ7MÁÏÚ\rO¤ÕF¤ˆ\$YN#PLÙÏÃş…Œ²eú”ºc-Ê‘›CMİ.D™‘é›­éƒ\ntsH © (Q*ÅãGèdœ(lçqˆ˜»ÍˆyôÚsĞOâ|š‡Ù‘%àQXÑÏÛu‘<&‡ğ®­^«\$³0¦‚0-ÍÊA\r^†0fİióEæQÁ•½ÅL¹nŞ¤çG9q.V\\]ÀÖNÓ’ù3#Ëb•n\0(ZÔAäüXÍÜÄ‹Ô-SÈ²i 2qÔ,eäÚä˜-æ©\\§Î™P\"j\\ŒŠ\$!\\qˆ\"pNò<&ŠîT2fQ’ğÿˆ¡\nckN8BæÜ<šNÿLıvl5Ûop¥¾¨ÜN¢âXŠ› €(ğ¦%´ña×¢4·èËgÊî›”¹¡A¢\"‹uÛö\\Æ`‚Üh¯so¾ã#hvD{	èpEt×·+YÏDGsPƒËß;±íÀ„qígr^;›¼.u*ú5ëí½<³–£D£˜ò•n\0F\nA]øurõn°¡HüSÎh¸ƒ„Ââ\$]bĞ;ƒP\$á\$¶lì2¬©öüE(zI³ëvEd°v(\$ŒÎyÎLõ*ÄÚL¨­jÂÏ2@ÆŠ¯ÄbÂRaIÒ‰R_Äåƒ•'fâD ùâĞüNœ”åüG0Ò.^ì­(üEºéçÄèD´éº#Ú;¢N`Kæ÷'_\n¢¥‰æ#Cİkœœìş<¬æ!ÄÊğ²`ˆ.xÉœñ\rtÏI¨£¸&a)ßé¦hb~<PVDĞ²b(”r…r™¢êóÉ&Làb¡Ã'J\"ä¦™ñ\0·²£G7‡4ä¤Vq,)çÕHÑïsÍ‡0ŒîX5%»\"ğÁ%0@tÍM^\n\0\ntr­ÉGdõc?ÈT,LöÎöscÇqLàd]Á<|KàKCğ`ºÄ\$8â)zÓÊ'oB45Cw¨Êx	a¦\"„É°*cğáF„Ÿnôucğ¿ªNLjæ”#Rr(Ç‘íG0PN‚­®fëÉÈ7ª8¸Cğ[¬bÆnL,Ä†1hyç^èPW	äÎ\\Ğ·#>­ÊĞ= f]ÑİÎ2›Ku\$†\0^˜…	2…R:Ÿñß10À¦`¡ÿ\$†\"b±âºøbÁLã'•‡ì™Gt‰°ùãĞ™ÎbĞğ\$Q¤Ê,Ğ*ÑJÍ\$‡0JØ‹¨»ñ×¢B‡`›E²C’½ÎvĞÌíVÏ/´Q)¶ïâøscÚ…Ü„Vp¥s.æ\0©~‘âÉ\"ãÎ¢Ç\\úÏÊGOèŠ*ûZ#@h`êäHü_ b†\"W\rv.Qø5 à‹-q7rïÃÑ%ÙeK\"…S’ÖYÀ‚\n€¨ †		lòIp2¥B)ˆ6eíÿ†6Ñbˆ&¡Dç0cxQìJÿÏ0¡¨RÖNLk£HLèX g²´ÆnÂ\n:#3´só¹1ó¾[%Æ}s¬=ë‚Ó›Ó˜á¢|-¢Ş¬>ßqW7ˆ.¾³Ú?æB‹Y=J×9ÓÛSà\"“ç&«hĞ‹L–åd×¢Hı7\$xôø3äñ‡Rz§ª±t7Ukó:ĞàM¯¢€Âà‰¢_…z¦ˆƒ>Íò;€j{µ?/B+EIïE‚V¡\"¡*‚d46't Ä¢È¦´ŞşÔp'G§ËFSœI4Rí”ŠƒBÀ’Ô>#@k‡ErK,‘ÑºEï2ò„5¢O?È´'âu\n¯è/avBK>]RÕK#M@(61ÂÊ/„/N=Âò–âÖ2çU!“­ôâ*0ä¤“¬[²ôşÔŞ0Tàá¨–)ôä¾dš\\ô6Èüä”ÛR›’2´¢u`Es’S1øÆ\0001&øeöÄ99S lŸñbäÑÉVÆ\"cè6ñ°LàlbÑ¶<CÉ‡‹~&°±XGíAç’&ñ\"G«PÂ45ÔÏH£I\$E\"I¨+[S÷RI/„'YqÃ[Õ­VÅº¤\n(wæäUÌ²Z£¸åÏ]É]0Ä'^C#BÓëPµî]Õõ5â,•ÿóP‚õïD0póp‚¢u÷D¾`çæg6%2d#@nb1ÿ\"Pª0B.LàoĞb(BP_s»c’“D¢'&%C>‰²÷K¬Kê>+¦rå`+•c’dèC b¥BOĞíëÅ\\¶¶ÕÔ;€p\\öao‡-\nğI¶ë2àEjİjd'j¦‡i‹ãÊ óuÖlSFø–ÌBvhuUì=ª’\$ê7\r%Zl¿`Vìb*ai-[²äœ²j\n›–õ`ka–íäP‘>äÎÀ°A#a…r6½k/ƒ˜tb\\it~?Õ·n7n—#&sUÎ,—\$EÄ'77@z­tsñAQ@ÖUü¶vçC	ğµ—3k_ssvw?0ä[t‡ÃC‘@Uv¯O—Sx-JäĞs#7”’îÃ×£Möø…3ãjk*d—*ÍÑa{÷¦,wÆ=­Í*·»+×i9m#œ;€r†åèxÍÄ#‚ñJ¦_'¬I3w…?16È¬>ÅV¶Ì/I\0c,Ñh\"»tˆpä)jìç'z,?j£–%´Q\0002öDI¢äƒ€c*¯h\"“óX>×ø¨—æ+·Ğ…7Õ~x(ığÔtŠ÷ƒPœ‰[`Ö~ rUàˆWàbÒ•&Ò'í\nR¡%X7~Ñ\$Ó#pƒlÍ;wô£J×àsLuÒCŒ—w«|27ŒÄŞ[¸ÒáÕGP)×ópT”U¯Ço*¼0u¸íqŠ”\$îO|äpuŒUéZ—‚NÀ``&¼™R'q·«’S%‘e–Ò·5öÑ˜ä\$ a'´™•¥m(ûù)4ùsÙ=•Ù%Ëoo¡}’G\"¤*\r’G0^zs’XéÅU@\"¦öĞC!\$i05‚\$°´8ØÒ&wktUûuÙo¶êU°Ëš×“×o›w‰}´Y[ùÀy¹Çt9Ë{öÏ)ãZÑ§&”/u<“Šd\0‘Y©•ï•QE›•ˆ„ÿ–7ô¢Yô!ˆ¥0ÈDOóM¡9·ltşr0#–K~r£0%ì8X~™¨Za„kÓ®†²Œ^Ä,fáWÁiÒ7˜™ec&x¥¤­<­Êó\0®dëP<Jš`RDî#šxö­?¥5“¥iñ¥ÚaüU±¦\$ø§Ÿ‹§ı§ÚT_z„ím¦ìRzm¢Z³¤Ú¶íº~ÿú½¥š†>ÚÅª–-gY»\$ZpäšZrÓ\$Bûá¨Ø¥•2Í¯ÚÇ¢3P¢[	ªŠ?+£/Ù)¨Ò·±’¾úñ“\$É²:Ç]»(*{”qRR<8Ú¯ RÎ1›*7‘Zorc«³¢ğSjˆWÑÈ5Y;)ù,‚eZ5rÚô…îW±úe³[vbÊÄæeM¸Û}›0÷Wß·gí¸óW©»—´%6r!KGu‘s¹w·xÑ¢™´Sy“£NÄŒÅ]STPpÔ‰¥]=xoîòT'>7svŒş7…”9™æşÀT¿K[ã¿”%™»şŞœl0I4®UÆ\0c—êà”UÈ’@#C@ÈNÓ1[.…¿ÔºUËÀ¹Ï¹´¢2WKã+?”¾N÷Œ”Xü¼W?FA¿v±Œ{C7syÜ4<—!J	€%@†¥ Øa 2ŒY(^)¨-¦úÆ\\ÿÎ¼¬ùúÍæ€®Dâ¼7ªD´R@hr5OtŞìâùƒÁ{„•Db[Â­%@ª\nrÄM+ ì¡{»xóñ;g5À…Şw0ˆr)À·ĞÇA—YÏ]Ï¯7Ã”ÆÂ‚[£÷®¼'Å³T¯qéLp\röwŠBó‘ÖS¯´›š}MTMoUt_½M6·XĞ†¼/Eú­Õ*\$ğ:ë«ïÍ…ğ•(<é<§.w4À€A§œduzŠV¦#NØˆ(ÀK•iSHU jbİ¥ME3gıL£E²„5øV§#­#Â,a¶ k{ÿZX&'ø…/½µ]±Ğ¤Sw­ä¼\"…ƒ#‚RIıF•ùàÖV´£„¹³6nU©àUßàŠù¼àšQ\rá•[ŞıIà½1á^®~¢Ó½O¾ºTÖéâ¢J”b8\n`Æ\r\0Ê\r¦àXElØEå¾^n\0X`¦\r\0ŞşkåŞ`XVsãñÔÿ³ÿX¿Õå…}Ô^_Æ@l[±œgdˆú¨Sİb\$ëtRFÜÕ#‚K_ÎSş¡be›Rø.#ÛY¦¤øøßí¸Ef1¾E›“¬Ld‹ëĞ¼6û¿ìw<ƒÆY®HÊö!xY§í£kär'âoØY¨‚éOä°	re›¼?6MUhÛH¡\$mT¤íj\"OWÇ“½¼.§°Í¨íS­gôîú­ÌÃmğóôèöÓÄvî8Ù}ÅŸ7ò¥¤}ÑUÇÂŸøÂJm©9•­Z»·Ú[XâBNÜ* ";break;}return json_decode(lzw_decompress($rb),true);}
function get_plural_translation_id($x){$Nf=array('Too many unsuccessful logins, try again in %d minute(s).'=>85,'Query executed OK, %d row(s) affected.'=>151,'%d byte(s)'=>43,'Routine has been called, %d row(s) affected.'=>187,'%d process(es) have been killed.'=>241,'%d row(s)'=>150,'%d item(s) have been affected.'=>245,'%d row(s) have been imported.'=>248,'%d e-mail(s) have been sent.'=>NULL,'%d query(s) executed OK.'=>153,);return isset($Nf[$x])?$Nf[$x]:null;}$Uh=$_SESSION["translations"];if($_SESSION["translations_version"]!=1167875986){$Uh=[];$_SESSION["translations_version"]=1167875986;}if($_SESSION["translations_language"]!=$a){$Uh=[];$_SESSION["translations_language"]=$a;}if(!$Uh){$Uh=get_translations($a);$_SESSION["translations"]=$Uh;}if(extension_loaded('pdo')){
class Min_PDO{var$_result,$server_info,$affected_rows,$errno,$error,$pdo;
function __construct(){global$c;$Of=array_search("SQL",$c->operators);if($Of!==false)unset($c->operators[$Of]);}
function dsn($gc,$V,$Hf,$hf=[]){$hf[PDO::ATTR_ERRMODE]=PDO::ERRMODE_SILENT;$hf[PDO::ATTR_STATEMENT_CLASS]=[Min_PDOStatement::
class];try{$this->pdo=new PDO($gc,$V,$Hf,$hf);}catch(Exception$_c){auth_error(h($_c->getMessage()));}$this->server_info=@$this->pdo->getAttribute(PDO::ATTR_SERVER_VERSION);}
function quote($ih){return$this->pdo->quote($ih);}
function query($H,$ci=false){$I=$this->pdo->query($H);$this->error="";if(!$I){list(,$this->errno,$this->error)=$this->pdo->errorInfo();if(!$this->error)$this->error=lang(21);return false;}$this->store_result($I);return$I;}
function multi_query($H){return$this->_result=$this->query($H);}
function store_result($I=null){if(!$I){$I=$this->_result;if(!$I)return false;}if($I->columnCount()){$I->num_rows=$I->rowCount();return$I;}$this->affected_rows=$I->rowCount();return true;}
function next_result(){if(!$this->_result)return false;$this->_result->_offset=0;return@$this->_result->nextRowset();}
function result($H,$m=0){$I=$this->query($H);if(!$I)return false;$K=$I->fetch();return$K[$m];}}
class Min_PDOStatement extends PDOStatement{var$_offset=0,$num_rows;
function fetch_assoc(){return$this->fetch(PDO::FETCH_ASSOC);}
function fetch_row(){return$this->fetch(PDO::FETCH_NUM);}
function fetch_field(){$K=(object)$this->getColumnMeta($this->_offset++);$K->orgtable=$K->table;$K->orgname=$K->name;$K->charsetnr=(in_array("blob",(array)$K->flags)?63:0);return$K;}}}$cc=array();
function add_driver($t,$D){global$cc;$cc[$t]=$D;}
function get_driver($t){global$cc;return$cc[$t];}
class Min_SQL{var$_conn;
function __construct($f){$this->_conn=$f;}
function select($Q,$M,$Z,$r,$jf=array(),$y=1,$E=0,$Vf=false){global$c,$w;$Nd=(count($r)<count($M));$H=$c->selectQueryBuild($M,$Z,$r,$jf,$y,$E);if(!$H)$H="SELECT".limit(($_GET["page"]!="last"&&$y!=""&&$r&&$Nd&&$w=="sql"?"SQL_CALC_FOUND_ROWS ":"").implode(", ",$M)."\nFROM ".table($Q),($Z?"\nWHERE ".implode(" AND ",$Z):"").($r&&$Nd?"\nGROUP BY ".implode(", ",$r):"").($jf?"\nORDER BY ".implode(", ",$jf):""),($y!=""?+$y:null),($E?$y*$E:0),"\n");$fh=microtime(true);$J=$this->_conn->query($H);if($Vf)echo$c->selectQuery($H,$fh,!$J);return$J;}
function delete($Q,$dg,$y=0){$H="FROM ".table($Q);return queries("DELETE".($y?limit1($Q,$H,$dg):" $H$dg"));}
function update($Q,$O,$dg,$y=0,$Kg="\n"){$vi=array();foreach($O as$x=>$X)$vi[]="$x = $X";$H=table($Q)." SET$Kg".implode(",$Kg",$vi);return queries("UPDATE".($y?limit1($Q,$H,$dg,$Kg):" $H$dg"));}
function insert($Q,$O){return queries("INSERT INTO ".table($Q).($O?" (".implode(", ",array_keys($O)).")\nVALUES (".implode(", ",$O).")":" DEFAULT VALUES"));}
function insertUpdate($Q,$L,$Uf){return false;}
function begin(){return queries("BEGIN");}
function commit(){return queries("COMMIT");}
function rollback(){return queries("ROLLBACK");}
function slowQuery($H,$Hh){}
function convertSearch($xd,array$Z,array$m){return$xd;}
function value($X,$m){return(method_exists($this->_conn,'value')?$this->_conn->value($X,$m):(is_resource($X)?stream_get_contents($X):$X));}
function quoteBinary($_g){return q($_g);}
function warnings(){return'';}
function tableHelp($D){}}$cc["pgsql"]="PostgreSQL";if(isset($_GET["pgsql"])){define("DRIVER","pgsql");if(extension_loaded("pgsql")){
class Min_DB{var$extension="PgSQL",$_link,$_result,$_string,$_database=true,$server_info,$affected_rows,$error,$timeout;
function _error($wc,$l){if(ini_bool("html_errors"))$l=html_entity_decode(strip_tags($l));$l=preg_replace('~^[^:]*: ~','',$l);$this->error=$l;}
function connect($N,$V,$Hf){global$c;$j=$c->database();set_error_handler(array($this,'_error'));$this->_string="host='".str_replace(":","' port='",addcslashes($N,"'\\"))."' user='".addcslashes($V,"'\\")."' password='".addcslashes($Hf,"'\\")."'";$eh=$c->connectSsl();if(isset($eh["mode"]))$this->_string.=" sslmode='".$eh["mode"]."'";$this->_link=@pg_connect("$this->_string dbname='".($j!=""?addcslashes($j,"'\\"):"postgres")."'",PGSQL_CONNECT_FORCE_NEW);if(!$this->_link&&$j!=""){$this->_database=false;$this->_link=@pg_connect("$this->_string dbname='postgres'",PGSQL_CONNECT_FORCE_NEW);}restore_error_handler();if($this->_link){$yi=pg_version($this->_link);$this->server_info=$yi["server"];pg_set_client_encoding($this->_link,"UTF8");}return(bool)$this->_link;}
function quote($ih){return pg_escape_literal($this->_link,$ih);}
function value($X,$m){return($m["type"]=="bytea"&&$X!==null?pg_unescape_bytea($X):$X);}
function quoteBinary($ih){return"'".pg_escape_bytea($this->_link,$ih)."'";}
function select_db($Lb){global$c;if($Lb==$c->database())return$this->_database;$J=@pg_connect("$this->_string dbname='".addcslashes($Lb,"'\\")."'",PGSQL_CONNECT_FORCE_NEW);if($J)$this->_link=$J;return$J;}
function close(){$this->_link=@pg_connect("$this->_string dbname='postgres'");}
function query($H,$ci=false){if(!$this->_link){$this->error="Invalid connection";return false;}$I=@pg_query($this->_link,$H);$this->error="";if(!$I){$this->error=pg_last_error($this->_link);$J=false;}elseif(!pg_num_fields($I)){$this->affected_rows=pg_affected_rows($I);$J=true;}else$J=new Min_Result($I);if($this->timeout){$this->timeout=0;$this->query("RESET statement_timeout");}return$J;}
function multi_query($H){return$this->_result=$this->query($H);}
function store_result(){return$this->_result;}
function next_result(){return false;}
function result($H,$m=0){$I=$this->query($H);if(!$I||!$I->num_rows)return false;return pg_fetch_result($I->_result,0,$m);}
function warnings(){return h(pg_last_notice($this->_link));}}
class Min_Result{var$_result,$_offset=0,$num_rows;
function __construct($I){$this->_result=$I;$this->num_rows=pg_num_rows($I);}
function fetch_assoc(){return pg_fetch_assoc($this->_result);}
function fetch_row(){return pg_fetch_row($this->_result);}
function fetch_field(){$d=$this->_offset++;$J=new stdClass;if(function_exists('pg_field_table'))$J->orgtable=pg_field_table($this->_result,$d);$J->name=pg_field_name($this->_result,$d);$J->orgname=$J->name;$J->type=pg_field_type($this->_result,$d);$J->charsetnr=($J->type=="bytea"?63:0);return$J;}
function __destruct(){pg_free_result($this->_result);}}}elseif(extension_loaded("pdo_pgsql")){
class Min_DB extends Min_PDO{var$extension="PDO_PgSQL",$timeout;
function connect($N,$V,$Hf){global$c;$j=$c->database();$gc="pgsql:host='".str_replace(":","' port='",addcslashes($N,"'\\"))."' client_encoding=utf8 dbname='".($j!=""?addcslashes($j,"'\\"):"postgres")."'";$eh=$c->connectSsl();if(isset($eh["mode"]))$gc.=" sslmode='".$eh["mode"]."'";$this->dsn($gc,$V,$Hf);return true;}
function select_db($Lb){global$c;return($c->database()==$Lb);}
function quoteBinary($_g){return q($_g);}
function query($H,$ci=false){$J=parent::query($H,$ci);if($this->timeout){$this->timeout=0;parent::query("RESET statement_timeout");}return$J;}
function warnings(){return'';}
function close(){}}}
class Min_Driver extends Min_SQL{
function insertUpdate($Q,$L,$Uf){global$f;foreach($L as$O){$ji=array();$Z=array();foreach($O as$x=>$X){$ji[]="$x = $X";if(isset($Uf[idf_unescape($x)]))$Z[]="$x = $X";}if(!(($Z&&queries("UPDATE ".table($Q)." SET ".implode(", ",$ji)." WHERE ".implode(" AND ",$Z))&&$f->affected_rows)||queries("INSERT INTO ".table($Q)." (".implode(", ",array_keys($O)).") VALUES (".implode(", ",$O).")")))return false;}return true;}
function slowQuery($H,$Hh){$this->_conn->query("SET statement_timeout = ".(1000*$Hh));$this->_conn->timeout=1000*$Hh;return$H;}
function convertSearch($xd,array$Z,array$m){$Eh="char|text";if(strpos($Z["op"],"LIKE")===false)$Eh.="|date|time(stamp)?|boolean|uuid|inet|cidr|macaddr|".number_type();return(preg_match("~$Eh~",$m["type"])?$xd:"CAST($xd AS text)");}
function quoteBinary($_g){return$this->_conn->quoteBinary($_g);}
function warnings(){return$this->_conn->warnings();}
function tableHelp($D){$ke=array("information_schema"=>"infoschema","pg_catalog"=>"catalog",);$z=$ke[$_GET["ns"]];if($z)return"$z-".str_replace("_","-",$D).".html";}}
function idf_escape($xd){return'"'.str_replace('"','""',$xd).'"';}
function table($xd){return idf_escape($xd);}
function connect(){global$c,$bi,$jh;$f=new Min_DB;$Eb=$c->credentials();if($f->connect($Eb[0],$Eb[1],$Eb[2])){if(min_version(9,0,$f)){$f->query("SET application_name = 'Adminer'");if(min_version(9.2,0,$f)){$jh[lang(22)][]="json";$bi["json"]=4294967295;if(min_version(9.4,0,$f)){$jh[lang(22)][]="jsonb";$bi["jsonb"]=4294967295;}}}return$f;}return$f->error;}
function get_databases(){return get_vals("SELECT d.datname FROM pg_database d JOIN pg_roles r ON d.datdba = r.oid
                 WHERE d.datallowconn = TRUE AND has_database_privilege(d.datname, 'CONNECT') AND pg_has_role(r.rolname, 'USAGE')
                 ORDER BY d.datname");}
function limit($H,$Z,$y,$Re=0,$Kg=" "){return" $H$Z".($y!==null?$Kg."LIMIT $y".($Re?" OFFSET $Re":""):"");}
function limit1($Q,$H,$Z,$Kg="\n"){return(preg_match('~^INTO~',$H)?limit($H,$Z,1,0,$Kg):" $H".(is_view(table_status1($Q))?$Z:$Kg."WHERE ctid = (SELECT ctid FROM ".table($Q).$Z.$Kg."LIMIT 1)"));}
function db_collation($j,$ib){global$f;return$f->result("SELECT datcollate FROM pg_database WHERE datname = ".q($j));}
function engines(){return array();}
function logged_user(){global$f;return$f->result("SELECT user");}
function tables_list(){$H="SELECT table_name, table_type FROM information_schema.tables WHERE table_schema = current_schema()";if(support('materializedview'))$H.="
UNION ALL
SELECT matviewname, 'MATERIALIZED VIEW'
FROM pg_matviews
WHERE schemaname = current_schema()";$H.="
ORDER BY 1";return get_key_vals($H);}
function count_tables($i){return array();}
function table_status($D=""){$J=array();foreach(get_rows("SELECT c.relname AS \"Name\", CASE c.relkind WHEN 'r' THEN 'table' WHEN 'm' THEN 'materialized view' ELSE 'view' END AS \"Engine\", pg_table_size(c.oid) AS \"Data_length\", pg_indexes_size(c.oid) AS \"Index_length\", obj_description(c.oid, 'pg_class') AS \"Comment\", ".(min_version(12)?"''":"CASE WHEN c.relhasoids THEN 'oid' ELSE '' END")." AS \"Oid\", c.reltuples as \"Rows\", n.nspname
FROM pg_class c
JOIN pg_namespace n ON(n.nspname = current_schema() AND n.oid = c.relnamespace)
WHERE relkind IN ('r', 'm', 'v', 'f', 'p')
".($D!=""?"AND relname = ".q($D):"ORDER BY relname"))as$K)$J[$K["Name"]]=$K;return($D!=""?$J[$D]:$J);}
function is_view($R){return in_array($R["Engine"],array("view","materialized view"));}
function fk_support($R){return true;}
function fields($Q){$J=array();$xa=array('timestamp without time zone'=>'timestamp','timestamp with time zone'=>'timestamptz',);foreach(get_rows("SELECT a.attname AS field, format_type(a.atttypid, a.atttypmod) AS full_type, pg_get_expr(d.adbin, d.adrelid) AS default, a.attnotnull::int, col_description(c.oid, a.attnum) AS comment".(min_version(10)?", a.attidentity":"")."
FROM pg_class c
JOIN pg_namespace n ON c.relnamespace = n.oid
JOIN pg_attribute a ON c.oid = a.attrelid
LEFT JOIN pg_attrdef d ON c.oid = d.adrelid AND a.attnum = d.adnum
WHERE c.relname = ".q($Q)."
AND n.nspname = current_schema()
AND NOT a.attisdropped
AND a.attnum > 0
ORDER BY a.attnum")as$K){preg_match('~([^([]+)(\((.*)\))?([a-z ]+)?((\[[0-9]*])*)$~',$K["full_type"],$A);list(,$U,$ge,$K["length"],$ra,$Ba)=$A;$K["length"].=$Ba;$Xa=$U.$ra;if(isset($xa[$Xa])){$K["type"]=$xa[$Xa];$K["full_type"]=$K["type"].$ge.$Ba;}else{$K["type"]=$U;$K["full_type"]=$K["type"].$ge.$ra.$Ba;}if(in_array($K['attidentity'],array('a','d')))$K['default']='GENERATED '.($K['attidentity']=='d'?'BY DEFAULT':'ALWAYS').' AS IDENTITY';$K["null"]=!$K["attnotnull"];$K["auto_increment"]=$K['attidentity']||preg_match('~^nextval\(~i',$K["default"]);$K["privileges"]=array("insert"=>1,"select"=>1,"update"=>1,"where"=>1,"order"=>1);if(preg_match('~(.+)::[^,)]+(.*)~',$K["default"],$A))$K["default"]=($A[1]=="NULL"?null:idf_unescape($A[1]).$A[2]);$J[$K["field"]]=$K;}return$J;}
function indexes($Q,$g=null){global$f;if(!is_object($g))$g=$f;$J=array();$th=$g->result("SELECT oid FROM pg_class WHERE relnamespace = (SELECT oid FROM pg_namespace WHERE nspname = current_schema()) AND relname = ".q($Q));$e=get_key_vals("SELECT attnum, attname FROM pg_attribute WHERE attrelid = $th AND attnum > 0",$g);foreach(get_rows("SELECT relname, indisunique::int, indisprimary::int, indkey, indoption, (indpred IS NOT NULL)::int as indispartial FROM pg_index i, pg_class ci WHERE i.indrelid = $th AND ci.oid = i.indexrelid",$g)as$K){$pg=$K["relname"];$J[$pg]["type"]=($K["indispartial"]?"INDEX":($K["indisprimary"]?"PRIMARY":($K["indisunique"]?"UNIQUE":"INDEX")));$J[$pg]["columns"]=array();foreach(explode(" ",$K["indkey"])as$Cd)$J[$pg]["columns"][]=$e[$Cd];$J[$pg]["descs"]=array();foreach(explode(" ",$K["indoption"])as$Dd)$J[$pg]["descs"][]=($Dd&1?'1':null);$J[$pg]["lengths"]=array();}return$J;}
function foreign_keys($Q){global$Ye;$J=array();foreach(get_rows("SELECT conname, condeferrable::int AS deferrable, pg_get_constraintdef(oid) AS definition
FROM pg_constraint
WHERE conrelid = (SELECT pc.oid FROM pg_class AS pc INNER JOIN pg_namespace AS pn ON (pn.oid = pc.relnamespace) WHERE pc.relname = ".q($Q)." AND pn.nspname = current_schema())
AND contype = 'f'::char
ORDER BY conkey, conname")as$K){if(preg_match('~FOREIGN KEY\s*\((.+)\)\s*REFERENCES (.+)\((.+)\)(.*)$~iA',$K['definition'],$A)){$K['source']=array_map('idf_unescape',array_map('trim',explode(',',$A[1])));if(preg_match('~^(("([^"]|"")+"|[^"]+)\.)?"?("([^"]|"")+"|[^"]+)$~',$A[2],$oe)){$K['ns']=idf_unescape($oe[2]);$K['table']=idf_unescape($oe[4]);}$K['target']=array_map('idf_unescape',array_map('trim',explode(',',$A[3])));$K['on_delete']=(preg_match("~ON DELETE ($Ye)~",$A[4],$oe)?$oe[1]:'NO ACTION');$K['on_update']=(preg_match("~ON UPDATE ($Ye)~",$A[4],$oe)?$oe[1]:'NO ACTION');$J[$K['conname']]=$K;}}return$J;}
function constraints($Q){global$Ye;$J=array();foreach(get_rows("SELECT conname, consrc
FROM pg_catalog.pg_constraint
INNER JOIN pg_catalog.pg_namespace ON pg_constraint.connamespace = pg_namespace.oid
INNER JOIN pg_catalog.pg_class ON pg_constraint.conrelid = pg_class.oid AND pg_constraint.connamespace = pg_class.relnamespace
WHERE pg_constraint.contype = 'c'
AND conrelid != 0 -- handle only CONSTRAINTs here, not TYPES
AND nspname = current_schema()
AND relname = ".q($Q)."
ORDER BY connamespace, conname")as$K)$J[$K['conname']]=$K['consrc'];return$J;}
function view($D){global$f;return array("select"=>trim($f->result("SELECT pg_get_viewdef(".$f->result("SELECT oid FROM pg_class WHERE relnamespace = (SELECT oid FROM pg_namespace WHERE nspname = current_schema()) AND relname = ".q($D)).")")));}
function collations(){return array();}
function information_schema($j){return($j=="information_schema");}
function error(){global$f;$J=h($f->error);if(preg_match('~^(.*\n)?([^\n]*)\n( *)\^(\n.*)?$~s',$J,$A))$J=$A[1].preg_replace('~((?:[^&]|&[^;]*;){'.strlen($A[3]).'})(.*)~','\1<b>\2</b>',$A[2]).$A[4];return nl2br($J);}
function create_database($j,$hb){return queries("CREATE DATABASE ".idf_escape($j).($hb?" ENCODING ".idf_escape($hb):""));}
function drop_databases($i){global$f;$f->close();return apply_queries("DROP DATABASE",$i,'idf_escape');}
function rename_database($D,$hb){global$f;$f->close();return queries("ALTER DATABASE ".idf_escape(DB)." RENAME TO ".idf_escape($D));}
function auto_increment(){return"";}
function alter_table($Q,$D,$n,$Vc,$mb,$tc,$hb,$Fa,$Cf){$_a=array();$cg=array();if($Q!=""&&$Q!=$D)$cg[]="ALTER TABLE ".table($Q)." RENAME TO ".table($D);foreach($n as$m){$d=idf_escape($m[0]);$X=$m[1];if(!$X)$_a[]="DROP $d";else{$ui=$X[5];unset($X[5]);if($m[0]==""){if(isset($X[6]))$X[1]=($X[1]==" bigint"?" big":($X[1]==" smallint"?" small":" "))."serial";$_a[]=($Q!=""?"ADD ":"  ").implode($X);if(isset($X[6]))$_a[]=($Q!=""?"ADD":" ")." PRIMARY KEY ($X[0])";}else{if($d!=$X[0])$cg[]="ALTER TABLE ".table($D)." RENAME $d TO $X[0]";$_a[]="ALTER $d TYPE$X[1]";if(!$X[6]){$_a[]="ALTER $d ".($X[3]?"SET$X[3]":"DROP DEFAULT");$_a[]="ALTER $d ".($X[2]==" NULL"?"DROP NOT":"SET").$X[2];}}if($m[0]!=""||$ui!="")$cg[]="COMMENT ON COLUMN ".table($D).".$X[0] IS ".($ui!=""?substr($ui,9):"''");}}$_a=array_merge($_a,$Vc);if($Q=="")array_unshift($cg,"CREATE TABLE ".table($D)." (\n".implode(",\n",$_a)."\n)");elseif($_a)array_unshift($cg,"ALTER TABLE ".table($Q)."\n".implode(",\n",$_a));if($mb!==null)$cg[]="COMMENT ON TABLE ".table($D)." IS ".q($mb);if($Fa!=""){}foreach($cg as$H){if(!queries($H))return false;}return true;}
function alter_indexes($Q,$_a){$h=array();$dc=array();$cg=array();foreach($_a as$X){if($X[0]!="INDEX")$h[]=($X[2]=="DROP"?"\nDROP CONSTRAINT ".idf_escape($X[1]):"\nADD".($X[1]!=""?" CONSTRAINT ".idf_escape($X[1]):"")." $X[0] ".($X[0]=="PRIMARY"?"KEY ":"")."(".implode(", ",$X[2]).")");elseif($X[2]=="DROP")$dc[]=idf_escape($X[1]);else$cg[]="CREATE INDEX ".idf_escape($X[1]!=""?$X[1]:uniqid($Q."_"))." ON ".table($Q)." (".implode(", ",$X[2]).")";}if($h)array_unshift($cg,"ALTER TABLE ".table($Q).implode(",",$h));if($dc)array_unshift($cg,"DROP INDEX ".implode(", ",$dc));foreach($cg as$H){if(!queries($H))return false;}return true;}
function truncate_tables($S){return queries("TRUNCATE ".implode(", ",array_map('table',$S)));return true;}
function drop_views($_i){return drop_tables($_i);}
function drop_tables($S){foreach($S as$Q){$P=table_status($Q);if(!queries("DROP ".strtoupper($P["Engine"])." ".table($Q)))return false;}return true;}
function move_tables($S,$_i,$_h){foreach(array_merge($S,$_i)as$Q){$P=table_status($Q);if(!queries("ALTER ".strtoupper($P["Engine"])." ".table($Q)." SET SCHEMA ".idf_escape($_h)))return false;}return true;}
function trigger($D,$Q){if($D=="")return array("Statement"=>"EXECUTE PROCEDURE ()");$e=array();$Z="WHERE trigger_schema = current_schema() AND event_object_table = ".q($Q)." AND trigger_name = ".q($D);foreach(get_rows("SELECT * FROM information_schema.triggered_update_columns $Z")as$K)$e[]=$K["event_object_column"];$J=array();foreach(get_rows('SELECT trigger_name AS "Trigger", action_timing AS "Timing", event_manipulation AS "Event", \'FOR EACH \' || action_orientation AS "Type", action_statement AS "Statement" FROM information_schema.triggers '."$Z ORDER BY event_manipulation DESC")as$K){if($e&&$K["Event"]=="UPDATE")$K["Event"].=" OF";$K["Of"]=implode(", ",$e);if($J)$K["Event"].=" OR $J[Event]";$J=$K;}return$J;}
function triggers($Q){$J=array();foreach(get_rows("SELECT * FROM information_schema.triggers WHERE trigger_schema = current_schema() AND event_object_table = ".q($Q))as$K){$Xh=trigger($K["trigger_name"],$Q);$J[$Xh["Trigger"]]=array($Xh["Timing"],$Xh["Event"]);}return$J;}
function trigger_options(){return array("Timing"=>array("BEFORE","AFTER"),"Event"=>array("INSERT","UPDATE","UPDATE OF","DELETE","INSERT OR UPDATE","INSERT OR UPDATE OF","DELETE OR INSERT","DELETE OR UPDATE","DELETE OR UPDATE OF","DELETE OR INSERT OR UPDATE","DELETE OR INSERT OR UPDATE OF"),"Type"=>array("FOR EACH ROW","FOR EACH STATEMENT"),);}
function routine($D,$U){$Ed=get_rows('SELECT routine_definition, external_language, type_udt_name
			FROM information_schema.routines
			WHERE routine_schema = current_schema() AND specific_name = '.q($D))[0];$n=get_rows('SELECT parameter_name AS field, data_type AS type, character_maximum_length AS length, parameter_mode AS inout
			FROM information_schema.parameters
			WHERE specific_schema = current_schema() AND specific_name = '.q($D).'
			ORDER BY ordinal_position');return["fields"=>$n,"returns"=>["type"=>$Ed["type_udt_name"]],"definition"=>$Ed["routine_definition"],"language"=>strtolower($Ed["external_language"]),"comment"=>null,];}
function routines(){return get_rows('SELECT specific_name AS "SPECIFIC_NAME", routine_name AS "ROUTINE_NAME", routine_type AS "ROUTINE_TYPE", type_udt_name AS "DTD_IDENTIFIER", null AS ROUTINE_COMMENT
			FROM information_schema.routines
			WHERE routine_schema = current_schema()
			ORDER BY SPECIFIC_NAME');}
function routine_languages(){return get_vals("SELECT LOWER(lanname) FROM pg_catalog.pg_language");}
function routine_id($D,$K){$J=array();foreach($K["fields"]as$m)$J[]=$m["type"];return idf_escape($D)."(".implode(", ",$J).")";}
function last_id(){return 0;}
function explain($f,$H){return$f->query("EXPLAIN $H");}
function found_rows($R,$Z){global$f;if(preg_match("~ rows=([0-9]+)~",$f->result("EXPLAIN SELECT * FROM ".idf_escape($R["Name"]).($Z?" WHERE ".implode(" AND ",$Z):"")),$og))return$og[1];return false;}
function types(){return get_vals("SELECT typname
FROM pg_type
WHERE typnamespace = (SELECT oid FROM pg_namespace WHERE nspname = current_schema())
AND typtype IN ('b','d','e')
AND typelem = 0");}
function schemas(){return get_vals("SELECT nspname FROM pg_namespace ORDER BY nspname");}
function get_schema(){global$f;return$f->result("SELECT current_schema()");}
function set_schema($Bg,$g=null){global$f,$bi,$jh;if(!$g)$g=$f;$J=$g->query("SET search_path TO ".idf_escape($Bg));foreach(types()as$U){if(!isset($bi[$U])){$bi[$U]=0;$jh[lang(23)][]=$U;}}return$J;}
function foreign_keys_sql($Q){$J="";$P=table_status($Q);$Sc=foreign_keys($Q);ksort($Sc);foreach($Sc as$Rc=>$Qc)$J.="ALTER TABLE ONLY ".idf_escape($P['nspname']).".".idf_escape($P['Name'])." ADD CONSTRAINT ".idf_escape($Rc)." $Qc[definition] ".($Qc['deferrable']?'DEFERRABLE':'NOT DEFERRABLE').";\n";return($J?"$J\n":$J);}
function create_sql($Q,$Fa,$kh){$tg=array();$Mg=array();$P=table_status($Q);if(is_view($P)){$zi=view($Q);return rtrim("CREATE VIEW ".idf_escape($Q)." AS $zi[select]",";");}$n=fields($Q);$v=indexes($Q);ksort($v);$yb=constraints($Q);if(!$P||empty($n))return false;$J="CREATE TABLE ".idf_escape($P['nspname']).".".idf_escape($P['Name'])." (\n    ";foreach($n as$m){$zf=idf_escape($m['field']).' '.$m['full_type'].default_value($m).($m['attnotnull']?" NOT NULL":"");$tg[]=$zf;if(preg_match('~nextval\(\'([^\']+)\'\)~',$m['default'],$B)){$Lg=$B[1];$L=get_rows(min_version(10)?"SELECT *, cache_size AS cache_value FROM pg_sequences WHERE schemaname = current_schema() AND sequencename = ".q(idf_unescape($Lg)):"SELECT * FROM $Lg");$bh=reset($L);$Mg[]=($kh=="DROP+CREATE"?"DROP SEQUENCE IF EXISTS $Lg;\n":"")."CREATE SEQUENCE $Lg INCREMENT $bh[increment_by] MINVALUE $bh[min_value] MAXVALUE $bh[max_value]".($Fa&&$bh['last_value']?" START ".($bh["last_value"]+1):"")." CACHE $bh[cache_value];";}}if(!empty($Mg))$J=implode("\n\n",$Mg)."\n\n$J";foreach($v as$Ad=>$u){switch($u['type']){case'UNIQUE':$tg[]="CONSTRAINT ".idf_escape($Ad)." UNIQUE (".implode(', ',array_map('idf_escape',$u['columns'])).")";break;case'PRIMARY':$tg[]="CONSTRAINT ".idf_escape($Ad)." PRIMARY KEY (".implode(', ',array_map('idf_escape',$u['columns'])).")";break;}}foreach($yb as$wb=>$xb)$tg[]="CONSTRAINT ".idf_escape($wb)." CHECK $xb";$J.=implode(",\n    ",$tg)."\n) WITH (oids = ".($P['Oid']?'true':'false').");";foreach($v as$Ad=>$u){if($u['type']=='INDEX'){$e=array();foreach($u['columns']as$x=>$X)$e[]=idf_escape($X).($u['descs'][$x]?" DESC":"");$J.="\n\nCREATE INDEX ".idf_escape($Ad)." ON ".idf_escape($P['nspname']).".".idf_escape($P['Name'])." USING btree (".implode(', ',$e).");";}}if($P['Comment'])$J.="\n\nCOMMENT ON TABLE ".idf_escape($P['nspname']).".".idf_escape($P['Name'])." IS ".q($P['Comment']).";";foreach($n as$Mc=>$m){if($m['comment'])$J.="\n\nCOMMENT ON COLUMN ".idf_escape($P['nspname']).".".idf_escape($P['Name']).".".idf_escape($Mc)." IS ".q($m['comment']).";";}return rtrim($J,';');}
function truncate_sql($Q){return"TRUNCATE ".table($Q);}
function trigger_sql($Q){$P=table_status($Q);$J="";foreach(triggers($Q)as$Wh=>$Vh){$Xh=trigger($Wh,$P['Name']);$J.="\nCREATE TRIGGER ".idf_escape($Xh['Trigger'])." $Xh[Timing] $Xh[Event] ON ".idf_escape($P["nspname"]).".".idf_escape($P['Name'])." $Xh[Type] $Xh[Statement];;\n";}return$J;}
function use_sql($Lb){return"\connect ".idf_escape($Lb);}
function show_variables(){return get_key_vals("SHOW ALL");}
function is_strict_mode(){return false;}
function is_c_style_escapes(){static$Sa=null;if($Sa===null)$Sa=get_vals("SHOW standard_conforming_strings")[0]=="off";return$Sa;}
function process_list(){return get_rows("SELECT * FROM pg_stat_activity ORDER BY ".(min_version(9.2)?"pid":"procpid"));}
function show_status(){}
function convert_field($m){}
function unconvert_field($m,$J){return$J;}
function support($Kc){return preg_match('~^(database|table|columns|sql|indexes|descidx|comment|view|'.(min_version(9.3)?'materializedview|':'').'scheme|routine|processlist|sequence|trigger|type|variables|drop_col|kill|dump)$~',$Kc);}
function kill_process($X){return queries("SELECT pg_terminate_backend(".number($X).")");}
function connection_id(){return"SELECT pg_backend_pid()";}
function max_connections(){global$f;return$f->result("SHOW max_connections");}
function driver_config(){$bi=array();$jh=array();foreach(array(lang(24)=>array("smallint"=>5,"integer"=>10,"bigint"=>19,"boolean"=>1,"numeric"=>0,"real"=>7,"double precision"=>16,"money"=>20),lang(25)=>array("date"=>13,"time"=>17,"timestamp"=>20,"timestamptz"=>21,"interval"=>0),lang(22)=>array("character"=>0,"character varying"=>0,"text"=>0,"tsquery"=>0,"tsvector"=>0,"uuid"=>0,"xml"=>0),lang(26)=>array("bit"=>0,"bit varying"=>0,"bytea"=>0),lang(27)=>array("cidr"=>43,"inet"=>43,"macaddr"=>17,"macaddr8"=>23,"txid_snapshot"=>0),lang(28)=>array("box"=>0,"circle"=>0,"line"=>0,"lseg"=>0,"path"=>0,"point"=>0,"polygon"=>0),)as$x=>$X){$bi+=$X;$jh[$x]=array_keys($X);}return array('possible_drivers'=>array("PgSQL","PDO_PgSQL"),'jush'=>"pgsql",'types'=>$bi,'structured_types'=>$jh,'unsigned'=>array(),'operators'=>array("=","<",">","<=",">=","!=","~","~*","!~","!~*","LIKE","LIKE %%","ILIKE","ILIKE %%","IN","IS NULL","NOT LIKE","NOT IN","IS NOT NULL"),'operator_like'=>"LIKE %%",'operator_regexp'=>'~*','functions'=>array("char_length","lower","round","to_hex","to_timestamp","upper"),'grouping'=>array("avg","count","count distinct","max","min","sum"),'edit_functions'=>array(array("char"=>"md5","date|time"=>"now",),array(number_type()=>"+/-","date|time"=>"+ interval/- interval","char|text"=>"||",)),'c_style_escapes'=>true,);}}
class Adminer{var$operators=null;var$operator_like=null;var$operator_regexp=null;
function name(){return"<a id='h1' href='".h(HOME_URL)."'>AdminerNeo</a>";}
function credentials(){return array(SERVER,$_GET["username"],get_password());}
function connectSsl(){}
function permanentLogin($h=false){return get_private_key($h);}
function bruteForceKey(){return$_SERVER["REMOTE_ADDR"];}
function serverName($N){return h($N);}
function database(){return DB;}
function databases($Tc=true){return get_databases($Tc);}
function schemas(){return schemas();}
function queryTimeout(){return 2;}
function headers(){}
function csp(){return csp();}
function head(){return true;}
function css(){$J=array();$Nc="adminer.css";if(file_exists($Nc))$J[]="$Nc?v=".crc32(file_get_contents($Nc));return$J;}
function loginForm(){global$cc;echo"<table cellspacing='0' class='layout'>\n",$this->loginFormField('driver','<tr><th>'.lang(29).'<td>',html_select("auth[driver]",$cc,DRIVER,"loginDriver(this);")."\n"),$this->loginFormField('server','<tr><th>'.lang(30).'<td>','<input name="auth[server]" value="'.h(SERVER).'" title="hostname[:port]" placeholder="localhost" autocapitalize="off">'."\n"),$this->loginFormField('username','<tr><th>'.lang(31).'<td>','<input name="auth[username]" id="username" value="'.h($_GET["username"]).'" autocomplete="username" autocapitalize="off">'.script("gid('username').form['auth[driver]'].onchange();")),$this->loginFormField('password','<tr><th>'.lang(32).'<td>','<input type="password" name="auth[password]" autocomplete="current-password">'."\n"),$this->loginFormField('db','<tr><th>'.lang(33).'<td>','<input name="auth[db]" value="'.h($_GET["db"]).'" autocapitalize="off">'."\n"),"</table>\n","<p><input type='submit' value='".lang(34)."'>\n",checkbox("auth[permanent]",1,$_COOKIE["adminer_permanent"],lang(35))."\n";}
function loginFormField($D,$rd,$Y){return$rd.$Y;}
function login($le,$Hf){if($Hf=="")return lang(36,target_blank());return true;}
function tableName($rh){return h($rh["Name"]);}
function fieldName($m,$jf=0){return'<span title="'.h($m["full_type"]).'">'.h($m["field"]).'</span>';}
function selectLinks($rh,$O=""){global$w,$k;echo'<p class="links">';$ke=array("select"=>lang(37));if(support("table")||support("indexes"))$ke["table"]=lang(38);if(support("table")){if(is_view($rh))$ke["view"]=lang(39);else$ke["create"]=lang(40);}if($O!==null)$ke["edit"]=lang(41);$D=$rh["Name"];foreach($ke as$x=>$X)echo" <a href='".h(ME)."$x=".urlencode($D).($x=="edit"?$O:"")."'".bold(isset($_GET[$x])).">$X</a>";echo doc_link(array($w=>$k->tableHelp($D)),"?"),"\n";}
function foreignKeys($Q){return foreign_keys($Q);}
function backwardKeys($Q,$qh){return array();}
function backwardKeysPrint($Ia,$K){}
function selectQuery($H,$fh,$Ic=false){global$w,$k;$ph=support("sql");$I="<p>"."<code class='jush-$w'>".h(str_replace("\n"," ",$H))."</code> "."<span class='time'>(".format_time($fh).")</span>".($ph?" <a href='".h(ME)."sql=".urlencode($H)."'>".lang(10)."</a>":"");if(!$Ic&&($Ci=$k->warnings())){$t="warnings";$I.=($ph?",":"")." <a href='#$t'>".lang(42)."</a>".script("qsl('a').onclick = partial(toggle, '$t');","")."</p>\n"."<div id='$t' class='hidden'>\n$Ci</div>\n";}else$I.="</p>\n";return$I;}
function sqlCommandQuery($H){return shorten_utf8(trim($H),1000);}
function rowDescription($Q){return"";}
function rowDescriptions($L,$Wc){return$L;}
function selectLink($X,$m){}
function selectVal($X,$z,$m,$sf){$J=($X===null?"<i>NULL</i>":(preg_match("~char|binary|boolean~",$m["type"])&&!preg_match("~var~",$m["type"])?"<code>$X</code>":$X));if(preg_match('~blob|bytea|raw|file~',$m["type"])&&!is_utf8($X))$J="<i>".lang(43,strlen($sf))."</i>";if(preg_match('~json~',$m["type"]))$J="<code class='jush-js'>$J</code>";return($z?"<a href='".h($z)."'".(is_web_url($z)?target_blank():"").">$J</a>":$J);}
function editVal($X,$m){if($m["type"]=="boolean"&&is_bool($X))return$X?"true":"false";return$X;}
function tableStructurePrint($n){echo"<div class='scrollable'>\n","<table cellspacing='0' class='nowrap'>\n","<thead><tr><th>".lang(44)."<td>".lang(45).(support("comment")?"<td>".lang(46):"")."</thead>\n";foreach($n as$m){echo"<tr".odd()."><th>".h($m["field"]),"<td><span title='".h($m["collation"])."'>".h($m["full_type"])."</span>",($m["null"]?" <i>NULL</i>":""),($m["auto_increment"]?" <i>".lang(47)."</i>":""),(isset($m["default"])?" <span title='".lang(48)."'>[<b>".h($m["default"])."</b>]</span>":""),(support("comment")?"<td>".h($m["comment"]):""),"\n";}echo"</table>\n","</div>\n";}
function tablePartitionsPrint($Af){$Ug=$Af["partition_by"]=="RANGE"||$Af["partition_by"]=="LIST";echo"<p>","<code>{$Af["partition_by"]} ({$Af["partition"]})</code>";if(!$Ug)echo" ".lang(49).": ".h($Af["partitions"]);echo"</p>";if($Ug){echo"<table>\n","<thead><tr><th>".lang(50)."</th><td>".lang(51)."</td></tr></thead>\n";foreach($Af["partition_names"]as$x=>$D)echo"<tr><th>".h($D)."</th><td>".h($Af["partition_values"][$x])."\n";echo"</table>\n";}}
function tableIndexesPrint($v){echo"<table>\n","<thead><tr><th>".lang(45)."</th><td>".lang(52)."</td></tr></thead>\n";foreach($v as$D=>$u){ksort($u["columns"]);$Vf=[];foreach($u["columns"]as$x=>$X)$Vf[]="<i>".h($X)."</i>".($u["lengths"][$x]?"(".$u["lengths"][$x].")":"").($u["descs"][$x]?" DESC":"");echo"<tr title='".h($D)."'><th>$u[type]<td>".implode(", ",$Vf)."\n";}echo"</table>\n";}
function selectColumnsPrint($M,$e){global$dd,$kd;print_fieldset("select",lang(53),$M,true);$_GET["columns"][""]=[];$s=0;foreach($_GET["columns"]as$x=>$X){if($x!=""&&$X["col"]=="")continue;$d=select_input("name='columns[$s][col]'",$e,$X["col"],$x!==""?"selectFieldChange":"selectAddRow");echo"<div ",($x!=""?"":"class='no-sort'"),">","<span class='jsonly handle'></span>";if($dd||$kd)echo"<select name='columns[$s][fun]'>",optionlist([-1=>""]+array_filter([lang(54)=>$dd,lang(55)=>$kd]),$X["fun"]),"</select>",help_script_command("value && value.replace(/ |\$/, '(') + ')'",true),script("qsl('select').onchange = (event) => { ".($x!==""?"":" qsl('select, input:not(.remove)', event.target.parentNode).onchange();")." };",""),"($d)";else echo$d;echo" <input type='image' src='".h(preg_replace("~\\?.*~","",ME)."?file=cross.gif&version=76e6da53")."' class='jsonly icon remove' title='".h(lang(56))."' alt='x'>",script("qsl('#fieldset-select .remove').onclick = selectRemoveRow;",""),"</div>\n";$s++;}echo"</div>",script("initSortable('#fieldset-select');"),"</fieldset>\n";}
function selectSearchPrint($Z,$e,$v){print_fieldset("search",lang(57),$Z);foreach($v as$s=>$u){if($u["type"]=="FULLTEXT")echo"<div>(<i>".implode("</i>, <i>",array_map('h',$u["columns"]))."</i>) AGAINST"," <input type='search' name='fulltext[$s]' value='".h($_GET["fulltext"][$s])."'>",script("qsl('input').oninput = selectFieldChange;",""),checkbox("boolean[$s]",1,isset($_GET["boolean"][$s]),"BOOL"),"</div>\n";}$Va="this.parentNode.firstChild.onchange();";foreach(array_merge((array)$_GET["where"],array(array()))as$s=>$X){if(!$X||("$X[col]$X[val]"!=""&&in_array($X["op"],$this->operators)))echo"<div>",select_input(" name='where[$s][col]'",$e,$X["col"],($X?"selectFieldChange":"selectAddRow"),"(".lang(58).")"),html_select("where[$s][op]",$this->operators,$X["op"],$Va),"<input type='search' name='where[$s][val]' value='".h($X["val"])."'>",script("mixin(qsl('input'), {oninput: function () { $Va }, onkeydown: selectSearchKeydown, onsearch: selectSearchSearch});","")," <input type='image' src='".h(preg_replace("~\\?.*~","",ME)."?file=cross.gif&version=76e6da53")."' class='jsonly icon remove' title='".h(lang(56))."' alt='x'>",script('qsl("#fieldset-search .remove").onclick = selectRemoveRow;',""),"</div>\n";}echo"</div></fieldset>\n";}
function selectOrderPrint($jf,$e,$v){print_fieldset("sort",lang(59),$jf,true);$_GET["order"][""]="";$s=0;foreach((array)$_GET["order"]as$x=>$X){if($x!=""&&$X=="")continue;echo"<div ",($x!=""?"":"class='no-sort'"),">","<span class='jsonly handle'></span>",select_input("name='order[$s]'",$e,$X,$x!==""?"selectFieldChange":"selectAddRow"),checkbox("desc[$s]",1,isset($_GET["desc"][$x]),lang(60))," <input type='image' src='".h(preg_replace("~\\?.*~","",ME)."?file=cross.gif&version=76e6da53")."' class='jsonly icon remove' title='".h(lang(56))."' alt='x'>",script('qsl("#fieldset-sort .remove").onclick = selectRemoveRow;',""),"</div>\n";$s++;}echo"</div>",script("initSortable('#fieldset-sort');"),"</fieldset>\n";}
function selectLimitPrint($y){echo"<fieldset><legend>".lang(61)."</legend><div>";echo"<input type='number' name='limit' class='size' value='".h($y)."'>",script("qsl('input').oninput = selectFieldChange;",""),"</div></fieldset>\n";}
function selectLengthPrint($Fh){if($Fh!==null){echo"<fieldset><legend>".lang(62)."</legend><div>","<input type='number' name='text_length' class='size' value='".h($Fh)."'>","</div></fieldset>\n";}}
function selectActionPrint($v){echo"<fieldset><legend>".lang(63)."</legend><div>","<input type='submit' value='".lang(53)."'>"," <span id='noindex' title='".lang(64)."'></span>","<script".nonce().">\n","var indexColumns = ";$e=array();foreach($v as$u){$Ib=reset($u["columns"]);if($u["type"]!="FULLTEXT"&&$Ib)$e[$Ib]=1;}$e[""]=1;foreach($e as$x=>$X)json_row($x);echo";\n","selectFieldChange.call(gid('form')['select']);\n","</script>\n","</div></fieldset>\n";}
function selectCommandPrint(){return!information_schema(DB);}
function selectImportPrint(){return!information_schema(DB);}
function selectEmailPrint($oc,$e){}
function selectColumnsProcess($e,$v){global$dd,$kd;$M=array();$r=array();foreach((array)$_GET["columns"]as$x=>$X){if($X["fun"]=="count"||($X["col"]!=""&&(!$X["fun"]||in_array($X["fun"],$dd)||in_array($X["fun"],$kd)))){$M[$x]=apply_sql_function($X["fun"],($X["col"]!=""?idf_escape($X["col"]):"*"));if(!in_array($X["fun"],$kd))$r[]=$M[$x];}}return array($M,$r);}
function selectSearchProcess($n,$v){global$k;$J=[];foreach($v as$s=>$u){if($u["type"]=="FULLTEXT"&&$_GET["fulltext"][$s]!="")$J[]="MATCH (".implode(", ",array_map('idf_escape',$u["columns"])).") AGAINST (".q($_GET["fulltext"][$s]).(isset($_GET["boolean"][$s])?" IN BOOLEAN MODE":"").")";}foreach((array)$_GET["where"]as$Z){$fb=$Z["col"];$bf=$Z["op"];$X=$Z["val"];if("$fb$X"!=""&&in_array($bf,$this->operators)){$Sf="";$sb=" $bf";if(preg_match('~IN$~',$bf)){$_d=process_length($X);$sb.=" ".($_d!=""?$_d:"(NULL)");}elseif($bf=="SQL")$sb=" $X";elseif($bf=="LIKE %%")$sb=" LIKE ".$this->processInput($n[$fb],"%$X%");elseif($bf=="ILIKE %%")$sb=" ILIKE ".$this->processInput($n[$fb],"%$X%");elseif($bf=="FIND_IN_SET"){$Sf="$bf(".q($X).", ";$sb=")";}elseif(!preg_match('~NULL$~',$bf))$sb.=" ".$this->processInput($n[$fb],$X);if($fb!="")$J[]=$Sf.$k->convertSearch(idf_escape($fb),$Z,$n[$fb]).$sb;else{$jb=array();foreach($n as$D=>$m){if(isset($m["privileges"]["where"])&&(preg_match('~^[-\d.'.(preg_match('~IN$~',$bf)?',':'').']+$~',$X)||!preg_match('~'.number_type().'|bit~',$m["type"]))&&(!preg_match("~[\x80-\xFF]~",$X)||preg_match('~char|text|enum|set~',$m["type"]))&&(!preg_match('~date|timestamp~',$m["type"])||preg_match('~^\d+-\d+-\d+~',$X))&&(!preg_match('~^elastic~',DRIVER)||$m["type"]!="boolean"||preg_match('~true|false~',$X))&&(!preg_match('~^elastic~',DRIVER)||strpos($bf,"regexp")===false||preg_match('~text|keyword~',$m["type"])))$jb[]=$Sf.$k->convertSearch(idf_escape($D),$Z,$m).$sb;}$J[]=($jb?"(".implode(" OR ",$jb).")":"1 = 0");}}}return$J;}
function selectOrderProcess($n,$v){$J=array();foreach((array)$_GET["order"]as$x=>$X){if($X!="")$J[]=(preg_match('~^((COUNT\(DISTINCT |[A-Z0-9_]+\()(`(?:[^`]|``)+`|"(?:[^"]|"")+")\)|COUNT\(\*\))$~',$X)?$X:idf_escape($X)).(isset($_GET["desc"][$x])?" DESC":"");}return$J;}
function selectLimitProcess(){return(isset($_GET["limit"])?$_GET["limit"]:"50");}
function selectLengthProcess(){return(isset($_GET["text_length"])?$_GET["text_length"]:"100");}
function selectEmailProcess($Z,$Wc){return false;}
function selectQueryBuild($M,$Z,$r,$jf,$y,$E){return"";}
function messageQuery($H,$Gh,$Ic=false){global$w,$k;restart_session();$sd=&get_session("queries");if(!$sd[$_GET["db"]])$sd[$_GET["db"]]=array();if(strlen($H)>1e6)$H=preg_replace('~[\x80-\xFF]+$~','',substr($H,0,1e6))."\nâ€¦";$sd[$_GET["db"]][]=array($H,time(),$Gh);$dh="sql-".count($sd[$_GET["db"]]);$J="<a href='#$dh' class='toggle'>".lang(65)."</a>\n";if(!$Ic&&($Ci=$k->warnings())){$t="warnings-".count($sd[$_GET["db"]]);$J="<a href='#$t' class='toggle'>".lang(42)."</a>, $J<div id='$t' class='hidden'>\n$Ci</div>\n";}return" <span class='time'>".@date("H:i:s")."</span>"." $J<div id='$dh' class='hidden'><pre><code class='jush-$w'>".shorten_utf8($H,1000)."</code></pre>".($Gh?" <span class='time'>($Gh)</span>":'').(support("sql")?'<p><a href="'.h(str_replace("db=".urlencode(DB),"db=".urlencode($_GET["db"]),ME).'sql=&history='.(count($sd[$_GET["db"]])-1)).'">'.lang(10).'</a>':'').'</div>';}
function editRowPrint($Q,$n,$K,$ji){}
function editFunctions($m){global$kc;$J=($m["null"]?"NULL/":"");$ji=isset($_GET["select"])||where($_GET);foreach($kc as$x=>$dd){if(!$x||(!isset($_GET["call"])&&$ji)){foreach($dd as$Jf=>$X){if(!$Jf||preg_match("~$Jf~",$m["type"]))$J.="/$X";}}if($x&&!preg_match('~set|blob|bytea|raw|file|bool~',$m["type"]))$J.="/SQL";}if($m["auto_increment"]&&!$ji)$J=lang(47);return explode("/",$J);}
function editInput($Q,$m,$Da,$Y,$q){if($m["type"]=="enum")return(isset($_GET["select"])?"<label><input type='radio'$Da value='-1' checked><i>".lang(8)."</i></label> ":"").($m["null"]?"<label><input type='radio'$Da value=''".($Y!==null||isset($_GET["select"])?"":" checked")."><i>NULL</i></label> ":"").enum_input("radio",$Da,$m,$Y,0);return"";}
function editHint($Q,$m,$Y){return"";}
function processInput($m,$Y,$q=""){if($q=="SQL")return$Y;$D=$m["field"];$J=q($Y);if(preg_match('~^(now|getdate|uuid)$~',$q))$J="$q()";elseif(preg_match('~^current_(date|timestamp)$~',$q))$J=$q;elseif(preg_match('~^([+-]|\|\|)$~',$q))$J=idf_escape($D)." $q $J";elseif(preg_match('~^[+-] interval$~',$q))$J=idf_escape($D)." $q ".(preg_match("~^(\\d+|'[0-9.: -]') [A-Z_]+\$~i",$Y)?$Y:$J);elseif(preg_match('~^(addtime|subtime|concat)$~',$q))$J="$q(".idf_escape($D).", $J)";elseif(preg_match('~^(md5|sha1|password|encrypt)$~',$q))$J="$q($J)";return unconvert_field($m,$J);}
function dumpOutput(){$J=array('file'=>lang(66),'text'=>lang(67));if(function_exists('gzencode'))$J['gz']='gzip';return$J;}
function dumpFormat(){return array('sql'=>'SQL','csv'=>'CSV,','csv;'=>'CSV;','tsv'=>'TSV');}
function dumpDatabase($j){}
function dumpTable($Q,$kh,$Pd=0){if($_POST["format"]!="sql"){echo"\xef\xbb\xbf";if($kh)dump_csv(array_keys(fields($Q)));}else{if($Pd==2){$n=array();foreach(fields($Q)as$D=>$m)$n[]=idf_escape($D)." $m[full_type]";$h="CREATE TABLE ".table($Q)." (".implode(", ",$n).")";}else$h=create_sql($Q,$_POST["auto_increment"],$kh);set_utf8mb4($h);if($kh&&$h){if($kh=="DROP+CREATE"||$Pd==1)echo"DROP ".($Pd==2?"VIEW":"TABLE")." IF EXISTS ".table($Q).";\n";if($Pd==1)$h=remove_definer($h);echo"$h;\n\n";}}}
function dumpData($Q,$kh,$H){global$f,$w;$re=($w=="sqlite"?0:1048576);if($kh){if($_POST["format"]=="sql"){if($kh=="TRUNCATE+INSERT")echo truncate_sql($Q).";\n";$n=fields($Q);}$I=$f->query($H,1);if($I){$Id="";$Qa="";$Sd=array();$ed=array();$mh="";$Lc=($Q!=''?'fetch_assoc':'fetch_row');while($K=$I->$Lc()){if(!$Sd){$vi=array();foreach($K as$X){$m=$I->fetch_field();if(!empty($n[$m->name]['generated'])){$ed[$m->name]=true;continue;}$Sd[]=$m->name;$x=idf_escape($m->name);$vi[]="$x = VALUES($x)";}$mh=($kh=="INSERT+UPDATE"?"\nON DUPLICATE KEY UPDATE ".implode(", ",$vi):"").";\n";}if($_POST["format"]!="sql"){if($kh=="table"){dump_csv($Sd);$kh="INSERT";}dump_csv($K);}else{if(!$Id)$Id="INSERT INTO ".table($Q)." (".implode(", ",array_map('idf_escape',$Sd)).") VALUES";foreach($K as$x=>$X){if(isset($ed[$x])){unset($K[$x]);continue;}$m=$n[$x];$K[$x]=($X!==null?unconvert_field($m,preg_match(number_type(),$m["type"])&&!preg_match('~\[~',$m["full_type"])&&is_numeric($X)?$X:q(($X===false?0:$X))):"NULL");}$_g=($re?"\n":" ")."(".implode(",\t",$K).")";if(!$Qa)$Qa=$Id.$_g;elseif(strlen($Qa)+4+strlen($_g)+strlen($mh)<$re)$Qa.=",$_g";else{echo$Qa.$mh;$Qa=$Id.$_g;}}}if($Qa)echo$Qa.$mh;}elseif($_POST["format"]=="sql")echo"-- ".str_replace("\n"," ",$f->error)."\n";}}
function dumpFilename($wd){return friendly_url($wd!=""?$wd:(SERVER!=""?SERVER:"localhost"));}
function dumpHeaders($wd,$De=false){$uf=$_POST["output"];$Fc=(preg_match('~sql~',$_POST["format"])?"sql":($De?"tar":"csv"));header("Content-Type: ".($uf=="gz"?"application/x-gzip":($Fc=="tar"?"application/x-tar":($Fc=="sql"||$uf!="file"?"text/plain":"text/csv")."; charset=utf-8")));if($uf=="gz")ob_start('ob_gzencode',1e6);return$Fc;}
function importServerPath(){return"adminer.sql";}
function homepage(){echo'<p class="links">'.($_GET["ns"]==""&&support("database")?'<a href="'.h(ME).'database=">'.lang(68)."</a>\n":""),(support("scheme")?"<a href='".h(ME)."scheme='>".($_GET["ns"]!=""?lang(69):lang(70))."</a>\n":""),($_GET["ns"]!==""?'<a href="'.h(ME).'schema=">'.lang(71)."</a>\n":""),(support("privileges")?"<a href='".h(ME)."privileges='>".lang(72)."</a>\n":"");return true;}
function navigation($Ce){global$ha,$w,$cc,$f;echo'
<h1>
	',$this->name(),'
	';if($Ce!="auth"):echo'		<span class="version">
			',$ha,'			<a href="https://github.com/adminerneo/adminerneo/releases"',target_blank(),' id="version">
				',(version_compare($ha,$_COOKIE["adminer_version"])<0?h($_COOKIE["adminer_version"]):""),'			</a>
		</span>
		';if(!isset($_COOKIE["adminer_version"])&&version_compare(PHP_VERSION,7.1)>=0)echo script("verifyVersion('".js_escape(ME)."', '".get_token()."');");echo'    ';endif;echo'</h1>

';if($Ce=="auth"){$uf="";foreach((array)$_SESSION["pwds"]as$xi=>$Pg){foreach($Pg as$N=>$si){foreach($si as$V=>$Hf){if($Hf!==null){$Nb=$_SESSION["db"][$xi][$N][$V];foreach(($Nb?array_keys($Nb):array(""))as$j)$uf.="<li><a href='".h(auth_url($xi,$N,$V,$j))."'>".h($cc[$xi]).($V!=""||$N!=""?" - ":"").h($V).($V!=""&&$N!=""?"@":"").($N!=""?h($this->serverName($N)):"").($j!=""?h(" - $j"):"")."</a></li>\n";}}}}if($uf)echo"<ul id='logins'>\n$uf</ul>\n".script("mixin(gid('logins'), {onmouseover: menuOver, onmouseout: menuOut});");}else{$S=array();if($_GET["ns"]!==""&&!$Ce&&DB!=""){$f->select_db(DB);$S=table_status('',true);}echo script_src(preg_replace("~\\?.*~","",ME)."?file=jush.js&version=76e6da53");if(support("sql")){echo'<script',nonce(),'>
';if($S){$ke=array();foreach($S as$Q=>$U)$ke[]=preg_quote($Q,'/');echo"var jushLinks = { $w: [ '".js_escape(ME).(support("table")?"table=":"select=")."\$&', /\\b(".implode("|",$ke).")\\b/g ] };\n";foreach(array("bac","bra","sqlite_quo","mssql_bra")as$X)echo"jushLinks.$X = jushLinks.$w;\n";}$Ng=$f->server_info;echo'bodyLoad(\'',(is_object($f)?preg_replace('~^(\d\.?\d).*~s','\1',$Ng):""),'\'',(preg_match('~MariaDB~',$Ng)?", true":""),');
</script>
';}$this->databasesPrint($Ce);$pa=[];if(DB==""||!$Ce){if(support("sql")){$pa[]="<a href='".h(ME)."sql='".bold(isset($_GET["sql"])&&!isset($_GET["import"])).">".lang(65)."</a>";$pa[]="<a href='".h(ME)."import='".bold(isset($_GET["import"])).">".lang(73)."</a>";}if(support("dump"))$pa[]="<a href='".h(ME)."dump=".urlencode(isset($_GET["table"])?$_GET["table"]:$_GET["select"])."' id='dump'".bold(isset($_GET["dump"])).">".lang(74)."</a>";}if($_GET["ns"]!==""&&!$Ce&&DB!="")$pa[]='<a href="'.h(ME).'create="'.bold($_GET["create"]==="").">".lang(75)."</a>\n";if($pa)echo"<p class='links'>".implode("\n",$pa)."</p>";if($_GET["ns"]!==""&&!$Ce&&DB!=""){if($S){$this->printTablesFilter();$this->tablesPrint($S);}else echo"<p class='message'>".lang(9)."</p>\n";}}}
function databasesPrint($Ce){global$c,$f;$i=$this->databases();if(DB&&$i&&!in_array(DB,$i))array_unshift($i,DB);echo"<form action=''><p id='dbs'>";hidden_fields_get();if($i)echo"<select id='database-select' name='db'>".optionlist([""=>lang(33)]+$i,DB)."</select>".script("mixin(gid('database-select'), {onmousedown: dbMouseDown, onchange: dbChange});");else echo"<input id='database-select' name='db' value='".h(DB)."' autocapitalize='off'>\n";echo"<input type='submit' value='".lang(20)."'".($i?" class='hidden'":"").">\n";if(support("scheme")&&$Ce!="db"&&DB!=""&&$f->select_db(DB)){echo"<br><select id='scheme-select' name='ns'>".optionlist([""=>lang(76)]+$c->schemas(),$_GET["ns"])."</select>".script("mixin(gid('scheme-select'), {onmousedown: dbMouseDown, onchange: dbChange});");if($_GET["ns"]!="")set_schema($_GET["ns"]);}foreach(["import","sql","schema","dump","privileges"]as$X){if(isset($_GET[$X])){echo"<input type='hidden' name='$X' value=''>";break;}}echo"</p></form>\n";return null;}
function printTablesFilter(){global$c;echo"<div class='tables-filter jsonly'>"."<input id='tables-filter' autocomplete='off' placeholder='".lang(77)."'>".script("initTablesFilter(".json_encode($c->database()).");")."</div>\n";}
function tablesPrint($S){echo"<ul id='tables'>".script("mixin(gid('tables'), {onmouseover: menuOver, onmouseout: menuOut});");foreach($S as$Q=>$P){$D=$this->tableName($P);if($D!=""){$qa=$Q==$_GET["select"]||$Q==$_GET["edit"];echo'<li><a href="'.h(ME).'select='.urlencode($Q).'"'.bold($qa,"select")." title='".lang(37)."'>".lang(78)."</a> ";if(support("table")||support("indexes")){$qa=in_array($Q,[$_GET["table"],$_GET["create"],$_GET["indexes"],$_GET["foreign"],$_GET["trigger"]]);$cb=is_view($P)?"view":"structure";echo'<a href="'.h(ME).'table='.urlencode($Q).'"'.bold($qa,$cb)." title='".lang(38)."' data-main='true'>$D</a>";}else echo"<span data-main='true'>$D</span>";echo"</li>\n";}}echo"</ul>\n";return null;}}$c=(function_exists('adminer_object')?adminer_object():new Adminer());if(defined("DRIVER")){$ub=driver_config();$Rf=$ub['possible_drivers'];$w=$ub['jush'];$bi=$ub['types'];$jh=$ub['structured_types'];$ii=$ub['unsigned'];$ff=$ub['operators'];$df=$ub['operator_like'];$ef=$ub['operator_regexp'];$dd=$ub['functions'];$kd=$ub['grouping'];$kc=$ub['edit_functions'];if($c->operators===null){$c->operators=$ff;$c->operator_like=$df;$c->operator_regexp=$ef;}}else define("DRIVER",null);define("SERVER",DRIVER?$_GET[DRIVER]:null);define("DB",$_GET["db"]);define("ME",preg_replace('~\?.*~','',relative_uri()).'?'.(sid()?SID.'&':'').(SERVER!==null?DRIVER."=".urlencode(SERVER).'&':'').(isset($_GET["username"])?"username=".urlencode($_GET["username"]).'&':'').(DB!=""?'db='.urlencode(DB).'&'.(isset($_GET["ns"])?"ns=".urlencode($_GET["ns"])."&":""):''));define("HOME_URL",substr(preg_replace('~\b(username|db|ns)=[^&]*&~','',ME),0,-1)?:".");$ha="4.14";
function page_header($Jh,$l="",$Pa=[],$Kh=""){global$a,$ha,$c,$cc,$w;page_headers();if(is_ajax()&&$l){page_messages($l);exit;}$Qg=strip_tags($c->name());$Lh=strip_tags($Jh.($Kh!=""?": $Kh":""));$Mh=$Lh.(SERVER!=""?h(" - ".SERVER):"")." - ".($Qg!=""?$Qg:"AdminerNeo");$Nc=get_temp_dir()."/adminer.version";if(!$_COOKIE["adminer_version"]&&file_exists($Nc)&&($ie=filemtime($Nc)+86400-time())>0){$Jb=unserialize(file_get_contents($Nc));$_COOKIE["adminer_version"]=$Jb["version"];cookie("adminer_version",$Jb["version"],$ie);}echo'<!DOCTYPE html>
<html lang="',$a,'" dir="',lang(79),'">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="robots" content="noindex">
<title>',$Mh,'</title>
<link rel="stylesheet" type="text/css" href="',h(preg_replace("~\\?.*~","",ME)."?file=default.css&version=76e6da53"),'">
',script_src(preg_replace("~\\?.*~","",ME)."?file=functions.js&version=76e6da53");if($c->head()){echo'<link rel="shortcut icon" type="image/x-icon" href="',h(preg_replace("~\\?.*~","",ME)."?file=favicon.ico&version=76e6da53"),'">
<link rel="apple-touch-icon" href="',h(preg_replace("~\\?.*~","",ME)."?file=favicon.ico&version=76e6da53"),'">
';foreach($c->css()as$Gb){echo'<link rel="stylesheet" type="text/css" href="',h($Gb),'">
';}}echo'
<body class="',lang(79),' nojs">
<script',nonce(),'>
	const body = document.body;

	body.onkeydown = bodyKeydown;
	body.onclick = bodyClick;
	body.classList.remove("nojs");
	body.classList.add("js");

	var offlineMessage = \'',js_escape(lang(80)),'\';
	var thousandsSeparator = \'',js_escape(lang(5)),'\';
</script>

<div id="help" class="jush-',$w,' jsonly hidden"></div>
',script("initHelpPopup();"),'
<div id="content">
';if($Pa!==null){echo'<p id="breadcrumb">','<a href="'.h(HOME_URL).'">'.lang(81).'</a> Â» ';$N="";if($Pa===false)$N.=h($cc[DRIVER]).": ";$Og=$c->serverName(SERVER);$N.=$Og!=""?h($Og):lang(30);if($Pa===false)echo h($N),"\n";else{$z=substr(preg_replace('~\b(db|ns)=[^&]*&~','',ME),0,-1);echo"<a href='".h($z)."' accesskey='1' title='Alt+Shift+1'>$N</a> Â» ";if($_GET["ns"]!=""||(DB!=""&&is_array($Pa)))echo'<a href="'.h($z."&db=".urlencode(DB).(support("scheme")?"&ns=":"")).'">'.h(DB).'</a> Â» ';if(is_array($Pa)){if($_GET["ns"]!="")echo'<a href="'.h(substr(ME,0,-1)).'">'.h($_GET["ns"]).'</a> Â» ';foreach($Pa as$x=>$X){$Ub=(is_array($X)?$X[1]:h($X));if($Ub!="")echo"<a href='".h(ME."$x=").urlencode(is_array($X)?$X[0]:$X)."'>$Ub</a> Â» ";}}echo"$Jh\n";}}echo"<h2>$Lh</h2>\n","<div id='ajaxstatus' class='jsonly hidden'></div>\n";restart_session();page_messages($l);$i=&get_session("dbs");if(DB!=""&&$i&&!in_array(DB,$i,true))$i=null;stop_session();define("PAGE_HEADER",1);}
function page_headers(){global$c;header("Content-Type: text/html; charset=utf-8");header("Cache-Control: no-cache");header("X-Frame-Options: deny");header("X-XSS-Protection: 0");header("X-Content-Type-Options: nosniff");header("Referrer-Policy: origin-when-cross-origin");foreach($c->csp()as$Fb){$qd=array();foreach($Fb as$x=>$X)$qd[]="$x $X";header("Content-Security-Policy: ".implode("; ",$qd));}$c->headers();}
function csp(){return[["script-src"=>"'self' 'unsafe-inline' 'nonce-".get_nonce()."' 'strict-dynamic'","connect-src"=>"'self' https://api.github.com/repos/adminerneo/adminerneo/releases/latest","frame-src"=>"'self'","object-src"=>"'none'","base-uri"=>"'none'","form-action"=>"'self'",],];}
function get_nonce(){static$Me;if(!$Me)$Me=base64_encode(get_random_string(true));return$Me;}
function page_messages($l){$ki=preg_replace('~^[^?]*~','',$_SERVER["REQUEST_URI"]);$Ae=$_SESSION["messages"][$ki];if($Ae){echo"<div class='message'>".implode("</div>\n<div class='message'>",$Ae)."</div>".script("messagesPrint();");unset($_SESSION["messages"][$ki]);}if($l)echo"<div class='error'>$l</div>\n";}
function page_footer($Ce=null){global$c,$T;echo"</div>";echo"<div id='footer'>\n";language_select();if($Ce!="auth"){echo'
	<div class="logout">
		<form action="" method="post">
			',h($_GET["username"]),'			<input type="submit" name="logout" value="',lang(82),'" id="logout">
			<input type="hidden" name="token" value="',$T,'">
		</form>
	</div>

';}echo"</div>\n","<div id='menu'>\n";$c->navigation($Ce);echo"</div>\n",script("setupSubmitHighlight(document);");}
function int32($Fe){while($Fe>=2147483648)$Fe-=4294967296;while($Fe<=-2147483649)$Fe+=4294967296;return(int)$Fe;}
function long2str($W,$Bi){$_g='';foreach($W as$X)$_g.=pack('V',$X);if($Bi)return substr($_g,0,end($W));return$_g;}
function str2long($_g,$Bi){$W=array_values(unpack('V*',str_pad($_g,4*ceil(strlen($_g)/4),"\0")));if($Bi)$W[]=strlen($_g);return$W;}
function xxtea_mx($Ii,$Hi,$nh,$Rd){return int32((($Ii>>5&0x7FFFFFF)^$Hi<<2)+(($Hi>>3&0x1FFFFFFF)^$Ii<<4))^int32(($nh^$Hi)+($Rd^$Ii));}
function encrypt_string($hh,$x){if($hh=="")return"";$x=array_values(unpack("V*",pack("H*",md5($x))));$W=str2long($hh,true);$Fe=count($W)-1;$Ii=$W[$Fe];$Hi=$W[0];$G=floor(6+52/($Fe+1));$nh=0;while($G-->0){$nh=int32($nh+0x9E3779B9);$ic=$nh>>2&3;for($vf=0;$vf<$Fe;$vf++){$Hi=$W[$vf+1];$Ee=xxtea_mx($Ii,$Hi,$nh,$x[$vf&3^$ic]);$Ii=int32($W[$vf]+$Ee);$W[$vf]=$Ii;}$Hi=$W[0];$Ee=xxtea_mx($Ii,$Hi,$nh,$x[$vf&3^$ic]);$Ii=int32($W[$Fe]+$Ee);$W[$Fe]=$Ii;}return long2str($W,false);}
function decrypt_string($hh,$x){if($hh=="")return"";if(!$x)return false;$x=array_values(unpack("V*",pack("H*",md5($x))));$W=str2long($hh,false);$Fe=count($W)-1;$Ii=$W[$Fe];$Hi=$W[0];$G=floor(6+52/($Fe+1));$nh=int32($G*0x9E3779B9);while($nh){$ic=$nh>>2&3;for($vf=$Fe;$vf>0;$vf--){$Ii=$W[$vf-1];$Ee=xxtea_mx($Ii,$Hi,$nh,$x[$vf&3^$ic]);$Hi=int32($W[$vf]-$Ee);$W[$vf]=$Hi;}$Ii=$W[$Fe];$Ee=xxtea_mx($Ii,$Hi,$nh,$x[$vf&3^$ic]);$Hi=int32($W[0]-$Ee);$W[0]=$Hi;$nh=int32($nh-0x9E3779B9);}return long2str($W,true);}$f='';$pd=$_SESSION["token"];if(!$pd)$_SESSION["token"]=rand(1,1e6);$T=get_token();$Lf=array();if($_COOKIE["adminer_permanent"]){foreach(explode(" ",$_COOKIE["adminer_permanent"])as$X){list($x)=explode(":",$X);$Lf[$x]=$X;}}
function validate_server_input(){if(SERVER=="")return;$Ff=parse_url(SERVER);if(!$Ff)auth_error(lang(83));if(isset($Ff['user'])||isset($Ff['pass'])||isset($Ff['query'])||isset($Ff['fragment']))auth_error(lang(83));if(isset($Ff['scheme'])&&!preg_match('~^(https?)$~i',$Ff['scheme']))auth_error(lang(83));$ud=(isset($Ff['host'])?$Ff['host']:'').(isset($Ff['path'])?$Ff['path']:'');if(!is_server_host_valid($ud))auth_error(lang(83));if(isset($Ff['port'])&&($Ff['port']<1024||$Ff['port']>65535))auth_error(lang(84));}if(!function_exists('is_server_host_valid')){
function is_server_host_valid($ud){return strpos($ud,'/')===false;}}
function build_http_url($N,$V,$Hf,$Rb,$Qb=null){if(!preg_match('~^(https?://)?([^:]*)(:\d+)?$~',rtrim($N,'/'),$B)){auth_error(lang(83));return false;}return($B[1]?:"http://").($V!==""||$Hf!==""?"$V:$Hf@":"").($B[2]!==""?$B[2]:$Rb).(isset($B[3])?$B[3]:($Qb?":$Qb":""));}
function add_invalid_login(){global$c;$o=open_file_with_lock(get_temp_dir()."/adminer.invalid");if(!$o)return;$Ld=unserialize(stream_get_contents($o));$Gh=time();if($Ld){foreach($Ld as$Md=>$X){if($X[0]<$Gh)unset($Ld[$Md]);}}$Kd=&$Ld[$c->bruteForceKey()];if(!$Kd)$Kd=array($Gh+30*60,0);$Kd[1]++;write_and_unlock_file($o,serialize($Ld));}
function check_invalid_login(){global$c;$Nc=get_temp_dir()."/adminer.invalid";$Ld=file_exists($Nc)?unserialize(file_get_contents($Nc)):[];$Kd=($Ld?$Ld[$c->bruteForceKey()]:[]);$Le=($Kd[1]>29?$Kd[0]-time():0);if($Le>0)auth_error(lang(85,ceil($Le/60)));}$Ea=$_POST["auth"];if($Ea){session_regenerate_id();$xi=$Ea["driver"];$N=trim($Ea["server"]);$V=$Ea["username"];$Hf=(string)$Ea["password"];$j=$Ea["db"];set_password($xi,$N,$V,$Hf);$_SESSION["db"][$xi][$N][$V][$j]=true;if($Ea["permanent"]){$x=base64_encode($xi)."-".base64_encode($N)."-".base64_encode($V)."-".base64_encode($j);$Wf=$c->permanentLogin(true);$Lf[$x]="$x:".base64_encode($Wf?encrypt_string($Hf,$Wf):"");cookie("adminer_permanent",implode(" ",$Lf));}if(count($_POST)==1||DRIVER!=$xi||SERVER!=$N||$_GET["username"]!==$V||DB!=$j)redirect(auth_url($xi,$N,$V,$j));}elseif($_POST["logout"]&&(!$pd||verify_token())){foreach(array("pwds","db","dbs","queries")as$x)set_session($x,null);unset_permanent();redirect(HOME_URL,lang(86));}elseif($Lf&&!$_SESSION["pwds"]){session_regenerate_id();$Wf=$c->permanentLogin();foreach($Lf as$x=>$X){list(,$bb)=explode(":",$X);list($xi,$N,$V,$j)=array_map('base64_decode',explode("-",$x));set_password($xi,$N,$V,decrypt_string(base64_decode($bb),$Wf));$_SESSION["db"][$xi][$N][$V][$j]=true;}}
function unset_permanent(){global$Lf;foreach($Lf as$x=>$X){list($xi,$N,$V,$j)=array_map('base64_decode',explode("-",$x));if($xi==DRIVER&&$N==SERVER&&$V==$_GET["username"]&&$j==DB)unset($Lf[$x]);}cookie("adminer_permanent",implode(" ",$Lf));}
function auth_error($l){global$c,$pd;$Rg=session_name();if(isset($_GET["username"])){header("HTTP/1.1 403 Forbidden");if(($_COOKIE[$Rg]||$_GET[$Rg])&&!$pd)$l=lang(87);else{restart_session();add_invalid_login();$Hf=get_password();if($Hf!==null){if($Hf===false)$l.=($l?'<br>':'').lang(88,target_blank(),'<code>permanentLogin()</code>');set_password(DRIVER,SERVER,$_GET["username"],null);}unset_permanent();}}if(!$_COOKIE[$Rg]&&$_GET[$Rg]&&ini_bool("session.use_only_cookies"))$l=lang(89);$F=session_get_cookie_params();cookie("adminer_key",($_COOKIE["adminer_key"]?:get_random_string()),$F["lifetime"]);page_header(lang(34),$l,null);echo"<form action='' method='post'>\n","<div>";if(hidden_fields($_POST,array("auth")))echo"<p class='message'>".lang(90)."\n";echo"</div>\n";$c->loginForm();echo"</form>\n";page_footer("auth");exit;}if(isset($_GET["username"])&&!DRIVER){page_header(lang(91),lang(92),false);page_footer("auth");exit;}if(isset($_GET["username"])&&!class_exists("Min_DB")){unset($_SESSION["pwds"][DRIVER]);unset_permanent();page_header(lang(93),lang(94,implode(", ",$Rf)),false);page_footer("auth");exit;}stop_session(true);if(isset($_GET["username"])&&is_string(get_password())){validate_server_input();check_invalid_login();$f=connect();$k=new Min_Driver($f);}$le=null;if(!is_object($f)||($le=$c->login($_GET["username"],get_password()))!==true){$l=(is_string($f)?h($f):(is_string($le)?$le:lang(83)));auth_error($l.(preg_match('~^ | $~',get_password())?'<br>'.lang(95):''));}if($_POST["logout"]&&$pd&&!verify_token()){page_header(lang(82),lang(96));page_footer("db");exit;}if($Ea&&$_POST["token"])$_POST["token"]=$T;$l='';if($_POST){if(!verify_token()){$Fd="max_input_vars";$ve=ini_get($Fd);if(extension_loaded("suhosin")){foreach(array("suhosin.request.max_vars","suhosin.post.max_vars")as$x){$X=ini_get($x);if($X&&(!$ve||$X<$ve)){$Fd=$x;$ve=$X;}}}$l=(!$_POST["token"]&&$ve?lang(97,"'$Fd'"):lang(96).' '.lang(98));}}elseif($_SERVER["REQUEST_METHOD"]=="POST"){$l=lang(99,"'post_max_size'");if(isset($_GET["sql"]))$l.=' '.lang(100);}
function select($I,$g=null,$nf=array(),$y=0){global$w;$ke=array();$v=array();$e=array();$Na=array();$bi=array();$J=array();odd('');for($s=0;(!$y||$s<$y)&&($K=$I->fetch_row());$s++){if(!$s){echo"<div class='scrollable'>\n","<table cellspacing='0' class='nowrap'>\n","<thead><tr>";for($Qd=0;$Qd<count($K);$Qd++){$m=(array)$I->fetch_field();$D=$m["name"];$mf=$m["orgtable"];$lf=$m["orgname"];$J[$m["table"]]=$mf;if($nf&&$w=="sql")$ke[$Qd]=($D=="table"?"table=":($D=="possible_keys"?"indexes=":null));elseif($mf!=""){if(!isset($v[$mf])){$v[$mf]=array();foreach(indexes($mf,$g)as$u){if($u["type"]=="PRIMARY"){$v[$mf]=array_flip($u["columns"]);break;}}$e[$mf]=$v[$mf];}if(isset($e[$mf][$lf])){unset($e[$mf][$lf]);$v[$mf][$lf]=$Qd;$ke[$Qd]=$mf;}}if($m["charsetnr"]==63)$Na[$Qd]=true;$bi[$Qd]=$m["type"];echo"<th".($mf!=""||$m["name"]!=$lf?" title='".h(($mf!=""?"$mf.":"").$lf)."'":"").">".h($D).($nf?'':"");}echo"</thead>\n";}echo"<tr".odd().">";foreach($K as$x=>$X){$z="";if(isset($ke[$x])&&!$e[$ke[$x]]){if($nf&&$w=="sql"){$Q=$K[array_search("table=",$ke)];$z=ME.$ke[$x].urlencode($nf[$Q]!=""?$nf[$Q]:$Q);}else{$z=ME."edit=".urlencode($ke[$x]);foreach($v[$ke[$x]]as$fb=>$Qd)$z.="&where".urlencode("[".bracket_escape($fb)."]")."=".urlencode($K[$Qd]);}}elseif(is_web_url($X))$z=$X;if($X===null)$X="<i>NULL</i>";elseif($Na[$x]&&!is_utf8($X))$X="<i>".lang(43,strlen($X))."</i>";else{$X=h($X);if($bi[$x]==254)$X="<code>$X</code>";}if($z)$X="<a href='".h($z)."'".(is_web_url($z)?target_blank():'').">$X</a>";echo"<td>$X";}}echo($s?"</table>\n</div>":"<p class='message'>".lang(12))."\n";return$J;}
function referencable_primary($Ig){$J=array();foreach(table_status('',true)as$sh=>$Q){if($sh!=$Ig&&fk_support($Q)){foreach(fields($sh)as$m){if($m["primary"]){if($J[$sh]){unset($J[$sh]);break;}$J[$sh]=$m;}}}}return$J;}
function adminer_settings(){parse_str($_COOKIE["adminer_settings"],$Tg);return$Tg;}
function adminer_setting($x){$Tg=adminer_settings();return$Tg[$x];}
function set_adminer_settings($Tg){return cookie("adminer_settings",http_build_query($Tg+adminer_settings()));}
function textarea($D,$Y,$L=10,$jb=80){global$w;echo"<textarea name='".h($D)."' rows='$L' cols='$jb' class='sqlarea jush-$w' spellcheck='false' wrap='off'>";if(is_array($Y)){foreach($Y as$X)echo h($X[0])."\n\n\n";}else echo h($Y);echo"</textarea>";}
function edit_type($x,$m,$ib,$Xc=array(),$Hc=array()){global$jh,$bi,$ii,$Ye;$U=$m["type"];echo'<td><select name="',h($x),'[type]" class="type" aria-labelledby="label-type">';if($U&&!isset($bi[$U])&&!isset($Xc[$U])&&!in_array($U,$Hc))$Hc[]=$U;if($Xc)$jh[lang(101)]=$Xc;echo optionlist(array_merge($Hc,$jh),$U),'</select><td><input name="',h($x),'[length]" value="',h($m["length"]),'" size="3"',(!$m["length"]&&preg_match('~var(char|binary)$~',$U)?" class='required'":"");echo' aria-labelledby="label-length"><td class="options">',"<select name='".h($x)."[collation]'".(preg_match('~(char|text|enum|set)$~',$U)?"":" class='hidden'").'><option value="">('.lang(102).')'.optionlist($ib,$m["collation"]).'</select>',($ii?"<select name='".h($x)."[unsigned]'".(!$U||preg_match(number_type(),$U)?"":" class='hidden'").'><option>'.optionlist($ii,$m["unsigned"]).'</select>':''),(isset($m['on_update'])?"<select name='".h($x)."[on_update]'".(preg_match('~timestamp|datetime~',$U)?"":" class='hidden'").'>'.optionlist(array(""=>"(".lang(103).")","CURRENT_TIMESTAMP"),(preg_match('~^CURRENT_TIMESTAMP~i',$m["on_update"])?"CURRENT_TIMESTAMP":$m["on_update"])).'</select>':''),($Xc?"<select name='".h($x)."[on_delete]'".(preg_match("~`~",$U)?"":" class='hidden'")."><option value=''>(".lang(104).")".optionlist(explode("|",$Ye),$m["on_delete"])."</select> ":" ");}
function process_length($ge){global$vc;return(preg_match("~^\\s*\\(?\\s*$vc(?:\\s*,\\s*$vc)*+\\s*\\)?\\s*\$~",$ge)&&preg_match_all("~$vc~",$ge,$B)?"(".implode(",",$B[0]).")":preg_replace('~^[0-9].*~','(\0)',preg_replace('~[^-0-9,+()[\]]~','',$ge)));}
function process_type($m,$gb="COLLATE"){global$ii;return" $m[type]".process_length($m["length"]).(preg_match(number_type(),$m["type"])&&in_array($m["unsigned"],$ii)?" $m[unsigned]":"").(preg_match('~char|text|enum|set~',$m["type"])&&$m["collation"]?" $gb ".q($m["collation"]):"");}
function process_field($m,$ai){if($m["on_update"])$m["on_update"]=str_ireplace("current_timestamp()","CURRENT_TIMESTAMP",$m["on_update"]);return array(idf_escape(trim($m["field"])),process_type($ai),($m["null"]?" NULL":" NOT NULL"),default_value($m),(preg_match('~timestamp|datetime~',$m["type"])&&$m["on_update"]?" ON UPDATE ".$m["on_update"]:""),(support("comment")&&$m["comment"]!=""?" COMMENT ".q($m["comment"]):""),($m["auto_increment"]?auto_increment():null),);}
function default_value($m){$Pb=$m["default"];if($Pb===null)return"";if(stripos($Pb,"GENERATED ")===0)return" $Pb";$Pb=str_ireplace("current_timestamp()","CURRENT_TIMESTAMP",$Pb);$fg=preg_match('~char|binary|text|enum|set~',$m["type"])||preg_match('~^(?![a-z])~i',$Pb);return" DEFAULT ".($fg?q($Pb):$Pb);}
function type_class($U){foreach(array('char'=>'text','date'=>'time|year','binary'=>'blob','enum'=>'set',)as$x=>$X){if(preg_match("~$x|$X~",$U))return" class='$x'";}}
function edit_fields(array$n,array$ib,$U="TABLE",$Xc=[]){global$Gd;$n=array_values($n);$nb=($_POST?$_POST["comments"]:adminer_setting("comments"))?"":"class='hidden'";echo'
<thead><tr>
	';if(support("move_col"))echo"<td class='jsonly'></td>";if($U=="PROCEDURE")echo"<td></td>";echo'	<th id="label-name">',($U=="TABLE"?lang(105):lang(106)),'</th>
	<td id="label-type">',lang(45),'<textarea id="enum-edit" rows="4" cols="12" wrap="off" style="display: none;"></textarea>',script("gid('enum-edit').onblur = editingLengthBlur;"),'</td>
	<td id="label-length">',lang(107),'</td>
	<td>',lang(108);echo'</td>
	';if($U=="TABLE"){echo'		<td id="label-null">NULL</td>
		<td><input type="radio" name="auto_increment_col" value=""><abbr id="label-ai" title="',lang(47),'">AI</abbr>',doc_link(['sql'=>"example-auto-increment.html",'mariadb'=>"auto_increment/",'sqlite'=>"autoinc.html",'pgsql'=>"datatype-numeric.html#DATATYPE-SERIAL",'mssql'=>"ms186775.aspx",]),'		</td>
		<td id="label-default">',lang(48),'</td>
		',(support("comment")?"<td id='label-comment' $nb>".lang(46)."</td>":""),'	';}echo'	<td>',"<input type='image' class='icon' name='add[".(support("move_col")?0:count($n))."]' src='".h(preg_replace("~\\?.*~","",ME)."?file=plus.gif&version=76e6da53")."' alt='+' title='".lang(109)."'>".script("row_count = ".count($n).";"),'</td>
</tr></thead>
',"<tbody>\n";foreach($n as$s=>$m){$s++;$of=$m[($_POST?"orig":"field")];$Zb=(isset($_POST["add"][$s-1])||(isset($m["field"])&&!$_POST["drop_col"][$s]))&&(support("drop_col")||$of=="");$kh=$Zb?"":"style='display: none;'";echo"<tr $kh>\n";if(support("move_col"))echo"<th class='handle jsonly'></th>";if($U=="PROCEDURE")echo"<td>",html_select("fields[$s][inout]",explode("|",$Gd),$m["inout"]),"</td>\n";echo"<th>";if($Zb)echo"<input name='fields[$s][field]' value='",h($m["field"]),"' data-maxlength='64' autocapitalize='off' aria-labelledby='label-name'>";echo"<input type='hidden' name='fields[$s][orig]' value='",h($of),"'>";edit_type("fields[$s]",$m,$ib,$Xc);echo"</th>\n";if($U=="TABLE"){echo"<td>",checkbox("fields[$s][null]",1,$m["null"],"","","block","label-null"),"</td>\n";$Ya=$m["auto_increment"]?"checked":"";echo"<td><label class='block'><input type='radio' name='auto_increment_col' value='$s' $Ya aria-labelledby='label-ai'></label></td>\n","<td>",checkbox("fields[$s][has_default]",1,$m["has_default"],"","","","label-default"),"<input name='fields[$s][default]' value='",h($m["default"]),"' aria-labelledby='label-default'>","</td>\n";if(support("comment")){$qe=min_version(5.5)?1024:255;echo"<td $nb>","<input name='fields[$s][comment]' value='",h($m["comment"]),"' data-maxlength='$qe' aria-labelledby='label-comment'>","</td>\n";}}echo"<td>";if(support("move_col"))echo"<input type='image' class='icon' name='add[$s]' src='".h(preg_replace("~\\?.*~","",ME)."?file=plus.gif&version=76e6da53")."' alt='+' title='".lang(109)."'> ","<input type='image' class='icon hidden' name='up[$s]' src='".h(preg_replace("~\\?.*~","",ME)."?file=up.gif&version=76e6da53")."' alt='â†‘' title='".lang(110)."'> ","<input type='image' class='icon hidden' name='down[$s]' src='".h(preg_replace("~\\?.*~","",ME)."?file=down.gif&version=76e6da53")."' alt='â†“' title='".lang(111)."'> ";if($of==""||support("drop_col"))echo"<input type='image' class='icon' name='drop_col[$s]' src='".h(preg_replace("~\\?.*~","",ME)."?file=cross.gif&version=76e6da53")."' alt='x' title='".lang(56)."'>";echo"</td>\n</tr>\n";}echo"</tbody>",script("mixin(qs('#edit-fields tbody'), {onclick: editingClick, onkeydown: editingKeydown, oninput: editingInput}); initSortable('#edit-fields tbody');");}
function process_fields(&$n){$Re=0;if($_POST["up"]){$ae=0;foreach($n as$x=>$m){if(key($_POST["up"])==$x){unset($n[$x]);array_splice($n,$ae,0,array($m));break;}if(isset($m["field"]))$ae=$Re;$Re++;}}elseif($_POST["down"]){$Zc=false;foreach($n as$x=>$m){if(isset($m["field"])&&$Zc){unset($n[key($_POST["down"])]);array_splice($n,$Re,0,array($Zc));break;}if(key($_POST["down"])==$x)$Zc=$m;$Re++;}}elseif($_POST["add"]){$n=array_values($n);array_splice($n,key($_POST["add"]),0,array(array()));}elseif(!$_POST["drop_col"])return false;return true;}
function normalize_enum($A){return"'".str_replace("'","''",addcslashes(stripcslashes(str_replace($A[0][0].$A[0][0],$A[0][0],substr($A[0],1,-1))),'\\'))."'";}
function grant($fd,array$Yf,$e,$Xe,$qi){if(!$Yf)return true;if($Yf==["ALL PRIVILEGES","GRANT OPTION"]){if($fd)return(bool)queries("GRANT ALL PRIVILEGES ON $Xe TO $qi WITH GRANT OPTION");else return queries("REVOKE ALL PRIVILEGES ON $Xe FROM $qi")&&queries("REVOKE GRANT OPTION ON $Xe FROM $qi");}if($Yf==["GRANT OPTION","PROXY"]){if($fd)return(bool)queries("GRANT PROXY ON $Xe TO $qi WITH GRANT OPTION");else return(bool)queries("REVOKE PROXY ON $Xe FROM $qi");}return(bool)queries(($fd?"GRANT ":"REVOKE ").preg_replace('~(GRANT OPTION)\([^)]*\)~','$1',implode("$e, ",$Yf).$e)." ON $Xe ".($fd?"TO ":"FROM ").$qi);}
function drop_create($dc,$h,$ec,$Ch,$fc,$_,$_e,$ye,$ze,$Ue,$Je){if($_POST["drop"])query_redirect($dc,$_,$_e);elseif($Ue=="")query_redirect($h,$_,$ze);elseif($Ue!=$Je){$Db=queries($h);queries_redirect($_,$ye,$Db&&queries($dc));if($Db)queries($ec);}else queries_redirect($_,$ye,queries($Ch)&&queries($fc)&&queries($dc)&&queries($h));}
function create_trigger($Xe,$K){global$w;$Ih=" $K[Timing] $K[Event]".(preg_match('~ OF~',$K["Event"])?" $K[Of]":"");return"CREATE TRIGGER ".idf_escape($K["Trigger"]).($w=="mssql"?$Xe.$Ih:$Ih.$Xe).rtrim(" $K[Type]\n$K[Statement]",";").";";}
function create_routine($xg,$K){global$Gd,$w;$O=array();$n=(array)$K["fields"];ksort($n);foreach($n as$m){if($m["field"]!="")$O[]=(preg_match("~^($Gd)\$~",$m["inout"])?"$m[inout] ":"").idf_escape($m["field"]).process_type($m,"CHARACTER SET");}$Sb=rtrim("\n$K[definition]",";");return"CREATE $xg ".idf_escape(trim($K["name"]))." (".implode(", ",$O).")".(isset($_GET["function"])?" RETURNS".process_type($K["returns"],"CHARACTER SET"):"").($K["language"]?" LANGUAGE $K[language]":"").($w=="pgsql"?" AS ".q($Sb):"$Sb;");}
function remove_definer($H){return preg_replace('~^([A-Z =]+) DEFINER=`'.preg_replace('~@(.*)~','`@`(%|\1)',logged_user()).'`~','\1',$H);}
function format_foreign_key($p){global$Ye;$j=$p["db"];$Ne=$p["ns"];return" FOREIGN KEY (".implode(", ",array_map('idf_escape',$p["source"])).") REFERENCES ".($j!=""&&$j!=$_GET["db"]?idf_escape($j).".":"").($Ne!=""&&$Ne!=$_GET["ns"]?idf_escape($Ne).".":"").table($p["table"])." (".implode(", ",array_map('idf_escape',$p["target"])).")".(preg_match("~^($Ye)\$~",$p["on_delete"])?" ON DELETE $p[on_delete]":"").(preg_match("~^($Ye)\$~",$p["on_update"])?" ON UPDATE $p[on_update]":"");}
function tar_file($Nc,$Nh){$J=pack("a100a8a8a8a12a12",$Nc,644,0,0,decoct($Nh->size),decoct(time()));$ab=8*32;for($s=0;$s<strlen($J);$s++)$ab+=ord($J[$s]);$J.=sprintf("%06o",$ab)."\0 ";echo$J,str_repeat("\0",512-strlen($J));$Nh->send();echo str_repeat("\0",511-($Nh->size+511)%512);}
function ini_bytes($Fd){$X=ini_get($Fd);switch(strtolower(substr($X,-1))){case'g':$X=(int)$X*1024;case'm':$X=(int)$X*1024;case'k':$X=(int)$X*1024;}return$X;}
function doc_link(array$If,$Dh="<sup>?</sup>"){global$w,$f;$Ng=$f->server_info;$yi=preg_replace('~^(\d\.?\d).*~s','\1',$Ng);$mi=['sql'=>"https://dev.mysql.com/doc/refman/$yi/en/",'sqlite'=>"https://www.sqlite.org/",'pgsql'=>"https://www.postgresql.org/docs/$yi/",'mssql'=>"https://msdn.microsoft.com/library/",'oracle'=>"https://www.oracle.com/pls/topic/lookup?ctx=db".preg_replace('~^.* (\d+)\.(\d+)\.\d+\.\d+\.\d+.*~s','\1\2',$Ng)."&id=",'elastic'=>"https://www.elastic.co/guide/en/elasticsearch/reference/$yi/",];if(preg_match('~MariaDB~',$Ng)){$mi['sql']="https://mariadb.com/kb/en/";$If['sql']=(isset($If['mariadb'])?$If['mariadb']:str_replace(".html","/",$If['sql']));}if(!isset($If[$w])||!$If[$w])return"";return"<a href='".h($mi[$w].$If[$w])."'".target_blank().">$Dh</a>";}
function ob_gzencode($ih){return gzencode($ih);}
function db_size($j){global$f;if(!$f->select_db($j))return"?";$J=0;foreach(table_status()as$R)$J+=$R["Data_length"]+$R["Index_length"];return format_number($J);}
function set_utf8mb4($h){global$f;static$O=false;if(!$O&&preg_match('~\butf8mb4~i',$h)){$O=true;echo"SET NAMES ".charset($f).";\n\n";}}
function connect_error(){global$c,$f,$T,$l,$cc;if(DB!=""){header("HTTP/1.1 404 Not Found");page_header(lang(33).": ".h(DB),lang(112),true);}else{if($_POST["db"]&&!$l)queries_redirect(substr(ME,0,-1),lang(113),drop_databases($_POST["db"]));page_header(lang(114),$l,false);echo"<p class='links'>\n";foreach(array('database'=>lang(115),'privileges'=>lang(72),'processlist'=>lang(116),'variables'=>lang(117),'status'=>lang(118),)as$x=>$X){if(support($x))echo"<a href='".h(ME)."$x='>$X</a>\n";}echo"<p>".lang(119,$cc[DRIVER],"<b>".h($f->server_info)."</b>","<b>$f->extension</b>")."\n","<p>".lang(120,"<b>".h(logged_user())."</b>")."\n";$i=$c->databases();if($i){$Dg=support("scheme");$ib=collations();echo"<form action='' method='post'>\n","<table cellspacing='0' class='checkable'>\n",script("mixin(qsl('table'), {onclick: tableClick, ondblclick: partialArg(tableClick, true)});"),"<thead><tr>".(support("database")?"<td>":"")."<th>".lang(33)." - <a href='".h(ME)."refresh=1'>".lang(121)."</a>"."<td>".lang(122)."<td>".lang(123)."<td>".lang(124)." - <a href='".h(ME)."dbsize=1'>".lang(125)."</a>".script("qsl('a').onclick = partial(ajaxSetHtml, '".js_escape(ME)."script=connect');","")."</thead>\n";$i=($_GET["dbsize"]?count_tables($i):array_flip($i));foreach($i as$j=>$S){$wg=h(ME)."db=".urlencode($j);$t=h("Db-".$j);echo"<tr".odd().">".(support("database")?"<td>".checkbox("db[]",$j,in_array($j,(array)$_POST["db"]),"","","",$t):""),"<th><a href='$wg' id='$t'>".h($j)."</a>";$hb=h(db_collation($j,$ib));echo"<td>".(support("database")?"<a href='$wg".($Dg?"&amp;ns=":"")."&amp;database=' title='".lang(68)."'>$hb</a>":$hb),"<td align='right'><a href='$wg&amp;schema=' id='tables-".h($j)."' title='".lang(71)."'>".($_GET["dbsize"]?$S:"?")."</a>","<td align='right' id='size-".h($j)."'>".($_GET["dbsize"]?db_size($j):"?"),"\n";}echo"</table>\n",(support("database")?"<div class='footer'><div>\n"."<fieldset><legend>".lang(126)." <span id='selected'></span></legend><div>\n"."<input type='hidden' name='all' value=''>".script("qsl('input').onclick = function () { selectCount('selected', formChecked(this, /^db/)); };")."<input type='submit' name='drop' value='".lang(127)."'>".confirm()."\n"."</div></fieldset>\n"."</div></div>\n":""),"<input type='hidden' name='token' value='$T'>\n","</form>\n",script("tableCheck();");}}page_footer("db");}if(isset($_GET["status"]))$_GET["variables"]=$_GET["status"];if(isset($_GET["import"]))$_GET["sql"]=$_GET["import"];if(!(DB!=""?$f->select_db(DB):isset($_GET["sql"])||isset($_GET["dump"])||isset($_GET["database"])||isset($_GET["processlist"])||isset($_GET["privileges"])||isset($_GET["user"])||isset($_GET["variables"])||$_GET["script"]=="connect"||$_GET["script"]=="kill")){if(DB!=""||$_GET["refresh"]){restart_session();set_session("dbs",null);}connect_error();exit;}if(support("scheme")){if(DB!=""&&$_GET["ns"]!==""){if(!isset($_GET["ns"]))redirect(preg_replace('~ns=[^&]*&~','',ME)."ns=".get_schema());if(!set_schema($_GET["ns"])){header("HTTP/1.1 404 Not Found");page_header(lang(76).": ".h($_GET["ns"]),lang(128),true);page_footer("ns");exit;}}}$Ye="RESTRICT|NO ACTION|CASCADE|SET NULL|SET DEFAULT";
class TmpFile{var$handler;var$size;
function __construct(){$this->handler=tmpfile();}
function write($_b){$this->size+=strlen($_b);fwrite($this->handler,$_b);}
function send(){fseek($this->handler,0);fpassthru($this->handler);fclose($this->handler);}}$vc="'(?:''|[^'\\\\]|\\\\.)*'";$Gd="IN|OUT|INOUT";if(isset($_GET["select"])&&($_POST["edit"]||$_POST["clone"])&&!$_POST["save"])$_GET["edit"]=$_GET["select"];if(isset($_GET["callf"]))$_GET["call"]=$_GET["callf"];if(isset($_GET["function"]))$_GET["procedure"]=$_GET["function"];if(isset($_GET["download"])){$b=$_GET["download"];$n=fields($b);header("Content-Type: application/octet-stream");header("Content-Disposition: attachment; filename=".friendly_url("$b-".implode("_",$_GET["where"])).".".friendly_url($_GET["field"]));$M=array(idf_escape($_GET["field"]));$I=$k->select($b,$M,array(where($_GET,$n)),$M);$K=($I?$I->fetch_row():array());echo$k->value($K[0],$n[$_GET["field"]]);exit;}elseif(isset($_GET["table"])){$b=$_GET["table"];$n=fields($b);if(!$n)$l=error();$R=table_status1($b,true);$D=$c->tableName($R);$vg=[];foreach($n as$x=>$m)$vg+=$m["privileges"];page_header(($n&&is_view($R)?$R['Engine']=='materialized view'?lang(129):lang(130):lang(77)).": ".($D!=""?$D:h($b)),$l);$O=null;if(isset($vg["insert"])||!support("table"))$O="";$c->selectLinks($R,$O);$mb=$R["Comment"];if($mb!="")echo"<p class='nowrap'>".lang(46).": ".h($mb)."\n";if($n){$c->tableStructurePrint($n);if(is_view($R))$jc='<p class="links"><a href="'.h(ME).'view='.urlencode($b).'">'.lang(39)."</a>\n";else$jc='<p class="links"><a href="'.h(ME).'create='.urlencode($b).'">'.lang(40)."</a>\n";echo$jc;if(support("partitioning")&&preg_match("~partitioned~",$R["Create_options"])){echo"<h3 id='partition-by'>".lang(131)."</h3>\n";$Ef=get_partitions_info($b);$c->tablePartitionsPrint($Ef);echo$jc;}}if(!is_view($R)){if(support("indexes")){echo"<h3 id='indexes'>".lang(132)."</h3>\n";$v=indexes($b);if($v)$c->tableIndexesPrint($v);echo'<p class="links"><a href="'.h(ME).'indexes='.urlencode($b).'">'.lang(133)."</a>\n";}if(fk_support($R)){echo"<h3 id='foreign-keys'>".lang(101)."</h3>\n";$Xc=foreign_keys($b);if($Xc){echo"<table>\n","<thead><tr><th>".lang(134)."<td>".lang(135)."<td>".lang(104)."<td>".lang(103)."<td></thead>\n";foreach($Xc as$D=>$p){echo"<tr title='".h($D)."'>","<th><i>".implode("</i>, <i>",array_map('h',$p["source"]))."</i>","<td><a href='".h($p["db"]!=""?preg_replace('~db=[^&]*~',"db=".urlencode($p["db"]),ME):($p["ns"]!=""?preg_replace('~ns=[^&]*~',"ns=".urlencode($p["ns"]),ME):ME))."table=".urlencode($p["table"])."'>".($p["db"]!=""?"<b>".h($p["db"])."</b>.":"").($p["ns"]!=""?"<b>".h($p["ns"])."</b>.":"").h($p["table"])."</a>","(<i>".implode("</i>, <i>",array_map('h',$p["target"]))."</i>)","<td>".h($p["on_delete"])."\n","<td>".h($p["on_update"])."\n",'<td><a href="'.h(ME.'foreign='.urlencode($b).'&name='.urlencode($D)).'">'.lang(136).'</a>';}echo"</table>\n";}echo'<p class="links"><a href="'.h(ME).'foreign='.urlencode($b).'">'.lang(137)."</a>\n";}}if(support(is_view($R)?"view_trigger":"trigger")){echo"<h3 id='triggers'>".lang(138)."</h3>\n";$Zh=triggers($b);if($Zh){echo"<table>\n";foreach($Zh as$x=>$X)echo"<tr><td>".h($X[0])."<td>".h($X[1])."<th>".h($x)."<td><a href='".h(ME.'trigger='.urlencode($b).'&name='.urlencode($x))."'>".lang(136)."</a>\n";echo"</table>\n";}echo'<p class="links"><a href="'.h(ME).'trigger='.urlencode($b).'">'.lang(139)."</a>\n";}}elseif(isset($_GET["schema"])){page_header(lang(71),"",array(),h(DB.($_GET["ns"]?".$_GET[ns]":"")));$uh=array();$vh=array();$da=($_GET["schema"]?$_GET["schema"]:$_COOKIE["adminer_schema-".str_replace(".","_",DB)]);preg_match_all('~([^:]+):([-0-9.]+)x([-0-9.]+)(_|$)~',$da,$B,PREG_SET_ORDER);foreach($B as$s=>$A){$uh[$A[1]]=array($A[2],$A[3]);$vh[]="\n\t'".js_escape($A[1])."': [ $A[2], $A[3] ]";}$Ph=0;$Ka=-1;$Bg=array();$mg=array();$ee=array();foreach(table_status('',true)as$Q=>$R){if(is_view($R))continue;$Of=0;$Bg[$Q]["fields"]=array();foreach(fields($Q)as$D=>$m){$Of+=1.25;$m["pos"]=$Of;$Bg[$Q]["fields"][$D]=$m;}$Bg[$Q]["pos"]=($uh[$Q]?$uh[$Q]:array($Ph,0));foreach($c->foreignKeys($Q)as$X){if(!$X["db"]){$ce=$Ka;if($uh[$Q][1]||$uh[$X["table"]][1])$ce=min(floatval($uh[$Q][1]),floatval($uh[$X["table"]][1]))-1;else$Ka-=.1;while($ee[(string)$ce])$ce-=.0001;$Bg[$Q]["references"][$X["table"]][(string)$ce]=array($X["source"],$X["target"]);$mg[$X["table"]][$Q][(string)$ce]=$X["target"];$ee[(string)$ce]=true;}}$Ph=max($Ph,$Bg[$Q]["pos"][0]+2.5+$Of);}echo'<div id="schema" style="height: ',$Ph,'em;">
<script',nonce(),'>
gid(\'schema\').onselectstart = function () { return false; };
var tablePos = {',implode(",",$vh)."\n",'};
var em = gid(\'schema\').offsetHeight / ',$Ph,';
document.onmousemove = schemaMousemove;
document.onmouseup = partialArg(schemaMouseup, \'',js_escape(DB),'\');
</script>
';foreach($Bg as$D=>$Q){echo"<div class='table' style='top: ".$Q["pos"][0]."em; left: ".$Q["pos"][1]."em;'>",'<a href="'.h(ME).'table='.urlencode($D).'"><b>'.h($D)."</b></a>",script("qsl('div').onmousedown = schemaMousedown;");foreach($Q["fields"]as$m){$X='<span'.type_class($m["type"]).' title="'.h($m["full_type"].($m["null"]?" NULL":'')).'">'.h($m["field"]).'</span>';echo"<br>".($m["primary"]?"<i>$X</i>":$X);}foreach((array)$Q["references"]as$Ah=>$ng){foreach($ng as$ce=>$jg){$de=$ce-$uh[$D][1];$s=0;foreach($jg[0]as$Zg)echo"\n<div class='references' title='".h($Ah)."' id='refs$ce-".($s++)."' style='left: $de"."em; top: ".$Q["fields"][$Zg]["pos"]."em; padding-top: .5em;'><div style='border-top: 1px solid Gray; width: ".(-$de)."em;'></div></div>";}}foreach((array)$mg[$D]as$Ah=>$ng){foreach($ng as$ce=>$e){$de=$ce-$uh[$D][1];$s=0;foreach($e as$_h)echo"\n<div class='references' title='".h($Ah)."' id='refd$ce-".($s++)."' style='left: $de"."em; top: ".$Q["fields"][$_h]["pos"]."em; height: 1.25em; background: url(".h(preg_replace("~\\?.*~","",ME)."?file=arrow.gif) no-repeat right center;&version=76e6da53")."'><div style='height: .5em; border-bottom: 1px solid Gray; width: ".(-$de)."em;'></div></div>";}}echo"\n</div>\n";}foreach($Bg as$D=>$Q){foreach((array)$Q["references"]as$Ah=>$ng){foreach($ng as$ce=>$jg){$Be=$Ph;$te=-10;foreach($jg[0]as$x=>$Zg){$Pf=$Q["pos"][0]+$Q["fields"][$Zg]["pos"];$Qf=$Bg[$Ah]["pos"][0]+$Bg[$Ah]["fields"][$jg[1][$x]]["pos"];$Be=min($Be,$Pf,$Qf);$te=max($te,$Pf,$Qf);}echo"<div class='references' id='refl$ce' style='left: $ce"."em; top: $Be"."em; padding: .5em 0;'><div style='border-right: 1px solid Gray; margin-top: 1px; height: ".($te-$Be)."em;'></div></div>\n";}}}echo'</div>
<p class="links"><a href="',h(ME."schema=".urlencode($da)),'" id="schema-link">',lang(140),'</a>
';}elseif(isset($_GET["dump"])){$b=$_GET["dump"];if($_POST&&!$l){$Cb="";foreach(array("output","format","db_style","routines","events","table_style","auto_increment","triggers","data_style")as$x)$Cb.="&$x=".urlencode($_POST[$x]);cookie("adminer_export",substr($Cb,1));$S=array_flip((array)$_POST["tables"])+array_flip((array)$_POST["data"]);$Fc=dump_headers((count($S)==1?key($S):DB),(DB==""||count($S)>1));$Od=preg_match('~sql~',$_POST["format"]);if($Od){echo"-- Adminer $ha ".$cc[DRIVER]." ".str_replace("\n"," ",$f->server_info)." dump\n\n";if($w=="sql"){echo"SET NAMES utf8;
SET time_zone = '+00:00';
SET foreign_key_checks = 0;
".($_POST["data_style"]?"SET sql_mode = 'NO_AUTO_VALUE_ON_ZERO';
":"")."
";$f->query("SET time_zone = '+00:00'");$f->query("SET sql_mode = ''");}}$kh=$_POST["db_style"];$i=array(DB);if(DB==""){$i=$_POST["databases"];if(is_string($i))$i=explode("\n",rtrim(str_replace("\r","",$i),"\n"));}foreach((array)$i as$j){$c->dumpDatabase($j);if($f->select_db($j)){if($Od&&preg_match('~CREATE~',$kh)&&($h=$f->result("SHOW CREATE DATABASE ".idf_escape($j),1))){set_utf8mb4($h);if($kh=="DROP+CREATE")echo"DROP DATABASE IF EXISTS ".idf_escape($j).";\n";echo"$h;\n";}if($Od){if($kh)echo use_sql($j).";\n\n";$tf="";if($_POST["routines"]){foreach(array("FUNCTION","PROCEDURE")as$xg){foreach(get_rows("SHOW $xg STATUS WHERE Db = ".q($j),null,"-- ")as$K){$h=remove_definer($f->result("SHOW CREATE $xg ".idf_escape($K["Name"]),2));set_utf8mb4($h);$tf.=($kh!='DROP+CREATE'?"DROP $xg IF EXISTS ".idf_escape($K["Name"]).";;\n":"")."$h;;\n\n";}}}if($_POST["events"]){foreach(get_rows("SHOW EVENTS",null,"-- ")as$K){$h=remove_definer($f->result("SHOW CREATE EVENT ".idf_escape($K["Name"]),3));set_utf8mb4($h);$tf.=($kh!='DROP+CREATE'?"DROP EVENT IF EXISTS ".idf_escape($K["Name"]).";;\n":"")."$h;;\n\n";}}if($tf)echo"DELIMITER ;;\n\n$tf"."DELIMITER ;\n\n";}if($_POST["table_style"]||$_POST["data_style"]){$_i=array();foreach(table_status('',true)as$D=>$R){$Q=(DB==""||in_array($D,(array)$_POST["tables"]));$Jb=(DB==""||in_array($D,(array)$_POST["data"]));if($Q||$Jb){if($Fc=="tar"){$Nh=new TmpFile;ob_start(array($Nh,'write'),1e5);}$c->dumpTable($D,($Q?$_POST["table_style"]:""),(is_view($R)?2:0));if(is_view($R))$_i[]=$D;elseif($Jb){$n=fields($D);$c->dumpData($D,$_POST["data_style"],"SELECT *".convert_fields($n,$n)." FROM ".table($D));}if($Od&&$_POST["triggers"]&&$Q&&($Zh=trigger_sql($D)))echo"\nDELIMITER ;;\n$Zh\nDELIMITER ;\n";if($Fc=="tar"){ob_end_flush();tar_file((DB!=""?"":"$j/")."$D.csv",$Nh);}elseif($Od)echo"\n";}}if(function_exists('foreign_keys_sql')){foreach(table_status('',true)as$D=>$R){$Q=(DB==""||in_array($D,(array)$_POST["tables"]));if($Q&&!is_view($R))echo foreign_keys_sql($D);}}foreach($_i as$zi)$c->dumpTable($zi,$_POST["table_style"],1);if($Fc=="tar")echo pack("x512");}}}if($Od)echo"-- ".$f->result("SELECT NOW()")."\n";exit;}page_header(lang(74),$l,($_GET["export"]!=""?array("table"=>$_GET["export"]):array()),h(DB));echo'
<form action="" method="post">
<table cellspacing="0" class="layout">
';$Mb=array('','USE','DROP+CREATE','CREATE');$wh=array('','DROP+CREATE','CREATE');$Kb=array('','TRUNCATE+INSERT','INSERT');if($w=="sql")$Kb[]='INSERT+UPDATE';parse_str($_COOKIE["adminer_export"],$K);if(!$K)$K=array("output"=>"file","format"=>"sql","db_style"=>(DB!=""?"":"CREATE"),"table_style"=>"DROP+CREATE","data_style"=>"INSERT");if(!isset($K["events"])){$K["routines"]=$K["events"]=($_GET["dump"]=="");$K["triggers"]=$K["table_style"];}echo"<tr><th>".lang(141)."<td>".html_select("format",$c->dumpFormat(),$K["format"],false)."\n";echo($w=="sqlite"?"":"<tr><th>".lang(33)."<td>".html_select('db_style',$Mb,$K["db_style"]).(support("routine")?checkbox("routines",1,$K["routines"],lang(142)):"").(support("event")?checkbox("events",1,$K["events"],lang(143)):"")),"<tr><th>".lang(123)."<td>".html_select('table_style',$wh,$K["table_style"]).checkbox("auto_increment",1,$K["auto_increment"],lang(47)).(support("trigger")?checkbox("triggers",1,$K["triggers"],lang(138)):""),"<tr><th>".lang(144)."<td>".html_select('data_style',$Kb,$K["data_style"]),"<tr><th>".lang(145)."<td>".html_select("output",$c->dumpOutput(),$K["output"],false)."\n";echo'</table>
<p><input type="submit" value="',lang(74),'">
<input type="hidden" name="token" value="',$T,'">

<table cellspacing="0">
',script("qsl('table').onclick = dumpClick;");$Tf=array();if(DB!=""){$Ya=($b!=""?"":" checked");echo"<thead><tr>","<th style='text-align: left;'><label class='block'><input type='checkbox' id='check-tables'$Ya>".lang(123)."</label>".script("gid('check-tables').onclick = partial(formCheck, /^tables\\[/);",""),"<th style='text-align: right;'><label class='block'>".lang(144)."<input type='checkbox' id='check-data'$Ya></label>".script("gid('check-data').onclick = partial(formCheck, /^data\\[/);",""),"</thead>\n";$_i="";$xh=tables_list();foreach($xh as$D=>$U){$Sf=preg_replace('~_.*~','',$D);$Ya=($b==""||$b==(substr($b,-1)=="%"?"$Sf%":$D));$Vf="<tr><td>".checkbox("tables[]",$D,$Ya,$D,"","block");if($U!==null&&!preg_match('~table~i',$U))$_i.="$Vf\n";else echo"$Vf<td align='right'><label class='block'><span id='Rows-".h($D)."'></span>".checkbox("data[]",$D,$Ya)."</label>\n";$Tf[$Sf]++;}echo$_i;if($xh)echo script("ajaxSetHtml('".js_escape(ME)."script=db');");}else{echo"<thead><tr><th style='text-align: left;'>","<label class='block'><input type='checkbox' id='check-databases'".($b==""?" checked":"").">".lang(33)."</label>",script("gid('check-databases').onclick = partial(formCheck, /^databases\\[/);",""),"</thead>\n";$i=$c->databases();if($i){foreach($i as$j){if(!information_schema($j)){$Sf=preg_replace('~_.*~','',$j);echo"<tr><td>".checkbox("databases[]",$j,$b==""||$b=="$Sf%",$j,"","block")."\n";$Tf[$Sf]++;}}}else echo"<tr><td><textarea name='databases' rows='10' cols='20'></textarea>";}echo'</table>
</form>
';$Pc=true;foreach($Tf as$x=>$X){if($x!=""&&$X>1){echo($Pc?"<p>":" ")."<a href='".h(ME)."dump=".urlencode("$x%")."'>".h($x)."</a>";$Pc=false;}}}elseif(isset($_GET["privileges"])){page_header(lang(72));echo'<p class="links"><a href="'.h(ME).'user=">'.lang(146)."</a>";$I=$f->query("SELECT User, Host FROM mysql.".(DB==""?"user":"db WHERE ".q(DB)." LIKE Db")." ORDER BY Host, User");$fd=$I;if(!$I)$I=$f->query("SELECT SUBSTRING_INDEX(CURRENT_USER, '@', 1) AS User, SUBSTRING_INDEX(CURRENT_USER, '@', -1) AS Host");echo"<form action=''><p>\n";hidden_fields_get();echo"<input type='hidden' name='db' value='".h(DB)."'>\n",($fd?"":"<input type='hidden' name='grant' value=''>\n"),"<table>\n","<thead><tr><th>".lang(31)."<th>".lang(30)."<th></thead>\n";while($K=$I->fetch_assoc())echo'<tr'.odd().'><td>'.h($K["User"])."<td>".h($K["Host"]).'<td><a href="'.h(ME.'user='.urlencode($K["User"]).'&host='.urlencode($K["Host"])).'">'.lang(10)."</a>\n";if(!$fd||DB!="")echo"<tr".odd()."><td><input name='user' autocapitalize='off'><td><input name='host' value='localhost' autocapitalize='off'><td><input type='submit' value='".lang(10)."'>\n";echo"</table>\n","</form>\n";}elseif(isset($_GET["sql"])){if(!$l&&$_POST["export"]){dump_headers("sql");$c->dumpTable("","");$c->dumpData("","table",$_POST["query"]);exit;}restart_session();$td=&get_session("queries");$sd=&$td[DB];if(!$l&&$_POST["clear"]){$sd=array();redirect(remove_from_uri("history"));}page_header((isset($_GET["import"])?lang(73):lang(65)),$l);if(!$l&&$_POST){$bd=false;if(!isset($_GET["import"]))$H=$_POST["query"];elseif($_POST["webfile"]){$zd=$c->importServerPath();if(!$zd)$bd=false;elseif(file_exists($zd))$bd=fopen($zd,"rb");elseif(file_exists("$zd.gz"))$bd=fopen("compress.zlib://$zd.gz","rb");else$bd=false;$H=$bd?fread($bd,1e6):false;}else$H=get_file("sql_file",true);if(is_string($H)){if(function_exists('memory_get_usage')&&($xe=ini_bytes("memory_limit"))!="-1")@ini_set("memory_limit",max($xe,2*strlen($H)+memory_get_usage()+8e6));if($H!=""&&strlen($H)<1e6){$G=$H.(preg_match("~;[ \t\r\n]*\$~",$H)?"":";");if(!$sd||reset(end($sd))!=$G){restart_session();$sd[]=array($G,time());set_session("queries",$td);stop_session();}}$ah="(?:\\s|/\\*[\s\S]*?\\*/|(?:#|-- )[^\n]*\n?|--\r?\n)";$Tb=";";$Re=0;$qc=true;$g=connect();if(is_object($g)&&DB!=""){$g->select_db(DB);if($_GET["ns"]!="")set_schema($_GET["ns"],$g);}$lb=0;$xc=array();$yf='[\'"'.($w=="sql"?'`#':($w=="sqlite"?'`[':($w=="mssql"?'[':''))).']|/\*|-- |$'.($w=="pgsql"?'|\$[^$]*\$':'');$Qh=microtime(true);parse_str($_COOKIE["adminer_export"],$sa);$hc=$c->dumpFormat();unset($hc["sql"]);while($H!=""){if(!$Re&&preg_match("~^$ah*+DELIMITER\\s+(\\S+)~i",$H,$A)){$Tb=$A[1];$H=substr($H,strlen($A[0]));}else{preg_match('('.preg_quote($Tb)."\\s*|$yf)",$H,$A,PREG_OFFSET_CAPTURE,$Re);list($Zc,$Of)=$A[0];if(!$Zc&&$bd&&!feof($bd))$H.=fread($bd,1e5);else{if(!$Zc&&rtrim($H)=="")break;$Re=$Of+strlen($Zc);if($Zc&&rtrim($Zc)!=$Tb){$Ta=is_c_style_escapes()||($w=="pgsql"&&($Of>0&&strtolower($H[$Of-1])=="e"));$Jf='(';if($Zc=='/*')$Jf.='\*/';elseif($Zc=='[')$Jf.=']';elseif(preg_match('~^-- |^#~',$Zc))$Jf.="\n";else$Jf.=preg_quote($Zc).($Ta?"|\\\\.":"");$Jf.='|$)s';while(preg_match($Jf,$H,$A,PREG_OFFSET_CAPTURE,$Re)){$_g=$A[0][0];if(!$_g&&$bd&&!feof($bd))$H.=fread($bd,1e5);else{$Re=$A[0][1]+strlen($_g);if(!isset($_g[0])||$_g[0]!="\\")break;}}}else{$qc=false;$G=substr($H,0,$Of);$lb++;$Vf="<pre id='sql-$lb'><code class='jush-$w'>".$c->sqlCommandQuery($G)."</code></pre>\n";if($w=="sqlite"&&preg_match("~^$ah*+ATTACH\\b~i",$G,$A)){echo$Vf,"<p class='error'>".lang(147)."\n";$xc[]=" <a href='#sql-$lb'>$lb</a>";if($_POST["error_stops"])break;}else{if(!$_POST["only_errors"]){echo$Vf;ob_flush();flush();}$fh=microtime(true);if($f->multi_query($G)&&is_object($g)&&preg_match("~^$ah*+USE\\b~i",$G))$g->query($G);do{$I=$f->store_result();if($f->error){echo($_POST["only_errors"]?$Vf:""),"<p class='error'>".lang(148).(!empty($f->errno)?" ($f->errno)":"").": ".error()."\n";$xc[]=" <a href='#sql-$lb'>$lb</a>";if($_POST["error_stops"])break 2;}else{$Gh=" <span class='time'>(".format_time($fh).")</span>".(strlen($G)<1000?" <a href='".h(ME)."sql=".urlencode(trim($G))."'>".lang(10)."</a>":"");$ua=$f->affected_rows;$Ci=($_POST["only_errors"]?"":$k->warnings());$Di="warnings-$lb";if($Ci)$Gh.=", <a href='#$Di'>".lang(42)."</a>".script("qsl('a').onclick = partial(toggle, '$Di');","");$Dc=null;$Ec="explain-$lb";if(is_object($I)){$y=$_POST["limit"];$nf=select($I,$g,array(),$y);if(!$_POST["only_errors"]){echo"<form action='' method='post'>\n";$Oe=$I->num_rows;echo"<p>".($Oe?($y&&$Oe>$y?lang(149,$y):"").lang(150,$Oe):""),$Gh;if($g&&preg_match("~^($ah|\\()*+SELECT\\b~i",$G)&&($Dc=explain($g,$G)))echo", <a href='#$Ec'>Explain</a>".script("qsl('a').onclick = partial(toggle, '$Ec');","");$t="export-$lb";echo", <a href='#$t'>".lang(74)."</a>".script("qsl('a').onclick = partial(toggle, '$t');","")."<span id='$t' class='hidden'>: ".html_select("output",$c->dumpOutput(),$sa["output"])." ".html_select("format",$hc,$sa["format"])."<input type='hidden' name='query' value='".h($G)."'>"." <input type='submit' name='export' value='".lang(74)."'><input type='hidden' name='token' value='$T'></span>\n"."</form>\n";}}else{if(preg_match("~^$ah*+(CREATE|DROP|ALTER)$ah++(DATABASE|SCHEMA)\\b~i",$G)){restart_session();set_session("dbs",null);stop_session();}if(!$_POST["only_errors"]){$Jh=isset($f->info)?"title='".h($f->info)."'":"";echo"<p class='message' $Jh>".lang(151,$ua)."$Gh\n";}}echo($Ci?"<div id='$Di' class='hidden'>\n$Ci</div>\n":"");if($Dc){echo"<div id='$Ec' class='hidden'>\n";select($Dc,$g,$nf);echo"</div>\n";}}$fh=microtime(true);}while($f->next_result());}$H=substr($H,$Re);$Re=0;}}}}if($qc)echo"<p class='message'>".lang(152)."\n";elseif($_POST["only_errors"]){echo"<p class='message'>".lang(153,$lb-count($xc))," <span class='time'>(".format_time($Qh).")</span>\n";}elseif($xc&&$lb>1)echo"<p class='error'>".lang(148).": ".implode("",$xc)."\n";}else echo"<p class='error'>".upload_error($H)."\n";}echo'
<form action="" method="post" enctype="multipart/form-data" id="form">
';$Bc="<input type='submit' value='".lang(154)."' title='Ctrl+Enter'>";if(!isset($_GET["import"])){$G=$_GET["sql"];if($_POST)$G=$_POST["query"];elseif($_GET["history"]=="all")$G=$sd;elseif($_GET["history"]!="")$G=$sd[$_GET["history"]][0];echo"<p>";textarea("query",$G,20);echo script(($_POST?"":"qs('textarea').focus();\n")."gid('form').onsubmit = partial(sqlSubmit, gid('form'), '".js_escape(remove_from_uri("sql|limit|error_stops|only_errors|history"))."');"),"<p>$Bc\n",lang(155).": <input type='number' name='limit' class='size' value='".h($_POST?$_POST["limit"]:$_GET["limit"])."'>\n";}else{echo"<fieldset><legend>".lang(156)."</legend><div>";$ld=(extension_loaded("zlib")?"[.gz]":"");echo(ini_bool("file_uploads")?"SQL$ld (&lt; ".ini_get("upload_max_filesize")."B): <input type='file' name='sql_file[]' multiple>\n$Bc":lang(157)),"</div></fieldset>\n";$zd=$c->importServerPath();if($zd){echo"<fieldset><legend>".lang(158)."</legend><div>",lang(159,"<code>".h($zd)."$ld</code>"),' <input type="submit" name="webfile" value="'.lang(160).'">',"</div></fieldset>\n";}echo"<p>";}echo checkbox("error_stops",1,($_POST?$_POST["error_stops"]:isset($_GET["import"])||$_GET["error_stops"]),lang(161))."\n",checkbox("only_errors",1,($_POST?$_POST["only_errors"]:isset($_GET["import"])||$_GET["only_errors"]),lang(162))."\n","<input type='hidden' name='token' value='$T'>\n";if(!isset($_GET["import"])&&$sd){print_fieldset("history",lang(163),$_GET["history"]!="");for($X=end($sd);$X;$X=prev($sd)){$x=key($sd);list($G,$Gh,$mc)=$X;echo'<a href="'.h(ME."sql=&history=$x").'">'.lang(10)."</a>"." <span class='time' title='".@date('Y-m-d',$Gh)."'>".@date("H:i:s",$Gh)."</span>"." <code class='jush-$w'>".shorten_utf8(ltrim(str_replace("\n"," ",str_replace("\r","",preg_replace('~^(#|-- ).*~m','',$G)))),80,"</code>").($mc?" <span class='time'>($mc)</span>":"")."<br>\n";}echo"<input type='submit' name='clear' value='".lang(164)."'>\n","<a href='".h(ME."sql=&history=all")."'>".lang(165)."</a>\n","</div></fieldset>\n";}echo'</form>
';}elseif(isset($_GET["edit"])){$b=$_GET["edit"];$n=fields($b);$Z=(isset($_GET["select"])?($_POST["check"]&&count($_POST["check"])==1?where_check($_POST["check"][0],$n):""):where($_GET,$n));$ji=(isset($_GET["select"])?$_POST["edit"]:$Z);foreach($n as$D=>$m){if(!isset($m["privileges"][$ji?"update":"insert"])||$c->fieldName($m)==""||$m["generated"])unset($n[$D]);}if($_POST&&!$l&&!isset($_GET["select"])){$_=$_POST["referer"];if($_POST["insert"])$_=($ji?null:$_SERVER["REQUEST_URI"]);elseif(!preg_match('~^.+&select=.+$~',$_))$_=ME."select=".urlencode($b);$v=indexes($b);$ei=unique_array($_GET["where"],$v);$eg="\nWHERE $Z";if(isset($_POST["delete"]))queries_redirect($_,lang(166),$k->delete($b,$eg,!$ei));else{$O=array();foreach($n as$D=>$m){$X=process_input($m);if($X!==false&&$X!==null)$O[idf_escape($D)]=$X;}if($ji){if(!$O)redirect($_);queries_redirect($_,lang(167),$k->update($b,$O,$eg,!$ei));if(is_ajax()){page_headers();page_messages($l);exit;}}else{$I=$k->insert($b,$O);$be=($I?last_id():0);queries_redirect($_,lang(168,($be?" $be":"")),$I);}}}$K=null;if($_POST["save"])$K=(array)$_POST["fields"];elseif($Z){$M=array();foreach($n as$D=>$m){if(isset($m["privileges"]["select"])){$Ca=convert_field($m);if($_POST["clone"]&&$m["auto_increment"])$Ca="''";if($w=="sql"&&preg_match("~enum|set~",$m["type"]))$Ca="1*".idf_escape($D);$M[]=($Ca?"$Ca AS ":"").idf_escape($D);}}$K=array();if(!support("table"))$M=array("*");if($M){$I=$k->select($b,$M,array($Z),$M,array(),(isset($_GET["select"])?2:1));if(!$I)$l=error();else{$K=$I->fetch_assoc();if(!$K)$K=false;}if(isset($_GET["select"])&&(!$K||$I->fetch_assoc()))$K=null;}}if(!support("table")&&!$n){if(!$Z){$I=$k->select($b,array("*"),$Z,array("*"));$K=($I?$I->fetch_assoc():false);if(!$K)$K=array($k->primary=>"");}if($K){foreach($K as$x=>$X){if(!$Z)$K[$x]=null;$n[$x]=array("field"=>$x,"null"=>($x!=$k->primary),"auto_increment"=>($x==$k->primary));}}}edit_form($b,$n,$K,$ji);}elseif(isset($_GET["create"])){$b=$_GET["create"];$_f=array();foreach(array('HASH','LINEAR HASH','KEY','LINEAR KEY','RANGE','LIST')as$x)$_f[$x]=$x;$lg=referencable_primary($b);$Xc=array();foreach($lg as$sh=>$m)$Xc[str_replace("`","``",$sh)."`".str_replace("`","``",$m["field"])]=$sh;$qf=array();$R=array();if($b!=""){$qf=fields($b);$R=table_status($b);if(!$R)$l=lang(9);}$K=$_POST;$K["fields"]=(array)$K["fields"];if($K["auto_increment_col"])$K["fields"][$K["auto_increment_col"]]["auto_increment"]=true;if($_POST)set_adminer_settings(array("comments"=>$_POST["comments"],"defaults"=>$_POST["defaults"]));if($_POST&&!process_fields($K["fields"])&&!$l){if($_POST["drop"])queries_redirect(substr(ME,0,-1),lang(169),drop_tables(array($b)));else{$n=array();$za=array();$ni=false;$Vc=array();$pf=reset($qf);$wa=" FIRST";foreach($K["fields"]as$x=>$m){$p=$Xc[$m["type"]];$ai=($p!==null?$lg[$p]:$m);if($m["field"]!=""){if(!$m["has_default"])$m["default"]=null;if($x==$K["auto_increment_col"])$m["auto_increment"]=true;$ag=process_field($m,$ai);$za[]=array($m["orig"],$ag,$wa);if(!$pf||$ag!=process_field($pf,$pf)){$n[]=array($m["orig"],$ag,$wa);if($m["orig"]!=""||$wa)$ni=true;}if($p!==null)$Vc[idf_escape($m["field"])]=($b!=""&&$w!="sqlite"?"ADD":" ").format_foreign_key(array('table'=>$Xc[$m["type"]],'source'=>array($m["field"]),'target'=>array($ai["field"]),'on_delete'=>$m["on_delete"],));$wa=" AFTER ".idf_escape($m["field"]);}elseif($m["orig"]!=""){$ni=true;$n[]=array($m["orig"]);}if($m["orig"]!=""){$pf=next($qf);if(!$pf)$wa="";}}$Cf="";if(support("partitioning")){if(isset($_f[$K["partition_by"]])){$F=array_filter($K,
function($x){return preg_match('~^partition~',$x);},ARRAY_FILTER_USE_KEY);foreach($F["partition_names"]as$x=>$D){if($D===""){unset($F["partition_names"][$x]);unset($F["partition_values"][$x]);}}if($F!=get_partitions_info($b)){$Df=[];if($F["partition_by"]=='RANGE'||$F["partition_by"]=='LIST'){foreach($F["partition_names"]as$x=>$D){$Y=$F["partition_values"][$x];$Df[]="\n  PARTITION ".idf_escape($D)." VALUES ".($F["partition_by"]=='RANGE'?"LESS THAN":"IN").($Y!=""?" ($Y)":" MAXVALUE");}}$Cf.="\nPARTITION BY {$F["partition_by"]}({$F["partition"]})";if($Df)$Cf.=" (".implode(",",$Df)."\n)";elseif($F["partitions"])$Cf.=" PARTITIONS ".(int)$F["partitions"];}}elseif(preg_match("~partitioned~",$R["Create_options"]))$Cf.="\nREMOVE PARTITIONING";}$C=lang(170);if($b==""){cookie("adminer_engine",$K["Engine"]);$C=lang(171);}$D=trim($K["name"]);queries_redirect(ME.(support("table")?"table=":"select=").urlencode($D),$C,alter_table($b,$D,($w=="sqlite"&&($ni||$Vc)?$za:$n),$Vc,($K["Comment"]!=$R["Comment"]?$K["Comment"]:null),($K["Engine"]&&$K["Engine"]!=$R["Engine"]?$K["Engine"]:""),($K["Collation"]&&$K["Collation"]!=$R["Collation"]?$K["Collation"]:""),($K["Auto_increment"]!=""?number($K["Auto_increment"]):""),$Cf));}}page_header(($b!=""?lang(40):lang(75)),$l,array("table"=>$b),h($b));if(!$_POST){$K=array("Engine"=>$_COOKIE["adminer_engine"],"fields"=>array(array("field"=>"","type"=>(isset($bi["int"])?"int":(isset($bi["integer"])?"integer":"")),"on_update"=>"")),"partition_names"=>array(""),);if($b!=""){$K=$R;$K["name"]=$b;$K["fields"]=array();if(!$_GET["auto_increment"])$K["Auto_increment"]="";foreach($qf as$m){$m["has_default"]=isset($m["default"]);$K["fields"][]=$m;}if(support("partitioning")){$K+=get_partitions_info($b);$K["partition_names"][]="";$K["partition_values"][]="";}}}$ib=collations();$uc=engines();foreach($uc as$tc){if(!strcasecmp($tc,$K["Engine"])){$K["Engine"]=$tc;break;}}echo'
<form action="" method="post" id="form">
<p>
';if(support("columns")||$b==""){echo lang(172),': <input name="name" data-maxlength="64" value="',h($K["name"]),'" autocapitalize="off" ',($b==""&&!$_POST)?"autofocus":"",'>
',($uc?"<select name='Engine'>".optionlist(array(""=>"(".lang(173).")")+$uc,$K["Engine"])."</select>".help_script_command("value",true):""),' ',($ib&&!preg_match("~sqlite|mssql~",$w)?html_select("Collation",array(""=>"(".lang(102).")")+$ib,$K["Collation"]):""),' <input type="submit" value="',lang(14),'">
';}echo'
';if(support("columns")){echo'<div class="scrollable">
<table cellspacing="0" id="edit-fields" class="nowrap">
';edit_fields($K["fields"],$ib,"TABLE",$Xc);echo'</table>
',script("editFields();"),'</div>
<p>
',lang(47),': <input type="number" name="Auto_increment" size="6" value="',h($K["Auto_increment"]),'">
';$ob=($_POST?$_POST["comments"]:adminer_setting("comments"));echo(support("comment")?checkbox("comments",1,$ob,lang(46),"editingCommentsClick(this, true);","jsonly").' '.(preg_match('~\n~',$K["Comment"])?"<textarea name='Comment' rows='2' cols='20'".($ob?"":" class='hidden'").">".h($K["Comment"])."</textarea>":'<input name="Comment" value="'.h($K["Comment"]).'" data-maxlength="'.(min_version(5.5)?2048:60).'"'.($ob?"":" class='hidden'").'>'):''),'<p>
<input type="submit" value="',lang(14),'">
';}echo'
';if($b!=""){echo'<input type="submit" name="drop" value="',lang(127),'">',confirm(lang(174,$b));}if(support("partitioning")){$Bf=preg_match('~RANGE|LIST~',$K["partition_by"]);print_fieldset("partition",lang(131),$K["partition_by"]);echo'<p>
',"<select name='partition_by'>".optionlist(array(""=>"")+$_f,$K["partition_by"])."</select>".help_script_command("value.replace(/./, 'PARTITION BY \$&')",true).script("qsl('select').onchange = partitionByChange;"),'(<input name="partition" value="',h($K["partition"]),'">)
',lang(49),': <input type="number" name="partitions" class="size',($Bf||!$K["partition_by"]?" hidden":""),'" value="',h($K["partitions"]),'">
<table cellspacing="0" id="partition-table"',($Bf?"":" class='hidden'"),'>
<thead><tr><th>',lang(175),'<th>',lang(51),'</thead>
';foreach($K["partition_names"]as$x=>$X){echo'<tr>','<td><input name="partition_names[]" value="'.h($X).'" autocapitalize="off">',($x==count($K["partition_names"])-1?script("qsl('input').oninput = partitionNameChange;"):''),'<td><input name="partition_values[]" value="'.h($K["partition_values"][$x]).'">';}echo'</table>
</div></fieldset>
';}echo'<input type="hidden" name="token" value="',$T,'">
</form>
';}elseif(isset($_GET["indexes"])){$b=$_GET["indexes"];$Bd=array("PRIMARY","UNIQUE","INDEX");$R=table_status($b,true);if(preg_match('~MyISAM|M?aria'.(min_version(5.6,'10.0.5')?'|InnoDB':'').'~i',$R["Engine"]))$Bd[]="FULLTEXT";if(preg_match('~MyISAM|M?aria'.(min_version(5.7,'10.2.2')?'|InnoDB':'').'~i',$R["Engine"]))$Bd[]="SPATIAL";$v=indexes($b);$Uf=array();if($w=="mongo"){$Uf=$v["_id_"];unset($Bd[0]);unset($v["_id_"]);}$K=$_POST;if($_POST&&!$l&&!$_POST["add"]&&!$_POST["drop_col"]){$_a=array();foreach($K["indexes"]as$u){$D=$u["name"];if(in_array($u["type"],$Bd)){$e=array();$he=array();$Vb=array();$O=array();ksort($u["columns"]);foreach($u["columns"]as$x=>$d){if($d!=""){$ge=$u["lengths"][$x];$Ub=$u["descs"][$x];$O[]=idf_escape($d).($ge?"(".(+$ge).")":"").($Ub?" DESC":"");$e[]=$d;$he[]=($ge?$ge:null);$Vb[]=$Ub;}}if($e){$Cc=$v[$D];if($Cc){ksort($Cc["columns"]);ksort($Cc["lengths"]);ksort($Cc["descs"]);if($u["type"]==$Cc["type"]&&array_values($Cc["columns"])===$e&&(!$Cc["lengths"]||array_values($Cc["lengths"])===$he)&&array_values($Cc["descs"])===$Vb){unset($v[$D]);continue;}}$_a[]=array($u["type"],$D,$O);}}}foreach($v as$D=>$Cc)$_a[]=array($Cc["type"],$D,"DROP");if(!$_a)redirect(ME."table=".urlencode($b));queries_redirect(ME."table=".urlencode($b),lang(176),alter_indexes($b,$_a));}page_header(lang(132),$l,array("table"=>$b),h($b));$n=array_keys(fields($b));if($_POST["add"]){foreach($K["indexes"]as$x=>$u){if($u["columns"][count($u["columns"])]!="")$K["indexes"][$x]["columns"][]="";}$u=end($K["indexes"]);if($u["type"]||array_filter($u["columns"],'strlen'))$K["indexes"][]=array("columns"=>array(1=>""));}if(!$K){foreach($v as$x=>$u){$v[$x]["name"]=$x;$v[$x]["columns"][]="";}$v[]=array("columns"=>array(1=>""));$K["indexes"]=$v;}echo'
<form action="" method="post">
<div class="scrollable">
<table cellspacing="0" class="nowrap">
<thead><tr>
<th id="label-type">',lang(177),'<th><input type="submit" class="wayoff">',lang(52),'<th id="label-name">',lang(178),'<th><noscript>',"<input type='image' class='icon' name='add[0]' src='".h(preg_replace("~\\?.*~","",ME)."?file=plus.gif&version=76e6da53")."' alt='+' title='".lang(109)."'>",'</noscript>
</thead>
';if($Uf){echo"<tr><td>PRIMARY<td>";foreach($Uf["columns"]as$x=>$d){echo select_input(" disabled",$n,$d),"<label><input disabled type='checkbox'>".lang(60)."</label> ";}echo"<td><td>\n";}$Qd=1;foreach($K["indexes"]as$u){if(!$_POST["drop_col"]||$Qd!=key($_POST["drop_col"])){echo"<tr><td>".html_select("indexes[$Qd][type]",array(-1=>"")+$Bd,$u["type"],($Qd==count($K["indexes"])?"indexesAddRow.call(this);":1),"label-type"),"<td>";ksort($u["columns"]);$s=1;foreach($u["columns"]as$x=>$d){echo"<span>".select_input(" name='indexes[$Qd][columns][$s]' title='".lang(44)."'",($n?array_combine($n,$n):$n),$d,"partial(".($s==count($u["columns"])?"indexesAddColumn":"indexesChangeColumn").", '".js_escape($w=="sql"?"":$_GET["indexes"]."_")."')"),($w=="sql"||$w=="mssql"?"<input type='number' name='indexes[$Qd][lengths][$s]' class='size' value='".h($u["lengths"][$x])."' title='".lang(107)."'>":""),(support("descidx")?checkbox("indexes[$Qd][descs][$s]",1,$u["descs"][$x],lang(60)):"")," </span>";$s++;}echo"<td><input name='indexes[$Qd][name]' value='".h($u["name"])."' autocapitalize='off' aria-labelledby='label-name'>\n","<td><input type='image' class='icon' name='drop_col[$Qd]' src='".h(preg_replace("~\\?.*~","",ME)."?file=cross.gif&version=76e6da53")."' alt='x' title='".lang(56)."'>".script("qsl('input').onclick = partial(editingRemoveRow, 'indexes\$1[type]');");}$Qd++;}echo'</table>
</div>
<p>
<input type="submit" value="',lang(14),'">
<input type="hidden" name="token" value="',$T,'">
</form>
';}elseif(isset($_GET["database"])){$K=$_POST;if($_POST&&!$l&&!isset($_POST["add_x"])){$D=trim($K["name"]);if($_POST["drop"]){$_GET["db"]="";queries_redirect(remove_from_uri("db|database"),lang(179),drop_databases(array(DB)));}elseif(DB!==$D){if(DB!=""){$_GET["db"]=$D;queries_redirect(preg_replace('~\bdb=[^&]*&~','',ME)."db=".urlencode($D),lang(180),rename_database($D,$K["collation"]));}else{$i=explode("\n",str_replace("\r","",$D));$lh=true;$ae="";foreach($i as$j){if(count($i)==1||$j!=""){if(!create_database($j,$K["collation"]))$lh=false;$ae=$j;}}restart_session();set_session("dbs",null);queries_redirect(ME."db=".urlencode($ae),lang(181),$lh);}}else{if(!$K["collation"])redirect(substr(ME,0,-1));query_redirect("ALTER DATABASE ".idf_escape($D).(preg_match('~^[a-z0-9_]+$~i',$K["collation"])?" COLLATE $K[collation]":""),substr(ME,0,-1),lang(182));}}page_header(DB!=""?lang(68):lang(115),$l,array(),h(DB));$ib=collations();$D=DB;if($_POST)$D=$K["name"];elseif(DB!="")$K["collation"]=db_collation(DB,$ib);elseif($w=="sql"){foreach(get_vals("SHOW GRANTS")as$fd){if(preg_match('~ ON (`(([^\\\\`]|``|\\\\.)*)%`\.\*)?~',$fd,$A)&&$A[1]){$D=stripcslashes(idf_unescape("`$A[2]`"));break;}}}echo'
<form action="" method="post">
<p>
',($_POST["add_x"]||strpos($D,"\n")?'<textarea id="name" name="name" rows="10" cols="40">'.h($D).'</textarea><br>':'<input name="name" id="name" value="'.h($D).'" data-maxlength="64" autocapitalize="off" autofocus>')."\n".($ib?html_select("collation",array(""=>"(".lang(102).")")+$ib,$K["collation"]).'':""),'<input type="submit" value="',lang(14),'">
';if(DB!="")echo"<input type='submit' name='drop' value='".lang(127)."'>".confirm(lang(174,DB))."\n";elseif(!$_POST["add_x"]&&$_GET["db"]=="")echo"<input type='image' class='icon' name='add' src='".h(preg_replace("~\\?.*~","",ME)."?file=plus.gif&version=76e6da53")."' alt='+' title='".lang(109)."'>\n";echo'<input type="hidden" name="token" value="',$T,'">
</form>
';}elseif(isset($_GET["scheme"])){$K=$_POST;if($_POST&&!$l){$z=preg_replace('~ns=[^&]*&~','',ME)."ns=";if($_POST["drop"])query_redirect("DROP SCHEMA ".idf_escape($_GET["ns"]),$z,lang(183));else{$D=trim($K["name"]);$z.=urlencode($D);if($_GET["ns"]=="")query_redirect("CREATE SCHEMA ".idf_escape($D),$z,lang(184));elseif($_GET["ns"]!=$D)query_redirect("ALTER SCHEMA ".idf_escape($_GET["ns"])." RENAME TO ".idf_escape($D),$z,lang(185));else redirect($z);}}page_header($_GET["ns"]!=""?lang(69):lang(70),$l);if(!$K)$K["name"]=$_GET["ns"];echo'
<form action="" method="post">
<p><input name="name" id="name" value="',h($K["name"]),'" autocapitalize="off" autofocus>
<input type="submit" value="',lang(14),'">
';if($_GET["ns"]!="")echo"<input type='submit' name='drop' value='".lang(127)."'>".confirm(lang(174,$_GET["ns"]))."\n";echo'<input type="hidden" name="token" value="',$T,'">
</form>
';}elseif(isset($_GET["call"])){$ca=($_GET["name"]?:$_GET["call"]);page_header(lang(186).": ".h($ca),$l);$xg=routine($_GET["call"],(isset($_GET["callf"])?"FUNCTION":"PROCEDURE"));$_d=array();$tf=array();foreach($xg["fields"]as$s=>$m){if(substr($m["inout"],-3)=="OUT")$tf[$s]="@".idf_escape($m["field"])." AS ".idf_escape($m["field"]);if(!$m["inout"]||substr($m["inout"],0,2)=="IN")$_d[]=$s;}if(!$l&&$_POST){$Ua=array();foreach($xg["fields"]as$x=>$m){if(in_array($x,$_d)){$X=process_input($m);if($X===false)$X="''";if(isset($tf[$x]))$f->query("SET @".idf_escape($m["field"])." = $X");}$Ua[]=(isset($tf[$x])?"@".idf_escape($m["field"]):$X);}$H=(isset($_GET["callf"])?"SELECT":"CALL")." ".table($ca)."(".implode(", ",$Ua).")";$fh=microtime(true);$I=$f->multi_query($H);$ua=$f->affected_rows;echo$c->selectQuery($H,$fh,!$I);if(!$I)echo"<p class='error'>".error()."\n";else{$g=connect();if(is_object($g))$g->select_db(DB);do{$I=$f->store_result();if(is_object($I))select($I,$g);else echo"<p class='message'>".lang(187,$ua)." <span class='time'>".@date("H:i:s")."</span>\n";}while($f->next_result());if($tf)select($f->query("SELECT ".implode(", ",$tf)));}}echo"<form action='' method='post'>\n";if($_d){echo"<table cellspacing='0' class='layout'>\n";foreach($_d as$x){$m=$xg["fields"][$x];$D=$m["field"];echo"<tr><th>".$c->fieldName($m);$Y=$_POST["fields"][$D];if($Y!=""){if($m["type"]=="enum")$Y=+$Y;if($m["type"]=="set")$Y=array_sum($Y);}input($m,$Y,(string)$_POST["function"][$D]);echo"\n";}echo"</table>\n";}echo"<p>","<input type='submit' value='",lang(186),"'>","<input type='hidden' name='token' value='$T'>","</p>\n","</form>\n";$mb=$xg["comment"];if($mb!==null&&$mb!==""){$mb=h(trim($xg["comment"],"\n"));if(preg_match('~^ +~',$mb,$B)){preg_match_all("~^($B[0]|$)~m",$mb,$je);if(count($je[0])==substr_count($mb,"\n"))$mb=preg_replace("~^($B[0])~m","",$mb);}$mb=preg_replace('~(^|[^\n]\n)(Description|Parameters|Example)\n~',"$1\n<strong>$2</strong>\n",$mb);echo"<pre class='comment'>$mb</pre>\n";}}elseif(isset($_GET["foreign"])){$b=$_GET["foreign"];$D=$_GET["name"];$K=$_POST;if($_POST&&!$l&&!$_POST["add"]&&!$_POST["change"]&&!$_POST["change-js"]){$C=($_POST["drop"]?lang(188):($D!=""?lang(189):lang(190)));$_=ME."table=".urlencode($b);if(!$_POST["drop"]){$K["source"]=array_filter($K["source"],'strlen');ksort($K["source"]);$_h=array();foreach($K["source"]as$x=>$X)$_h[$x]=$K["target"][$x];$K["target"]=$_h;}if($w=="sqlite")queries_redirect($_,$C,recreate_table($b,$b,array(),array(),array(" $D"=>($_POST["drop"]?"":" ".format_foreign_key($K)))));else{$_a="ALTER TABLE ".table($b);$dc="\nDROP ".($w=="sql"?"FOREIGN KEY ":"CONSTRAINT ").idf_escape($D);if($_POST["drop"])query_redirect($_a.$dc,$_,$C);else{query_redirect($_a.($D!=""?"$dc,":"")."\nADD".format_foreign_key($K),$_,$C);$l=lang(191)."<br>$l";}}}page_header(lang(192),$l,array("table"=>$b),h($b));if($_POST){ksort($K["source"]);if($_POST["add"])$K["source"][]="";elseif($_POST["change"]||$_POST["change-js"])$K["target"]=array();}elseif($D!=""){$Xc=foreign_keys($b);$K=$Xc[$D];$K["source"][]="";}else{$K["table"]=$b;$K["source"]=array("");}echo'
<form action="" method="post">
';$Zg=array_keys(fields($b));if($K["db"]!="")$f->select_db($K["db"]);if($K["ns"]!="")set_schema($K["ns"]);$kg=array_keys(array_filter(table_status('',true),'fk_support'));$_h=array_keys(fields(in_array($K["table"],$kg)?$K["table"]:reset($kg)));$Ze="this.form['change-js'].value = '1'; this.form.submit();";echo"<p>".lang(193).": ".html_select("table",$kg,$K["table"],$Ze)."\n";if($w=="pgsql")echo lang(76).": ".html_select("ns",$c->schemas(),$K["ns"]!=""?$K["ns"]:$_GET["ns"],$Ze);elseif($w!="sqlite"){$Nb=array();foreach($c->databases()as$j){if(!information_schema($j))$Nb[]=$j;}echo lang(194).": ".html_select("db",$Nb,$K["db"]!=""?$K["db"]:$_GET["db"],$Ze);}echo'<input type="hidden" name="change-js" value="">
<noscript><p><input type="submit" name="change" value="',lang(195),'"></noscript>
<table cellspacing="0">
<thead><tr><th id="label-source">',lang(134),'<th id="label-target">',lang(135),'</thead>
';$Qd=0;foreach($K["source"]as$x=>$X){echo"<tr>","<td>".html_select("source[".(+$x)."]",array(-1=>"")+$Zg,$X,($Qd==count($K["source"])-1?"foreignAddRow.call(this);":1),"label-source"),"<td>".html_select("target[".(+$x)."]",$_h,$K["target"][$x],1,"label-target");$Qd++;}echo'</table>
<p>
',lang(104),': ',html_select("on_delete",array(-1=>"")+explode("|",$Ye),$K["on_delete"]),' ',lang(103),': ',html_select("on_update",array(-1=>"")+explode("|",$Ye),$K["on_update"]),doc_link(array('pgsql'=>"sql-createtable.html#SQL-CREATETABLE-REFERENCES",)),'<p>
<input type="submit" value="',lang(14),'">
<noscript><p><input type="submit" name="add" value="',lang(196),'"></noscript>
';if($D!=""){echo'<input type="submit" name="drop" value="',lang(127),'">',confirm(lang(174,$D));}echo'<input type="hidden" name="token" value="',$T,'">
</form>
';}elseif(isset($_GET["view"])){$b=$_GET["view"];$K=$_POST;$rf="VIEW";if($w=="pgsql"&&$b!=""){$P=table_status($b);$rf=strtoupper($P["Engine"]);}if($_POST&&!$l){$D=trim($K["name"]);$Ca=" AS\n$K[select]";$_=ME."table=".urlencode($D);$C=lang(197);$U=($_POST["materialized"]?"MATERIALIZED VIEW":"VIEW");if(!$_POST["drop"]&&$b==$D&&$w!="sqlite"&&$U=="VIEW"&&$rf=="VIEW")query_redirect(($w=="mssql"?"ALTER":"CREATE OR REPLACE")." VIEW ".table($D).$Ca,$_,$C);else{$Bh=$D."_adminer_".uniqid();drop_create("DROP $rf ".table($b),"CREATE $U ".table($D).$Ca,"DROP $U ".table($D),"CREATE $U ".table($Bh).$Ca,"DROP $U ".table($Bh),($_POST["drop"]?substr(ME,0,-1):$_),lang(198),$C,lang(199),$b,$D);}}if(!$_POST&&$b!=""){$K=view($b);$K["name"]=$b;$K["materialized"]=($rf!="VIEW");if(!$l)$l=error();}page_header(($b!=""?lang(39):lang(200)),$l,array("table"=>$b),h($b));echo'
<form action="" method="post">
<p>',lang(178),': <input name="name" value="',h($K["name"]),'" data-maxlength="64" autocapitalize="off">
',(support("materializedview")?" ".checkbox("materialized",1,$K["materialized"],lang(129)):""),'<p>';textarea("select",$K["select"]);echo'<p>
<input type="submit" value="',lang(14),'">
';if($b!=""){echo'<input type="submit" name="drop" value="',lang(127),'">',confirm(lang(174,$b));}echo'<input type="hidden" name="token" value="',$T,'">
</form>
';}elseif(isset($_GET["event"])){$aa=$_GET["event"];$Jd=array("YEAR","QUARTER","MONTH","DAY","HOUR","MINUTE","WEEK","SECOND","YEAR_MONTH","DAY_HOUR","DAY_MINUTE","DAY_SECOND","HOUR_MINUTE","HOUR_SECOND","MINUTE_SECOND");$gh=array("ENABLED"=>"ENABLE","DISABLED"=>"DISABLE","SLAVESIDE_DISABLED"=>"DISABLE ON SLAVE");$K=$_POST;if($_POST&&!$l){if($_POST["drop"])query_redirect("DROP EVENT ".idf_escape($aa),substr(ME,0,-1),lang(201));elseif(in_array($K["INTERVAL_FIELD"],$Jd)&&isset($gh[$K["STATUS"]])){$Ag="\nON SCHEDULE ".($K["INTERVAL_VALUE"]?"EVERY ".q($K["INTERVAL_VALUE"])." $K[INTERVAL_FIELD]".($K["STARTS"]?" STARTS ".q($K["STARTS"]):"").($K["ENDS"]?" ENDS ".q($K["ENDS"]):""):"AT ".q($K["STARTS"]))." ON COMPLETION".($K["ON_COMPLETION"]?"":" NOT")." PRESERVE";queries_redirect(substr(ME,0,-1),($aa!=""?lang(202):lang(203)),queries(($aa!=""?"ALTER EVENT ".idf_escape($aa).$Ag.($aa!=$K["EVENT_NAME"]?"\nRENAME TO ".idf_escape($K["EVENT_NAME"]):""):"CREATE EVENT ".idf_escape($K["EVENT_NAME"]).$Ag)."\n".$gh[$K["STATUS"]]." COMMENT ".q($K["EVENT_COMMENT"]).rtrim(" DO\n$K[EVENT_DEFINITION]",";").";"));}}page_header(($aa!=""?lang(204).": ".h($aa):lang(205)),$l);if(!$K&&$aa!=""){$L=get_rows("SELECT * FROM information_schema.EVENTS WHERE EVENT_SCHEMA = ".q(DB)." AND EVENT_NAME = ".q($aa));$K=reset($L);}echo'
<form action="" method="post">
<table cellspacing="0" class="layout">
<tr><th>',lang(178),'<td><input name="EVENT_NAME" value="',h($K["EVENT_NAME"]),'" data-maxlength="64" autocapitalize="off">
<tr><th title="datetime">',lang(206),'<td><input name="STARTS" value="',h("$K[EXECUTE_AT]$K[STARTS]"),'">
<tr><th title="datetime">',lang(207),'<td><input name="ENDS" value="',h($K["ENDS"]),'">
<tr><th>',lang(208),'<td><input type="number" name="INTERVAL_VALUE" value="',h($K["INTERVAL_VALUE"]),'" class="size"> ',html_select("INTERVAL_FIELD",$Jd,$K["INTERVAL_FIELD"]),'<tr><th>',lang(118),'<td>',html_select("STATUS",$gh,$K["STATUS"]),'<tr><th>',lang(46),'<td><input name="EVENT_COMMENT" value="',h($K["EVENT_COMMENT"]),'" data-maxlength="64">
<tr><th><td>',checkbox("ON_COMPLETION","PRESERVE",$K["ON_COMPLETION"]=="PRESERVE",lang(209)),'</table>
<p>';textarea("EVENT_DEFINITION",$K["EVENT_DEFINITION"]);echo'<p>
<input type="submit" value="',lang(14),'">
';if($aa!=""){echo'<input type="submit" name="drop" value="',lang(127),'">',confirm(lang(174,$aa));}echo'<input type="hidden" name="token" value="',$T,'">
</form>
';}elseif(isset($_GET["procedure"])){$ca=($_GET["name"]?$_GET["name"]:$_GET["procedure"]);$xg=(isset($_GET["function"])?"FUNCTION":"PROCEDURE");$K=$_POST;$K["fields"]=(array)$K["fields"];if($_POST&&!process_fields($K["fields"])&&!$l){$of=routine($_GET["procedure"],$xg);$Bh="$K[name]_adminer_".uniqid();drop_create("DROP $xg ".routine_id($ca,$of),create_routine($xg,$K),"DROP $xg ".routine_id($K["name"],$K),create_routine($xg,array("name"=>$Bh)+$K),"DROP $xg ".routine_id($Bh,$K),substr(ME,0,-1),lang(210),lang(211),lang(212),$ca,$K["name"]);}page_header(($ca!=""?(isset($_GET["function"])?lang(213):lang(214)).": ".h($ca):(isset($_GET["function"])?lang(215):lang(216))),$l);if(!$_POST&&$ca!=""){$K=routine($_GET["procedure"],$xg);$K["name"]=$ca;}$ib=get_vals("SHOW CHARACTER SET");sort($ib);$yg=routine_languages();echo'
<form action="" method="post" id="form">
<p>',lang(178),': <input name="name" value="',h($K["name"]),'" data-maxlength="64" autocapitalize="off">
',($yg?lang(19).": ".html_select("language",$yg,$K["language"])."\n":""),'<input type="submit" value="',lang(14),'">
<div class="scrollable">
<table cellspacing="0" class="nowrap" id="edit-fields">
';edit_fields($K["fields"],$ib,$xg);if(isset($_GET["function"])){echo"<tbody><tr>",(support("move_col")?"<th></th>":""),"<th>",lang(217),"</th>";edit_type("returns",$K["returns"],$ib,array(),($w=="pgsql"?array("void","trigger"):array()));echo"<td></td></tr></tbody>\n";}echo'</table>
',script("editFields();"),'</div>
<p>';textarea("definition",$K["definition"]);echo'<p>
<input type="submit" value="',lang(14),'">
';if($ca!=""){echo'<input type="submit" name="drop" value="',lang(127),'">',confirm(lang(174,$ca));}echo'<input type="hidden" name="token" value="',$T,'">
</form>
';}elseif(isset($_GET["sequence"])){$ea=$_GET["sequence"];$K=$_POST;if($_POST&&!$l){$z=substr(ME,0,-1);$D=trim($K["name"]);if($_POST["drop"])query_redirect("DROP SEQUENCE ".idf_escape($ea),$z,lang(218));elseif($ea=="")query_redirect("CREATE SEQUENCE ".idf_escape($D),$z,lang(219));elseif($ea!=$D)query_redirect("ALTER SEQUENCE ".idf_escape($ea)." RENAME TO ".idf_escape($D),$z,lang(220));else redirect($z);}page_header($ea!=""?lang(221).": ".h($ea):lang(222),$l);if(!$K)$K["name"]=$ea;echo'
<form action="" method="post">
<p><input name="name" value="',h($K["name"]),'" autocapitalize="off">
<input type="submit" value="',lang(14),'">
';if($ea!="")echo"<input type='submit' name='drop' value='".lang(127)."'>".confirm(lang(174,$ea))."\n";echo'<input type="hidden" name="token" value="',$T,'">
</form>
';}elseif(isset($_GET["type"])){$fa=$_GET["type"];$K=$_POST;if($_POST&&!$l){$z=substr(ME,0,-1);if($_POST["drop"])query_redirect("DROP TYPE ".idf_escape($fa),$z,lang(223));else query_redirect("CREATE TYPE ".idf_escape(trim($K["name"]))." $K[as]",$z,lang(224));}page_header($fa!=""?lang(225).": ".h($fa):lang(226),$l);if(!$K)$K["as"]="AS ";echo'
<form action="" method="post">
<p>
';if($fa!="")echo"<input type='submit' name='drop' value='".lang(127)."'>".confirm(lang(174,$fa))."\n";else{echo"<input name='name' value='".h($K['name'])."' autocapitalize='off'>\n";textarea("as",$K["as"]);echo"<p><input type='submit' value='".lang(14)."'>\n";}echo'<input type="hidden" name="token" value="',$T,'">
</form>
';}elseif(isset($_GET["trigger"])){$b=$_GET["trigger"];$D=$_GET["name"];$Yh=trigger_options();$K=(array)trigger($D,$b)+array("Trigger"=>$b."_bi");if($_POST){if(!$l&&in_array($_POST["Timing"],$Yh["Timing"])&&in_array($_POST["Event"],$Yh["Event"])&&in_array($_POST["Type"],$Yh["Type"])){$Xe=" ON ".table($b);$dc="DROP TRIGGER ".idf_escape($D).($w=="pgsql"?$Xe:"");$_=ME."table=".urlencode($b);if($_POST["drop"])query_redirect($dc,$_,lang(227));else{if($D!="")queries($dc);queries_redirect($_,($D!=""?lang(228):lang(229)),queries(create_trigger($Xe,$_POST)));if($D!="")queries(create_trigger($Xe,$K+array("Type"=>reset($Yh["Type"]))));}}$K=$_POST;}page_header(($D!=""?lang(230).": ".h($D):lang(231)),$l,array("table"=>$b));echo'
<form action="" method="post" id="form">
<table cellspacing="0" class="layout">
<tr><th>',lang(232),'<td>',html_select("Timing",$Yh["Timing"],$K["Timing"],"triggerChange(/^".preg_quote($b,"/")."_[ba][iud]$/, '".js_escape($b)."', this.form);"),'<tr><th>',lang(233),'<td>',html_select("Event",$Yh["Event"],$K["Event"],"this.form['Timing'].onchange();"),(in_array("UPDATE OF",$Yh["Event"])?" <input name='Of' value='".h($K["Of"])."' class='hidden'>":""),'<tr><th>',lang(45),'<td>',html_select("Type",$Yh["Type"],$K["Type"]),'</table>
<p>',lang(178),': <input name="Trigger" value="',h($K["Trigger"]),'" data-maxlength="64" autocapitalize="off">
',script("gid('form')['Timing'].onchange();"),'<p>';textarea("Statement",$K["Statement"]);echo'<p>
<input type="submit" value="',lang(14),'">
';if($D!=""){echo'<input type="submit" name="drop" value="',lang(127),'">',confirm(lang(174,$D));}echo'<input type="hidden" name="token" value="',$T,'">
</form>
';}elseif(isset($_GET["user"])){$ga=$_GET["user"];$Yf=array(""=>array("All privileges"=>""));foreach(get_rows("SHOW PRIVILEGES")as$K){foreach(explode(",",($K["Privilege"]=="Grant option"?"":$K["Context"]))as$Ab)$Yf[$Ab][$K["Privilege"]]=$K["Comment"];}$Yf["Server Admin"]+=$Yf["File access on server"];$Yf["Databases"]["Create routine"]=$Yf["Procedures"]["Create routine"];unset($Yf["Procedures"]["Create routine"]);$Yf["Columns"]=array();foreach(array("Select","Insert","Update","References")as$X)$Yf["Columns"][$X]=$Yf["Tables"][$X];unset($Yf["Server Admin"]["Usage"]);foreach($Yf["Tables"]as$x=>$X)unset($Yf["Databases"][$x]);$Ie=array();if($_POST){foreach($_POST["objects"]as$x=>$X)$Ie[$X]=(array)$Ie[$X]+(array)$_POST["grants"][$x];}$hd=array();$Ve="";if(isset($_GET["host"])&&($I=$f->query("SHOW GRANTS FOR ".q($ga)."@".q($_GET["host"])))){while($K=$I->fetch_row()){if(preg_match('~GRANT (.*) ON (.*) TO ~',$K[0],$A)&&preg_match_all('~ *([^(,]*[^ ,(])( *\([^)]+\))?~',$A[1],$B,PREG_SET_ORDER)){foreach($B as$X){if($X[1]!="USAGE")$hd["$A[2]$X[2]"][$X[1]]=true;if(preg_match('~ WITH GRANT OPTION~',$K[0]))$hd["$A[2]$X[2]"]["GRANT OPTION"]=true;}}if(preg_match("~ IDENTIFIED BY PASSWORD '([^']+)~",$K[0],$A))$Ve=$A[1];}}if($_POST&&!$l){$We=(isset($_GET["host"])?q($ga)."@".q($_GET["host"]):"''");if($_POST["drop"])query_redirect("DROP USER $We",ME."privileges=",lang(234));else{$Ke=q($_POST["user"])."@".q($_POST["host"]);$Gf=$_POST["pass"];if($Gf!=''&&!$_POST["hashed"]&&!min_version(8)){$Gf=$f->result("SELECT PASSWORD(".q($Gf).")");$l=!$Gf;}$Db=false;if(!$l){if($We!=$Ke){$Db=queries((min_version(5)?"CREATE USER":"GRANT USAGE ON *.* TO")." $Ke IDENTIFIED BY ".(min_version(8)?"":"PASSWORD ").q($Gf));$l=!$Db;}elseif($Gf!=$Ve)queries("SET PASSWORD FOR $Ke = ".q($Gf));}if(!$l){$ug=array();foreach($Ie as$Qe=>$fd){if(isset($_GET["grant"]))$fd=array_filter($fd);$fd=array_keys($fd);if(isset($_GET["grant"]))$ug=array_diff(array_keys(array_filter($Ie[$Qe],'strlen')),$fd);elseif($We==$Ke){$Te=array_keys((array)$hd[$Qe]);$ug=array_diff($Te,$fd);$fd=array_diff($fd,$Te);unset($hd[$Qe]);}if(preg_match('~^(.+)\s*(\(.*\))?$~U',$Qe,$A)&&(!grant(false,$ug,$A[2],$A[1],$Ke)||!grant(true,$fd,$A[2],$A[1],$Ke))){$l=true;break;}}}if(!$l&&isset($_GET["host"])){if($We!=$Ke)queries("DROP USER $We");elseif(!isset($_GET["grant"])){foreach($hd as$Qe=>$ug){if(preg_match('~^(.+)(\(.*\))?$~U',$Qe,$A))grant(false,array_keys($ug),$A[2],$A[1],$Ke);}}}queries_redirect(ME."privileges=",(isset($_GET["host"])?lang(235):lang(236)),!$l);if($Db)$f->query("DROP USER $Ke");}}page_header((isset($_GET["host"])?lang(31).": ".h("$ga@$_GET[host]"):lang(146)),$l,array("privileges"=>array('',lang(72))));if($_POST){$K=$_POST;$hd=$Ie;}else{$K=$_GET+array("host"=>$f->result("SELECT SUBSTRING_INDEX(CURRENT_USER, '@', -1)"));$K["pass"]=$Ve;if($Ve!="")$K["hashed"]=true;if($hd)$hd[".*"]=[];elseif(DB!="")$hd[idf_escape(addcslashes(DB,"%_\\")).".*"]=[];else$hd["*.* "]=[];}echo'<form action="" method="post">
<table cellspacing="0" class="layout">
<tr><th>',lang(30),'<td><input name="host" data-maxlength="60" value="',h($K["host"]),'" autocapitalize="off">
<tr><th>',lang(31),'<td><input name="user" data-maxlength="80" value="',h($K["user"]),'" autocapitalize="off">
<tr><th>',lang(32),'<td><input name="pass" id="pass" value="',h($K["pass"]),'" autocomplete="new-password">
';if(!$K["hashed"])echo script("typePassword(gid('pass'));");echo(min_version(8)?"":checkbox("hashed",1,$K["hashed"],lang(237),"typePassword(this.form['pass'], this.checked);")),'</table>

';echo"<table>\n","<thead><tr><th colspan='2'>".lang(72).''."</th>";$s=0;foreach($hd as$Qe=>$fd){echo"<th>";if($Qe=="*.*")echo"<input type='hidden' name='objects[$s]' value='*.*' size='10'>*.*";else echo"<input name='objects[$s]' value='".h(trim($Qe))."' size='10' autocapitalize='off'>";echo"</th>";$s++;}echo"</tr></thead>\n";foreach([""=>"","Server Admin"=>lang(30),"Databases"=>lang(33),"Tables"=>lang(77),"Columns"=>lang(44),"Procedures"=>lang(238),]as$Ab=>$Ub){foreach((array)$Yf[$Ab]as$Xf=>$mb){echo"<tr".odd().">";if($Ub)echo"<td>$Ub</td>";echo"<td".(!$Ub?" colspan='2'":"").' lang="en" title="'.h($mb).'">'.h($Xf)."</td>";$s=0;foreach($hd as$Qe=>$fd){$D="'grants[$s][".h(strtoupper($Xf))."]'";$Y=$fd[strtoupper($Xf)];$bg=strpos($Qe,"@")!==false;$He=$Qe==".*";$ya=$Xf=="All privileges";$gd=$Xf=="Grant option";if($Qe=="*.*"&&$Xf=="Proxy")echo"<td></td>";elseif($bg&&$Xf!="Proxy"&&!$gd)echo"<td></td>";elseif($Ab=="Server Admin"&&$Qe!=(isset($hd["*.*"])?"*.*":".*")&&!(($bg||$He)&&$Xf=="Proxy"))echo"<td></td>";elseif(isset($_GET["grant"]))echo"<td><select name=$D>"."<option></option>"."<option value='1'".($Y?" selected":"").">".lang(239)."</option>"."<option value='0'".($Y=="0"?" selected":"").">".lang(240)."</option>"."</select></td>";else{echo"<td class='center'><label class='block'>","<input type='checkbox' name=$D value='1'".($Y?" checked":"").($ya?" id='grants-$s-all'":(!$gd?" class='grants-$s'":"")).">";if($ya)echo script("qsl('input').onclick = function () { if (this.checked) formUncheckAll('.grants-$s'); };");elseif(!$gd)echo script("qsl('input').onclick = function () { if (this.checked) formUncheck('grants-$s-all'); };");echo"</label>";}$s++;}echo"</tr>";}}echo"</table>\n",'<p>
<input type="submit" value="',lang(14),'">
';if(isset($_GET["host"])){echo'<input type="submit" name="drop" value="',lang(127),'">',confirm(lang(174,"$ga@$_GET[host]"));}echo'<input type="hidden" name="token" value="',$T,'">
</form>
';}elseif(isset($_GET["processlist"])){if(support("kill")){if($_POST&&!$l){$Ud=0;foreach((array)$_POST["kill"]as$X){if(kill_process($X))$Ud++;}queries_redirect(ME."processlist=",lang(241,$Ud),$Ud||!$_POST["kill"]);}}page_header(lang(116),$l);echo'
<form action="" method="post">
<div class="scrollable">
<table cellspacing="0" class="nowrap checkable">
',script("mixin(qsl('table'), {onclick: tableClick, ondblclick: partialArg(tableClick, true)});");$s=-1;foreach(process_list()as$s=>$K){if(!$s){echo"<thead><tr lang='en'>".(support("kill")?"<th>":"");foreach($K as$x=>$X)echo"<th>$x".doc_link(array('pgsql'=>"monitoring-stats.html#PG-STAT-ACTIVITY-VIEW",));echo"</thead>\n";}echo"<tr".odd().">".(support("kill")?"<td>".checkbox("kill[]",$K[$w=="sql"?"Id":"pid"],0):"");foreach($K as$x=>$X)echo"<td>".(($w=="sql"&&$x=="Info"&&preg_match("~Query|Killed~",$K["Command"])&&$X!="")||($w=="pgsql"&&$x=="current_query"&&$X!="<IDLE>")||($w=="oracle"&&$x=="sql_text"&&$X!="")?"<code class='jush-$w'>".shorten_utf8($X,100,"</code>").' <a href="'.h(ME.($K["db"]!=""?"db=".urlencode($K["db"])."&":"")."sql=".urlencode($X)).'">'.lang(242).'</a>':h($X));echo"\n";}echo'</table>
</div>
<p>
';if(support("kill")){echo($s+1)."/".lang(243,max_connections()),"<p><input type='submit' value='".lang(244)."'>\n";}echo'<input type="hidden" name="token" value="',$T,'">
</form>
',script("tableCheck();");}elseif(isset($_GET["select"])){$b=$_GET["select"];$R=table_status1($b);$v=indexes($b);$n=fields($b);$Xc=column_foreign_keys($b);$Se=$R["Oid"];parse_str($_COOKIE["adminer_import"],$ta);$vg=array();$e=array();$Eg=array();$kf=array();$Fh=null;foreach($n as$x=>$m){$D=$c->fieldName($m);if(isset($m["privileges"]["select"])&&$D!=""){$e[$x]=html_entity_decode(strip_tags($D),ENT_QUOTES);if(is_shortable($m))$Fh=$c->selectLengthProcess();}if(isset($m["privileges"]["where"])&&$D!="")$Eg[$x]=html_entity_decode(strip_tags($D),ENT_QUOTES);if(isset($m["privileges"]["order"])&&$D!="")$kf[$x]=html_entity_decode(strip_tags($D),ENT_QUOTES);$vg+=$m["privileges"];}list($M,$r)=$c->selectColumnsProcess($e,$v);$Nd=count($r)<count($M);$Z=$c->selectSearchProcess($n,$v);$jf=$c->selectOrderProcess($n,$v);$y=$c->selectLimitProcess();if($_GET["val"]&&is_ajax()){header("Content-Type: text/plain; charset=utf-8");foreach($_GET["val"]as$fi=>$K){$Ca=convert_field($n[key($K)]);$M=array($Ca?$Ca:idf_escape(key($K)));$Z[]=where_check($fi,$n);$J=$k->select($b,$M,$Z,$M);if($J)echo reset($J->fetch_row());}exit;}$Uf=$hi=null;foreach($v as$u){if($u["type"]=="PRIMARY"){$Uf=array_flip($u["columns"]);$hi=($M?$Uf:array());foreach($hi as$x=>$X){if(in_array(idf_escape($x),$M))unset($hi[$x]);}break;}}if($Se&&!$Uf){$Uf=$hi=array($Se=>0);$v[]=array("type"=>"PRIMARY","columns"=>array($Se));}if($_POST&&!$l){$Fi=$Z;if(!$_POST["all"]&&is_array($_POST["check"])){$Za=array();foreach($_POST["check"]as$Wa)$Za[]=where_check($Wa,$n);$Fi[]="((".implode(") OR (",$Za)."))";}$Fi=($Fi?"\nWHERE ".implode(" AND ",$Fi):"");if($_POST["export"]){cookie("adminer_import","output=".urlencode($_POST["output"])."&format=".urlencode($_POST["format"]));dump_headers($b);$c->dumpTable($b,"");$cd=($M?implode(", ",$M):"*").convert_fields($e,$n,$M)."\nFROM ".table($b);$jd=($r&&$Nd?"\nGROUP BY ".implode(", ",$r):"").($jf?"\nORDER BY ".implode(", ",$jf):"");if(!is_array($_POST["check"])||$Uf)$H="SELECT $cd$Fi$jd";else{$di=array();foreach($_POST["check"]as$X)$di[]="(SELECT".limit($cd,"\nWHERE ".($Z?implode(" AND ",$Z)." AND ":"").where_check($X,$n).$jd,1).")";$H=implode(" UNION ALL ",$di);}$c->dumpData($b,"table",$H);exit;}if(!$c->selectEmailProcess($Z,$Xc)){if($_POST["save"]||$_POST["delete"]){$I=true;$ua=0;$O=array();if(!$_POST["delete"]){foreach($e as$D=>$X){$X=process_input($n[$D]);if($X!==null&&($_POST["clone"]||$X!==false))$O[idf_escape($D)]=($X!==false?$X:idf_escape($D));}}if($_POST["delete"]||$O){if($_POST["clone"])$H="INTO ".table($b)." (".implode(", ",array_keys($O)).")\nSELECT ".implode(", ",$O)."\nFROM ".table($b);if($_POST["all"]||($Uf&&is_array($_POST["check"]))||$Nd){$I=($_POST["delete"]?$k->delete($b,$Fi):($_POST["clone"]?queries("INSERT $H$Fi"):$k->update($b,$O,$Fi)));$ua=$f->affected_rows;}else{foreach((array)$_POST["check"]as$X){$Ei="\nWHERE ".($Z?implode(" AND ",$Z)." AND ":"").where_check($X,$n);$I=($_POST["delete"]?$k->delete($b,$Ei,1):($_POST["clone"]?queries("INSERT".limit1($b,$H,$Ei)):$k->update($b,$O,$Ei,1)));if(!$I)break;$ua+=$f->affected_rows;}}}$C=lang(245,$ua);if($_POST["clone"]&&$I&&$ua==1){$be=last_id();if($be)$C=lang(168," $be");}queries_redirect(remove_from_uri($_POST["all"]&&$_POST["delete"]?"page":""),$C,$I);if(!$_POST["delete"]){edit_form($b,$n,(array)$_POST["fields"],!$_POST["clone"]);page_footer();exit;}}elseif(!$_POST["import"]){if(!$_POST["val"])$l=lang(246);else{$I=true;$ua=0;foreach($_POST["val"]as$fi=>$K){$O=array();foreach($K as$x=>$X){$x=bracket_escape($x,1);$O[idf_escape($x)]=(preg_match('~char|text~',$n[$x]["type"])||$X!=""?$c->processInput($n[$x],$X):"NULL");}$I=$k->update($b,$O," WHERE ".($Z?implode(" AND ",$Z)." AND ":"").where_check($fi,$n),!$Nd&&!$Uf," ");if(!$I)break;$ua+=$f->affected_rows;}queries_redirect(remove_from_uri(),lang(245,$ua),$I);}}elseif(!is_string($o=get_file("csv_file",true)))$l=upload_error($o);elseif(!preg_match('~~u',$o))$l=lang(247);else{cookie("adminer_import","output=".urlencode($ta["output"])."&format=".urlencode($_POST["separator"]));$I=true;$jb=array_keys($n);preg_match_all('~(?>"[^"]*"|[^"\r\n]+)+~',$o,$B);$ua=count($B[0]);$k->begin();$Kg=($_POST["separator"]=="csv"?",":($_POST["separator"]=="tsv"?"\t":";"));$L=array();foreach($B[0]as$x=>$X){preg_match_all("~((?>\"[^\"]*\")+|[^$Kg]*)$Kg~",$X.$Kg,$pe);if(!$x&&!array_diff($pe[1],$jb)){$jb=$pe[1];$ua--;}else{$O=array();foreach($pe[1]as$s=>$fb)$O[idf_escape($jb[$s])]=($fb==""&&$n[$jb[$s]]["null"]?"NULL":q(str_replace('""','"',preg_replace('~^"|"$~','',$fb))));$L[]=$O;}}$I=(!$L||$k->insertUpdate($b,$L,$Uf));if($I)$I=$k->commit();queries_redirect(remove_from_uri("page"),lang(248,$ua),$I);$k->rollback();}}}$sh=$c->tableName($R);if(is_ajax()){page_headers();ob_start();}else page_header(lang(53).": $sh",$l);$O=null;if(isset($vg["insert"])||!support("table")){$F=[];foreach((array)$_GET["where"]as$X){if(isset($Xc[$X["col"]])&&count($Xc[$X["col"]])==1&&($X["op"]=="="||(!$X["op"]&&(is_array($X["val"])||!preg_match('~[_%]~',$X["val"])))))$F["set"."[".bracket_escape($X["col"])."]"]=$X["val"];}$O=$F?"&".http_build_query($F):"";}$c->selectLinks($R,$O);if(!$e&&support("table"))echo"<p class='error'>".lang(249).($n?".":": ".error())."\n";else{echo"<form action='' id='form'>\n","<div style='display: none;'>";hidden_fields_get();echo(DB!=""?'<input type="hidden" name="db" value="'.h(DB).'">'.(isset($_GET["ns"])?'<input type="hidden" name="ns" value="'.h($_GET["ns"]).'">':""):"");echo'<input type="hidden" name="select" value="'.h($b).'">','<input type="submit" value="'.h(lang(53)).'">';echo"</div>\n";$c->selectColumnsPrint($M,$e);$c->selectSearchPrint($Z,$Eg,$v);$c->selectOrderPrint($jf,$kf,$v);$c->selectLimitPrint($y);$c->selectLengthPrint($Fh);$c->selectActionPrint($v);echo"</form>\n";$E=$_GET["page"];if($E=="last"){$ad=$f->result(count_rows($b,$Z,$Nd,$r));$E=floor(max(0,$ad-1)/$y);}$Fg=$M;$id=$r;if(!$Fg){$Fg[]="*";$Bb=convert_fields($e,$n,$M);if($Bb)$Fg[]=substr($Bb,2);}foreach($M as$x=>$X){$m=$n[idf_unescape($X)];if($m&&($Ca=convert_field($m)))$Fg[$x]="$Ca AS $X";}if(!$Nd&&$hi){foreach($hi as$x=>$X){$Fg[]=idf_escape($x);if($id)$id[]=idf_escape($x);}}$I=$k->select($b,$Fg,$Z,$id,$jf,$y,$E,true);if(!$I)echo"<p class='error'>".error()."\n";else{if($w=="mssql"&&$E)$I->seek($y*$E);$pc=array();echo"<form action='' method='post' enctype='multipart/form-data'>\n";$L=array();while($K=$I->fetch_assoc()){if($E&&$w=="oracle")unset($K["RNUM"]);$L[]=$K;}if($_GET["page"]!="last"&&$y!=""&&$r&&$Nd&&$w=="sql")$ad=$f->result(" SELECT FOUND_ROWS()");if(!$L)echo"<p class='message'>".lang(12)."\n";else{$Ja=$c->backwardKeys($b,$sh);echo"<div class='scrollable'>","<table id='table' cellspacing='0' class='nowrap checkable'>",script("mixin(gid('table'), {onclick: tableClick, ondblclick: partialArg(tableClick, true), onkeydown: editingKeydown});"),"<thead><tr>".(!$r&&$M?"":"<td><input type='checkbox' id='all-page' class='jsonly'>".script("gid('all-page').onclick = partial(formCheck, /check/);","")." <a href='".h($_GET["modify"]?remove_from_uri("modify"):$_SERVER["REQUEST_URI"]."&modify=1")."'>".lang(250)."</a>");$Ge=array();$dd=array();reset($M);$hg=1;foreach($L[0]as$x=>$X){if(!isset($hi[$x])){$X=$_GET["columns"][key($M)];$m=$n[$M?($X?$X["col"]:current($M)):$x];$D=($m?$c->fieldName($m,$hg):($X["fun"]?"*":$x));if($D!=""){$hg++;$Ge[$x]=$D;$d=idf_escape($x);$vd=remove_from_uri('(order|desc)[^=]*|page').'&order%5B0%5D='.urlencode($x);$Ub="&desc%5B0%5D=1";$Yg=isset($m["privileges"]["order"]);echo"<th id='th[".h(bracket_escape($x))."]'>".script("mixin(qsl('th'), {onmouseover: partial(columnMouse), onmouseout: partial(columnMouse, ' hidden')});","");if($Yg)echo'<a href="'.h($vd.($jf[0]==$d||$jf[0]==$x||(!$jf&&$Nd&&$r[0]==$d)?$Ub:'')).'">';echo apply_sql_function($X["fun"],$D);if($Yg)echo"</a>";echo"<span class='column hidden'>";if($Yg)echo"<a href='".h($vd.$Ub)."' title='".lang(60)."' class='text'>Â â†“</a>";if(!$X["fun"]&&isset($m["privileges"]["where"])){echo'<a href="#fieldset-search" title="'.lang(57).'" class="text jsonly">Â =</a>',script("qsl('a').onclick = partial(selectSearch, '".js_escape($x)."');");}echo"</span>";}$dd[$x]=$X["fun"];next($M);}}$he=array();if($_GET["modify"]){foreach($L as$K){foreach($K as$x=>$X)$he[$x]=max($he[$x],min(40,strlen(utf8_decode($X))));}}echo($Ja?"<th>".lang(251):"")."</thead>\n";if(is_ajax()){if($y%2==1&&$E%2==1)odd();ob_end_clean();}foreach($c->rowDescriptions($L,$Xc)as$Fe=>$K){$ei=unique_array($L[$Fe],$v);if(!$ei){$ei=array();foreach($L[$Fe]as$x=>$X){if(!preg_match('~^(COUNT\((\*|(DISTINCT )?`(?:[^`]|``)+`)\)|(AVG|GROUP_CONCAT|MAX|MIN|SUM)\(`(?:[^`]|``)+`\))$~',$x))$ei[$x]=$X;}}$fi="";foreach($ei as$x=>$X){if(($w=="sql"||$w=="pgsql")&&preg_match('~char|text|enum|set~',$n[$x]["type"])&&strlen($X)>64){$x=(strpos($x,'(')?$x:idf_escape($x));$x="MD5(".($w!='sql'||preg_match("~^utf8~",$n[$x]["collation"])?$x:"CONVERT($x USING ".charset($f).")").")";$X=md5($X);}$fi.="&".($X!==null?urlencode("where[".bracket_escape($x)."]")."=".urlencode($X===false?"f":$X):"null%5B%5D=".urlencode($x));}echo"<tr".odd().">".(!$r&&$M?"":"<td>".checkbox("check[]",substr($fi,1),in_array(substr($fi,1),(array)$_POST["check"])).($Nd||information_schema(DB)?"":" <a href='".h(ME."edit=".urlencode($b).$fi)."' class='edit'>".lang(252)."</a>"));foreach($K as$x=>$X){if(isset($Ge[$x])){$m=$n[$x];$X=$k->value($X,$m);if($X!=""&&(!isset($pc[$x])||$pc[$x]!=""))$pc[$x]=(is_mail($X)?$Ge[$x]:"");$z="";if(preg_match('~blob|bytea|raw|file~',$m["type"])&&$X!="")$z=ME.'download='.urlencode($b).'&field='.urlencode($x).$fi;if(!$z&&$X!==null){foreach((array)$Xc[$x]as$p){if(count($Xc[$x])==1||end($p["source"])==$x){$z="";foreach($p["source"]as$s=>$Zg)$z.=where_link($s,$p["target"][$s],$L[$Fe][$Zg]);$z=($p["db"]!=""?preg_replace('~([?&]db=)[^&]+~','\1'.urlencode($p["db"]),ME):ME).'select='.urlencode($p["table"]).$z;if($p["ns"])$z=preg_replace('~([?&]ns=)[^&]+~','\1'.urlencode($p["ns"]),$z);if(count($p["source"])==1)break;}}}if($x=="COUNT(*)"){$z=ME."select=".urlencode($b);$s=0;foreach((array)$_GET["where"]as$W){if(!array_key_exists($W["col"],$ei))$z.=where_link($s++,$W["col"],$W["val"],$W["op"]);}foreach($ei as$Rd=>$W)$z.=where_link($s++,$Rd,$W);}$X=select_value($X,$z,$m,$Fh);$t=h("val[$fi][".bracket_escape($x)."]");$Y=$_POST["val"][$fi][bracket_escape($x)];$lc=!is_array($K[$x])&&is_utf8($X)&&$L[$Fe][$x]==$K[$x]&&!$dd[$x];$Dh=preg_match('~text|lob~',$m["type"]);echo"<td id='$t'";if(($_GET["modify"]&&$lc)||$Y!==null){$md=h($Y!==null?$Y:$K[$x]);echo">".($Dh?"<textarea name='$t' cols='30' rows='".(substr_count($K[$x],"\n")+1)."'>$md</textarea>":"<input name='$t' value='$md' size='$he[$x]'>");}else{$me=strpos($X,"<i>â€¦</i>");echo" data-text='".($me?2:($Dh?1:0))."'".($lc?"":" data-warning='".h(lang(253))."'").">$X</td>";}}}if($Ja)echo"<td>";$c->backwardKeysPrint($Ja,$L[$Fe]);echo"</tr>\n";}if(is_ajax())exit;echo"</table>\n","</div>\n";}if(!is_ajax()){if($L||$E){$Ac=true;if($_GET["page"]!="last"){if($y==""||(count($L)<$y&&($L||!$E)))$ad=($E?$E*$y:0)+count($L);elseif($w!="sql"||!$Nd){$ad=($Nd?false:found_rows($R,$Z));if($ad<max(1e4,2*($E+1)*$y))$ad=reset(slow_query(count_rows($b,$Z,$Nd,$r)));else$Ac=false;}}$wf=($y!=""&&($ad===false||$ad>$y||$E));if($wf){echo(($ad===false?count($L)+1:$ad-$E*$y)>$y?'<p><a href="'.h(remove_from_uri("page")."&page=".($E+1)).'" class="loadmore">'.lang(254).'</a>'.script("qsl('a').onclick = partial(selectLoadMore, ".(+$y).", '".lang(255)."â€¦');",""):''),"\n";}}echo"<div class='footer'><div>\n";if($L||$E){if($wf){$se=($ad===false?$E+(count($L)>=$y?2:1):floor(($ad-1)/$y));echo"<fieldset>";if($w!="simpledb"){echo"<legend><a href='".h(remove_from_uri("page"))."'>".lang(256)."</a></legend>",script("qsl('a').onclick = function () { pageClick(this.href, +prompt('".lang(256)."', '".($E+1)."')); return false; };"),pagination(0,$E).($E>5?" â€¦":"");for($s=max(1,$E-4);$s<min($se,$E+5);$s++)echo pagination($s,$E);if($se>0){echo($E+5<$se?" â€¦":""),($Ac&&$ad!==false?pagination($se,$E):" <a href='".h(remove_from_uri("page")."&page=last")."' title='~$se'>".lang(257)."</a>");}}else{echo"<legend>".lang(256)."</legend>",pagination(0,$E).($E>1?" â€¦":""),($E?pagination($E,$E):""),($se>$E?pagination($E+1,$E).($se>$E+1?" â€¦":""):"");}echo"</fieldset>\n";}echo"<fieldset>","<legend>".lang(258)."</legend>";$ac=($Ac?"":"~ ").$ad;echo checkbox("all",1,0,($ad!==false?($Ac?"":"~ ").lang(150,$ad):""),"var checked = formChecked(this, /check/); selectCount('selected', this.checked ? '$ac' : checked); selectCount('selected2', this.checked || !checked ? '$ac' : checked);")."\n","</fieldset>\n";if($c->selectCommandPrint()){echo'<fieldset',($_GET["modify"]?'':' class="jsonly"'),'><legend>',lang(250),'</legend><div>
<input type="submit" value="',lang(14),'"',($_GET["modify"]?'':' title="'.lang(246).'"'),'>
</div></fieldset>
<fieldset><legend>',lang(126),' <span id="selected"></span></legend><div>
<input type="submit" name="edit" value="',lang(10),'">
<input type="submit" name="clone" value="',lang(242),'">
<input type="submit" name="delete" value="',lang(18),'">',confirm(),'</div></fieldset>
';}$Yc=$c->dumpFormat();foreach((array)$_GET["columns"]as$d){if($d["fun"]){unset($Yc['sql']);break;}}if($Yc){print_fieldset("export",lang(74)." <span id='selected2'></span>");echo html_select("format",$Yc,$ta["format"]);$uf=$c->dumpOutput();echo($uf?" ".html_select("output",$uf,$ta["output"]):"")," <input type='submit' name='export' value='".lang(74)."'>\n","</div></fieldset>\n";}$c->selectEmailPrint(array_filter($pc,'strlen'),$e);}echo"</div></div>\n";if($c->selectImportPrint()){echo"<div>","<a href='#import'>".lang(73)."</a>",script("qsl('a').onclick = partial(toggle, 'import');",""),"<span id='import' class='hidden'>: ","<input type='file' name='csv_file'> ",html_select("separator",array("csv"=>"CSV,","csv;"=>"CSV;","tsv"=>"TSV"),$ta["format"])," <input type='submit' name='import' value='".lang(73)."'>","</span>","</div>";}echo"<input type='hidden' name='token' value='$T'>\n","</form>\n",(!$r&&$M?"":script("tableCheck();"));}}}if(is_ajax()){ob_end_clean();exit;}}elseif(isset($_GET["variables"])){$P=isset($_GET["status"]);page_header($P?lang(118):lang(117));$wi=($P?show_status():show_variables());if(!$wi)echo"<p class='message'>".lang(12)."\n";else{echo"<table>\n";foreach($wi as$x=>$X){echo"<tr>","<th><code class='jush-".$w.($P?"status":"set")."'>".h($x)."</code>","<td>".h($X);}echo"</table>\n";}}elseif(isset($_GET["script"])){header("Content-Type: text/javascript; charset=utf-8");if($_GET["script"]=="db"){$oh=array("Data_length"=>0,"Index_length"=>0,"Data_free"=>0);foreach(table_status()as$D=>$R){json_row("Comment-$D",h($R["Comment"]));if(!is_view($R)){foreach(array("Engine","Collation")as$x)json_row("$x-$D",h($R[$x]));foreach($oh+array("Auto_increment"=>0,"Rows"=>0)as$x=>$X){if($R[$x]!=""){$X=format_number($R[$x]);json_row("$x-$D",($x=="Rows"&&$X&&$R["Engine"]==($w=="pgsql"?"table":"InnoDB")?"~ $X":$X));if(isset($oh[$x]))$oh[$x]+=($R["Engine"]!="InnoDB"||$x!="Data_free"?$R[$x]:0);}elseif(array_key_exists($x,$R))json_row("$x-$D");}}}foreach($oh as$x=>$X)json_row("sum-$x",format_number($X));json_row("");}elseif($_GET["script"]=="kill")$f->query("KILL ".number($_POST["kill"]));else{foreach(count_tables($c->databases())as$j=>$X){json_row("tables-$j",$X);json_row("size-$j",db_size($j));}json_row("");}exit;}else{$yh=array_merge((array)$_POST["tables"],(array)$_POST["views"]);if($yh&&!$l&&!$_POST["search"]){$I=true;$C="";if($w=="sql"&&$_POST["tables"]&&count($_POST["tables"])>1&&($_POST["drop"]||$_POST["truncate"]||$_POST["copy"]))queries("SET foreign_key_checks = 0");if($_POST["truncate"]){if($_POST["tables"])$I=truncate_tables($_POST["tables"]);$C=lang(259);}elseif($_POST["move"]){$I=move_tables((array)$_POST["tables"],(array)$_POST["views"],$_POST["target"]);$C=lang(260);}elseif($_POST["copy"]){$I=copy_tables((array)$_POST["tables"],(array)$_POST["views"],$_POST["target"]);$C=lang(261);}elseif($_POST["drop"]){if($_POST["views"])$I=drop_views($_POST["views"]);if($I&&$_POST["tables"])$I=drop_tables($_POST["tables"]);$C=lang(262);}elseif($w!="sql"){$I=($w=="sqlite"?queries("VACUUM"):apply_queries("VACUUM".($_POST["optimize"]?"":" ANALYZE"),$_POST["tables"]));$C=lang(263);}elseif(!$_POST["tables"])$C=lang(9);elseif($I=queries(($_POST["optimize"]?"OPTIMIZE":($_POST["check"]?"CHECK":($_POST["repair"]?"REPAIR":"ANALYZE")))." TABLE ".implode(", ",array_map('idf_escape',$_POST["tables"])))){while($K=$I->fetch_assoc())$C.="<b>".h($K["Table"])."</b>: ".h($K["Msg_text"])."<br>";}queries_redirect(substr(ME,0,-1),$C,$I);}page_header(($_GET["ns"]==""?lang(33).": ".h(DB):lang(76).": ".h($_GET["ns"])),$l,true);if($c->homepage()){if($_GET["ns"]===""){echo"<h3 id='schemas'>".lang(264)."</h3>\n";$Cg=schemas();if(!$Cg)echo"<p class='message'>".lang(265)."\n";else{echo"<div class='scrollable'>\n","<table class='nowrap'>\n",'<thead><tr class="wrap">','<th>',lang(76),"</th>",'</tr></thead>';foreach($Cg as$D)echo"<tr",odd(),">","<th><a href='",h(ME),"ns=".urlencode($D),"' title='",lang(266),"'>".h($D)."</a></th>","</tr>";echo'</table></div>';}}else{echo"<h3 id='tables-views'>".lang(267)."</h3>\n";$xh=tables_list();if(!$xh)echo"<p class='message'>".lang(9)."\n";else{echo"<form action='' method='post'>\n";if(support("table")){echo"<fieldset><legend>".lang(268)." <span id='selected2'></span></legend><div>","<input type='search' name='query' value='".h($_POST["query"])."'>",script("qsl('input').onkeydown = partialArg(bodyKeydown, 'search');","")," <input type='submit' name='search' value='".lang(57)."'>\n";if($c->operator_regexp!==null){echo"<p><label><input type='checkbox' name='regexp' value='1'".(empty($_POST['regexp'])?'':' checked').'>'.lang(269).'</label>',doc_link(['sql'=>'regexp.html','pgsql'=>'functions-matching.html#FUNCTIONS-POSIX-REGEXP','elastic'=>"regexp-syntax.html"])."</p>\n";}echo"</div></fieldset>\n";if($_POST["search"]&&$_POST["query"]!=""){$_GET["where"][0]["op"]=$c->operator_regexp!==null&&!empty($_POST['regexp'])?$c->operator_regexp:$c->operator_like;search_tables();}}echo"<div class='scrollable'>\n","<table cellspacing='0' class='nowrap checkable'>\n",script("mixin(qsl('table'), {onclick: tableClick, ondblclick: partialArg(tableClick, true)});"),'<thead><tr class="wrap">','<td><input id="check-all" type="checkbox" class="jsonly">'.script("gid('check-all').onclick = partial(formCheck, /^(tables|views)\[/);",""),'<th>'.lang(77),'<td>'.lang(270).'','<td>'.lang(122).'','<td>'.lang(271).doc_link(array('pgsql'=>'functions-admin.html#FUNCTIONS-ADMIN-DBOBJECT',)),'<td>'.lang(272).doc_link(array('pgsql'=>'functions-admin.html#FUNCTIONS-ADMIN-DBOBJECT')),'<td>'.lang(273).'','<td>'.lang(47).'','<td>'.lang(274).doc_link(array('pgsql'=>'catalog-pg-class.html#CATALOG-PG-CLASS',)),(support("comment")?'<td>'.lang(46).doc_link(array('pgsql'=>'functions-info.html#FUNCTIONS-INFO-COMMENT-TABLE')):''),"</thead>\n";$S=0;foreach($xh as$D=>$U){$zi=($U!==null&&!preg_match('~table|sequence~i',$U));$t=h("Table-".$D);echo'<tr'.odd().'><td>'.checkbox(($zi?"views[]":"tables[]"),$D,in_array($D,$yh,true),"","","",$t),'<th>'.(support("table")||support("indexes")?"<a href='".h(ME)."table=".urlencode($D)."' title='".lang(38)."' id='$t'>".h($D).'</a>':h($D));if($zi){echo'<td colspan="6"><a href="'.h(ME)."view=".urlencode($D).'" title="'.lang(39).'">'.(preg_match('~materialized~i',$U)?lang(129):lang(130)).'</a>','<td align="right"><a href="'.h(ME)."select=".urlencode($D).'" title="'.lang(37).'">?</a>';}else{foreach(array("Engine"=>array(),"Collation"=>array(),"Data_length"=>array("create",lang(40)),"Index_length"=>array("indexes",lang(133)),"Data_free"=>array("edit",lang(41)),"Auto_increment"=>array("auto_increment=1&create",lang(40)),"Rows"=>array("select",lang(37)),)as$x=>$z){$t=" id='$x-".h($D)."'";echo($z?"<td align='right'>".(support("table")||$x=="Rows"||(support("indexes")&&$x!="Data_length")?"<a href='".h(ME."$z[0]=").urlencode($D)."'$t title='$z[1]'>?</a>":"<span$t>?</span>"):"<td id='$x-".h($D)."'>");}$S++;}echo(support("comment")?"<td id='Comment-".h($D)."'>":"");}echo"<tr><td><th>".lang(243,count($xh)),"<td>".h($w=="sql"?$f->result("SELECT @@default_storage_engine"):""),"<td>".h(db_collation(DB,collations()));foreach(array("Data_length","Index_length","Data_free")as$x)echo"<td align='right' id='sum-$x'>";echo"</table>\n","</div>\n";if(!information_schema(DB)){echo"<div class='footer'><div>\n";$ti="<input type='submit' value='".lang(275)."'> ".help_script("VACUUM");$gf="<input type='submit' name='optimize' value='".lang(276)."'> ".help_script($w=="sql"?"OPTIMIZE TABLE":"VACUUM OPTIMIZE");echo"<fieldset><legend>".lang(126)." <span id='selected'></span></legend><div>".($w=="sqlite"?$ti:($w=="pgsql"?$ti.$gf:($w=="sql"?"<input type='submit' value='".lang(277)."'> ".help_script("ANALYZE TABLE").$gf."<input type='submit' name='check' value='".lang(278)."'> ".help_script("CHECK TABLE")."<input type='submit' name='repair' value='".lang(279)."'> ".help_script("REPAIR TABLE"):"")))."<input type='submit' name='truncate' value='".lang(280)."'> ".help_script($w=="sqlite"?"DELETE":("TRUNCATE".($w=="pgsql"?"":" TABLE"))).confirm()."<input type='submit' name='drop' value='".lang(127)."'>".help_script("DROP TABLE").confirm()."\n";$i=(support("scheme")?$c->schemas():$c->databases());if(count($i)!=1&&$w!="sqlite"){$j=(isset($_POST["target"])?$_POST["target"]:(support("scheme")?$_GET["ns"]:DB));echo"<p>".lang(281).": ",($i?html_select("target",$i,$j):'<input name="target" value="'.h($j).'" autocapitalize="off">')," <input type='submit' name='move' value='".lang(282)."'>",(support("copy")?" <input type='submit' name='copy' value='".lang(283)."'> ".checkbox("overwrite",1,$_POST["overwrite"],lang(284)):""),"\n";}echo"<input type='hidden' name='all' value=''>";echo script("qsl('input').onclick = function () { selectCount('selected', formChecked(this, /^(tables|views)\[/));".(support("table")?" selectCount('selected2', formChecked(this, /^tables\[/) || $S);":"")." }"),"<input type='hidden' name='token' value='$T'>\n","</div></fieldset>\n","</div></div>\n";}echo"</form>\n",script("tableCheck();");}echo'<p class="links"><a href="'.h(ME).'create=">'.lang(75)."</a>\n",(support("view")?'<a href="'.h(ME).'view=">'.lang(200)."</a>\n":"");if(support("routine")){echo"<h3 id='routines'>".lang(142)."</h3>\n";$zg=routines();if($zg){$pb=$zg[0]["ROUTINE_COMMENT"]!==null;echo"<table>\n",'<thead><tr>','<th>',lang(178),'</th><td>',lang(45),'</td><td>',lang(217),"</td>";if($pb)echo"<td>",lang(46),"</td>";echo"<td></td>","</tr></thead>\n";odd('');foreach($zg as$K){$D=($K["SPECIFIC_NAME"]==$K["ROUTINE_NAME"]?"":"&name=".urlencode($K["ROUTINE_NAME"]));echo'<tr',odd(),'>','<th><a href="',h(ME.($K["ROUTINE_TYPE"]!="PROCEDURE"?'callf=':'call=').urlencode($K["SPECIFIC_NAME"]).$D),'">',h($K["ROUTINE_NAME"]),'</a></th>','<td>',h($K["ROUTINE_TYPE"]),'</td>','<td>',h($K["DTD_IDENTIFIER"]),'</td>';if($pb)echo'<td>',shorten_utf8(preg_replace('~\s{2,}~'," ",trim($K["ROUTINE_COMMENT"])),50),'</td>';echo'<td><a href="'.h(ME.($K["ROUTINE_TYPE"]!="PROCEDURE"?'function=':'procedure=').urlencode($K["SPECIFIC_NAME"]).$D).'">'.lang(136)."</a></td>";}echo"</table>\n";}echo'<p class="links">',(support("procedure")?'<a href="'.h(ME).'procedure=">'.lang(216).'</a>':''),'<a href="'.h(ME).'function=">'.lang(215)."</a>\n";}if(support("sequence")){echo"<h3 id='sequences'>".lang(285)."</h3>\n";$Mg=get_vals("SELECT sequence_name FROM information_schema.sequences WHERE sequence_schema = current_schema() ORDER BY sequence_name");if($Mg){echo"<table>\n","<thead><tr><th>",lang(178),"</th><td></td></tr></thead>\n";odd('');foreach($Mg as$X)echo"<tr",odd(),">","<th>",h($X),"</th>","<td><a href='",h(ME),"sequence=",urlencode($X),"'>",lang(136),"</a></td>\n";echo"</table>\n";}echo"<p class='links'><a href='".h(ME)."sequence='>".lang(222)."</a>\n";}if(support("type")){echo"<h3 id='user-types'>".lang(23)."</h3>\n";$ri=types();if($ri){echo"<table>\n","<thead><tr><th>",lang(178),"</th><td></td></tr></thead>\n";odd('');foreach($ri as$X)echo"<tr",odd(),">","<th>",h($X),"</th>","<td><a href='",h(ME),"type=",urlencode($X),"'>",lang(136),"</a></td>\n";echo"</table>\n";}echo"<p class='links'><a href='".h(ME)."type='>".lang(226)."</a>\n";}if($xh)echo script("ajaxSetHtml('".js_escape(ME)."script=db');");}}}page_footer();